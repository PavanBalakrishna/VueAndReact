{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/aws-sdk/lib/core.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/aws-sdk/lib/util.js","webpack:///./node_modules/crypto-js/core.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/js-cookie/src/js.cookie.js","webpack:///./node_modules/crypto-js/hmac-sha256.js","webpack:///./node_modules/aws-sdk/lib/model/shape.js","webpack:///./node_modules/aws-sdk/clients/sts.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest.js","webpack:///./node_modules/aws-sdk/lib/browserHashUtils.js","webpack:///./node_modules/aws-sdk/lib/browser_loader.js","webpack:///./node_modules/aws-sdk/lib/protocol/json.js","webpack:///./node_modules/aws-sdk/lib/json/builder.js","webpack:///./node_modules/aws-sdk/lib/json/parser.js","webpack:///./node_modules/aws-sdk/lib/protocol/helpers.js","webpack:///./node_modules/jmespath/jmespath.js","webpack:///./node_modules/crypto-js/sha256.js","webpack:///./node_modules/crypto-js/enc-base64.js","webpack:///./node_modules/crypto-js/lib-typedarrays.js","webpack:///./node_modules/aws-sdk/lib/protocol/query.js","webpack:///./node_modules/aws-sdk/lib/model/collection.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest_json.js","webpack:///./node_modules/aws-sdk/lib/protocol/rest_xml.js","webpack:///./node_modules/aws-sdk/lib/model/api.js","webpack:///./node_modules/aws-sdk/lib/model/operation.js","webpack:///./node_modules/aws-sdk/lib/model/paginator.js","webpack:///./node_modules/aws-sdk/lib/model/resource_waiter.js","webpack:///./node_modules/aws-sdk/lib/sequential_executor.js","webpack:///./node_modules/aws-sdk/lib/credentials.js","webpack:///./node_modules/aws-sdk/lib/credentials/credential_provider_chain.js","webpack:///./node_modules/aws-sdk/lib/http.js","webpack:///./node_modules/aws-sdk/lib/signers/v3.js","webpack:///./node_modules/uuid/lib/rng-browser.js","webpack:///./node_modules/uuid/lib/bytesToUuid.js","webpack:///./node_modules/querystring-es3/index.js","webpack:///./app.js","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/crypto-js/hmac.js","webpack:///./node_modules/aws-sdk/browser.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./node_modules/aws-sdk/lib/query/query_param_serializer.js","webpack:///./node_modules/aws-sdk/lib/xml/builder.js","webpack:///./node_modules/aws-sdk/lib/xml/xml-node.js","webpack:///./node_modules/aws-sdk/lib/xml/escape-attribute.js","webpack:///./node_modules/aws-sdk/lib/xml/xml-text.js","webpack:///./node_modules/aws-sdk/lib/xml/escape-element.js","webpack:///./node_modules/aws-sdk/lib/api_loader.js","webpack:///./node_modules/aws-sdk/vendor/endpoint-cache/index.js","webpack:///./node_modules/aws-sdk/vendor/endpoint-cache/utils/LRU.js","webpack:///./node_modules/aws-sdk/lib/service.js","webpack:///./node_modules/aws-sdk/lib/region_config.js","webpack:///./node_modules/aws-sdk/lib/config.js","webpack:///./node_modules/aws-sdk/lib/event_listeners.js","webpack:///./node_modules/aws-sdk/lib/discover_endpoint.js","webpack:///./node_modules/util/util.js","webpack:///./node_modules/util/support/isBufferBrowser.js","webpack:///./node_modules/util/node_modules/inherits/inherits_browser.js","webpack:///./node_modules/aws-sdk/lib/request.js","webpack:///./node_modules/aws-sdk/lib/state_machine.js","webpack:///./node_modules/aws-sdk/lib/response.js","webpack:///./node_modules/aws-sdk/lib/resource_waiter.js","webpack:///./node_modules/aws-sdk/lib/signers/request_signer.js","webpack:///./node_modules/aws-sdk/lib/signers/v2.js","webpack:///./node_modules/aws-sdk/lib/signers/v3https.js","webpack:///./node_modules/aws-sdk/lib/signers/v4.js","webpack:///./node_modules/aws-sdk/lib/signers/v4_credentials.js","webpack:///./node_modules/aws-sdk/lib/signers/s3.js","webpack:///./node_modules/aws-sdk/lib/signers/presign.js","webpack:///./node_modules/aws-sdk/lib/param_validator.js","webpack:///./node_modules/uuid/index.js","webpack:///./node_modules/uuid/v1.js","webpack:///./node_modules/uuid/v4.js","webpack:///./node_modules/aws-sdk/lib/browserCryptoLib.js","webpack:///./node_modules/aws-sdk/lib/browserHmac.js","webpack:///./node_modules/aws-sdk/lib/browserMd5.js","webpack:///./node_modules/aws-sdk/lib/browserSha1.js","webpack:///./node_modules/aws-sdk/lib/browserSha256.js","webpack:///./node_modules/url/url.js","webpack:///./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack:///(webpack)/buildin/module.js","webpack:///./node_modules/url/util.js","webpack:///./node_modules/querystring-es3/decode.js","webpack:///./node_modules/querystring-es3/encode.js","webpack:///./node_modules/aws-sdk/lib/realclock/browserClock.js","webpack:///./node_modules/aws-sdk/lib/event-stream/buffered-create-event-stream.js","webpack:///./node_modules/aws-sdk/lib/event-stream/event-message-chunker.js","webpack:///./node_modules/aws-sdk/lib/event-stream/parse-event.js","webpack:///./node_modules/aws-sdk/lib/event-stream/parse-message.js","webpack:///./node_modules/aws-sdk/lib/event-stream/int64.js","webpack:///./node_modules/aws-sdk/lib/event-stream/split-message.js","webpack:///./node_modules/aws-sdk/lib/credentials/temporary_credentials.js","webpack:///./node_modules/aws-sdk/lib/services/sts.js","webpack:///./node_modules/aws-sdk/lib/config_regional_endpoint.js","webpack:///./node_modules/aws-sdk/lib/credentials/chainable_temporary_credentials.js","webpack:///./node_modules/aws-sdk/lib/credentials/web_identity_credentials.js","webpack:///./node_modules/aws-sdk/lib/credentials/cognito_identity_credentials.js","webpack:///./node_modules/aws-sdk/clients/cognitoidentity.js","webpack:///./node_modules/aws-sdk/lib/services/cognitoidentity.js","webpack:///./node_modules/aws-sdk/lib/credentials/saml_credentials.js","webpack:///./node_modules/aws-sdk/lib/xml/browser_parser.js","webpack:///./node_modules/aws-sdk/lib/http/xhr.js","webpack:///./node_modules/events/events.js","webpack:///./node_modules/amazon-cognito-identity-js/es/AuthenticationDetails.js","webpack:///./node_modules/amazon-cognito-identity-js/es/BigInteger.js","webpack:///./node_modules/amazon-cognito-identity-js/es/AuthenticationHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoJwtToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoAccessToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoIdToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoRefreshToken.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserSession.js","webpack:///./node_modules/amazon-cognito-identity-js/es/DateHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserAttribute.js","webpack:///./node_modules/amazon-cognito-identity-js/es/StorageHelper.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUser.js","webpack:///./node_modules/amazon-cognito-identity-js/es/UserAgent.js","webpack:///./node_modules/amazon-cognito-identity-js/es/Client.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CognitoUserPool.js","webpack:///./node_modules/amazon-cognito-identity-js/es/CookieStorage.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","AWS","util","toString","update","VERSION","Signers","Protocol","Json","Query","Rest","RestJson","RestXml","XML","Builder","Parser","JSON","Model","Api","Operation","Shape","Paginator","ResourceWaiter","apiLoader","EndpointCache","events","SequentialExecutor","memoizedProperty","config","endpointCacheSize","base64","ieee754","isArray","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","that","length","RangeError","Uint8Array","__proto__","arg","encodingOrOffset","this","Error","allocUnsafe","from","TypeError","ArrayBuffer","array","byteOffset","byteLength","undefined","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","actual","write","slice","fromString","obj","isBuffer","len","checked","copy","buffer","val","type","data","fromObject","assertSize","size","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","start","end","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","b","bidirectionalIndexOf","dir","isNaN","arrayIndexOf","indexOf","lastIndexOf","arr","indexSize","arrLength","valLength","String","read","buf","readUInt16BE","foundIndex","found","j","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","str","byteArray","push","charCodeAt","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","fromByteArray","Math","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","fromCharCode","apply","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","global","foo","subarray","e","typedArraySupport","poolSize","_augment","species","configurable","fill","allocUnsafeSlow","_isBuffer","compare","a","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","max","match","join","target","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","Array","_arr","ret","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","code","INVALID_BASE64_RE","Infinity","leadSurrogate","toByteArray","trim","replace","stringtrim","base64clean","src","dst","environment","engine","isBrowser","navigator","userAgent","process","platform","version","env","AWS_EXECUTION_ENV","agent","uriEscape","output","encodeURIComponent","escape","ch","toUpperCase","uriEscapePath","parts","arrayEach","split","part","urlParse","url","parse","urlFormat","format","queryStringParse","qs","querystring","queryParamsToString","params","items","sortedKeys","keys","sort","ename","result","vals","item","readFileSync","path","encode","error","toBuffer","decode","toStream","readable","stream","_read","buffers","lstatSync","upperFirst","lowerFirst","ini","currentSection","map","line","section","fn","noop","callback","err","makeAsync","expectedArgs","args","pop","date","getDate","systemClockOffset","Date","getTime","iso8601","toISOString","rfc822","toUTCString","unixTimestamp","formatter","parseTimestamp","crypto","crc32Table","crc32","tbl","crc","hmac","digest","lib","createHmac","md5","hash","sha256","algorithm","createHash","sliceFn","arraySliceFn","on","chunk","FileReader","index","reader","onerror","onload","_continueReading","back","readAsArrayBuffer","abort","each","iterFunction","idx","obj1","obj2","merge","dupe","isEmpty","prop","webkitSlice","mozSlice","isType","typeName","options","originalError","message","stack","writable","time","inherit","klass","features","newObject","ctor","constructor","__super__","mixin","hideProperties","props","isValue","opts","cachedValue","hoistPayloadMember","resp","req","request","operationName","operation","service","api","operations","payload","hasEventOutput","payloadMember","members","responsePayload","computeSha256","body","done","isNode","Stream","fs","settings","createReadStream","sha","isClockSkewed","serverTime","abs","applyClockOffset","extractRequestId","requestId","httpResponse","headers","ResponseMetadata","RequestId","addPromises","constructors","PromiseDependency","deletePromises","getPromisesDependency","Promise","ind","deletePromisesFromClass","addPromisesToClass","promisifyMethod","methodName","self","resolve","reject","isDualstackAvailable","metadata","serviceIdentifier","dualstackAvailable","calculateRetryDelay","retryCount","retryDelayOptions","customBackoff","base","random","handleRequestWithRetries","httpRequest","cb","http","HttpClient","getInstance","httpOptions","errCallback","maxRetries","retryable","delay","setTimeout","sendRequest","retryAfter","handleRequest","statusCode","defer","uuid","v4","convertPayloadToString","rules","nextTick","setImmediate","getRequestPayloadShape","input","getProfilesFromSharedConfig","iniLoader","filename","profiles","profilesFromConfig","configOptInEnv","loadFrom","isConfig","sharedConfigFileEnv","profilesFromCreds","sharedCredentialsFileEnv","profileNames","ARN","validate","arn","matched","partition","region","accountId","resource","build","arnObject","defaultProfile","imdsDisabledEnv","CryptoJS","F","subtype","C","C_lib","Base","extend","overrides","mixIn","init","$super","instance","properties","propertyName","clone","WordArray","words","sigBytes","encoder","Hex","stringify","wordArray","thisWords","thatWords","thisSigBytes","thatSigBytes","clamp","thatByte","ceil","nBytes","rcache","m_w","m_z","mask","_r","C_enc","enc","hexChars","bite","hexStr","hexStrLength","Latin1","latin1Chars","latin1Str","latin1StrLength","Utf8","decodeURIComponent","utf8Str","unescape","BufferedBlockAlgorithm","reset","_data","_nDataBytes","_append","_process","doFlush","dataWords","dataSigBytes","blockSize","nBlocksReady","nWordsReady","_minBufferSize","nBytesReady","_doProcessBlock","processedWords","splice","C_algo","Hasher","cfg","_doReset","messageUpdate","finalize","_doFinalize","_createHelper","hasher","_createHmacHelper","HMAC","algo","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","title","browser","argv","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","umask","factory","OldCookies","window","Cookies","noConflict","attributes","converter","document","defaults","expires","test","stringifiedAttributes","attributeName","cookie","json","jar","cookies","charAt","getJSON","remove","withConverter","HmacSHA256","Collection","shape","memberName","enum","pattern","location","xmlName","queryName","locationName","streaming","isStreaming","requiresLength","isComposite","Boolean","idempotencyToken","jsonvalue","sensitive","eventstream","event","eventpayload","eventheader","timestampFormat","isTimestampFormatSet","endpointdiscoveryid","hostLabel","documentation","documentationUrl","xmlAttribute","toWireFormat","toType","CompositeShape","flattened","StructureShape","requiredMap","firstInit","isShape","member","xmlOrder","memberNames","iLen","isEventPayload","eventHeaderMemberNames","isEventHeader","required","resultWrapper","xmlNamespace","prefix","uri","ListShape","oldName","MapShape","StringShape","nullLessProtocols","protocol","isJsonValue","BinaryShape","isSensitive","secureBuf","Base64Shape","BooleanShape","normalizedTypes","character","double","long","short","biginteger","bigdecimal","blob","types","parseFloat","refShape","shapes","filteredKeys","filter","InlineShape","origType","Service","services","STS","defineService","model","paginators","pagination","g","Function","populateHostPrefix","generateURI","endpointPath","operationPath","queryString","queryStringSet","paramValue","regex","RegExp","_","plus","buildRequest","method","httpMethod","populateMethod","endpoint","httpPath","populateURI","memberValue","populateHeaders","extractError","extractData","k","v","header","isLocationName","viewStrings","isEmptyData","convertToBuffer","BYTES_PER_ELEMENT","realClock","createEventStream","JsonBuilder","JsonParser","targetPrefix","jsonVersion","builder","__type","Message","statusMessage","convertResponseTypes","parser","translate","structure","struct","memberShape","translateStructure","translateMap","translateList","translateScalar","shapeMembers","hostPrefixEnabled","hostname","labels","hostPattern","operationModel","isEndpointOperation","endpointOperation","endpointDiscoveryRequired","hasEndpointDiscover","hostPrefix","hostPrefixNotation","expandHostPrefix","host","prependEndpointPrefix","label","isObject","strictDeepEqual","first","second","keysSeen","key2","isFalse","trimLeft","TYPE_NUMBER","TYPE_STRING","basicTokens","operatorStartToken","skipChars","isNum","Lexer","tokenize","identifier","token","tokens","_current","_consumeUnquotedIdentifier","_consumeNumber","_consumeLBracket","_consumeQuotedIdentifier","_consumeRawStringLiteral","literal","_consumeLiteral","_consumeOperator","maxLength","current","startingChar","literalString","_looksLikeJSON","ex","bindingPower","TreeInterpreter","runtime","Runtime","interpreter","_interpreter","functionTable","_func","_functionAbs","_signature","avg","_functionAvg","_functionCeil","contains","_functionContains","_functionEndsWith","_functionFloor","_functionLength","_functionMap","_functionMax","_functionMerge","variadic","_functionMaxBy","sum","_functionSum","_functionStartsWith","_functionMin","_functionMinBy","_functionType","_functionKeys","values","_functionValues","_functionSort","_functionSortBy","_functionJoin","reverse","_functionReverse","_functionToArray","_functionToString","_functionToNumber","_functionNotNull","expression","_loadTokens","ast","_lookahead","_lookaheadToken","rbp","leftToken","_advance","left","nud","currentToken","led","number","right","node","children","Not","_parseProjectionRHS","Star","_parseMultiselectHash","Flatten","_parseIndexExpression","_projectIfSlice","_parseMultiselectList","Expref","_match","_errorToken","tokenName","Dot","_parseDotRHS","Pipe","Or","And","condition","Filter","_parseComparator","tokenType","_parseSliceExpression","indexExpr","comparator","lookahead","expressions","keyToken","keyName","pairs","identifierTypes","search","visit","field","collected","sliceParams","computed","computeSliceParams","stop","step","objValues","filtered","finalResults","original","merged","child","resolvedArgs","callFunction","refNode","jmespathType","arrayLength","stepValueNegative","capSliceRange","actualValue","functionEntry","_validateArgs","signature","pluralized","currentSpec","actualType","typeMatched","_getTypeName","_typeMatches","expected","argValue","searchStr","suffix","originalStr","reversedStr","reversedArray","inputArray","mapped","exprefNode","elements","maxElement","localeCompare","minElement","listToSum","joinChar","convertedValue","sortedArray","requiredType","decorated","exprA","exprB","maxRecord","resolvedArray","keyFunction","createKeyFunction","maxNumber","minRecord","minNumber","allowedTypes","msg","compile","H","K","isPrime","sqrtN","sqrt","factor","getFractionalBits","nPrime","W","SHA256","_hash","M","f","h","gamma0x","gamma0","gamma1x","gamma1","maj","sigma0","t1","nBitsTotal","nBitsLeft","Base64","_map","base64Chars","triplet","paddingChar","base64Str","base64StrLength","reverseMap","_reverseMap","paddingIndex","bits1","bits2","parseLoop","superInit","typedArray","Int8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","typedArrayByteLength","QueryParamSerializer","Version","apiVersion","Action","serialize","Code","Errors","origRules","tmp","_XAMZRequestId","requestIdShape","memoize","nameTr","iterable","id","applyContentTypeHeader","isBinary","payloadShape","populateBody","isEventStream","streamsApiVersion","rootElement","toXML","endpointPrefix","signingName","globalEndpoint","signatureVersion","serviceAbbreviation","serviceFullName","serviceId","xmlNoDefaultLists","endpointoperation","endpointdiscovery","hasRequiredEndpointDiscovery","paginator","waiters","waiter","requestUri","authtype","errors","idempotentMembers","isIdempotent","topLevelShape","hasEventStream","input_token","limit_key","more_results","output_token","result_key","forEach","_events","eventName","listener","toHead","unshift","onAsync","_isAsync","position","eventArgs","doneCallback","count","callListeners","prevError","callNextListener","_haltHandlersOnError","shift","addListeners","callbacks","addNamedListener","addNamedAsyncListener","addNamedListeners","Credentials","expired","expireTime","refreshCallbacks","creds","credentials","accessKeyId","secretAccessKey","sessionToken","expiryWindow","needsRefresh","currentTime","adjustedTime","refresh","coalesceRefresh","sync","load","getPromise","refreshPromise","CredentialProviderChain","providers","defaultProviders","resolveCallbacks","resolveNext","provider","getErr","resolvePromise","Endpoint","sslEnabled","port","HttpRequest","_userAgent","setUserAgent","getUserAgentHeaderName","appendToUserAgent","agentPartial","getUserAgent","pathname","query","updateEndpoint","endpointStr","newEndpoint","HttpResponse","createUnbufferedStream","singleton","V3","RequestSigner","addAuthorization","datetime","authorization","signedHeaders","headersToSign","canonicalHeaders","stringToSign","getRandomValues","msCrypto","rnds8","rnds","byteToHex","bth","AmazonCognitoIdentity","authenticationDetails","AuthenticationDetails","Username","Password","userData","Pool","CognitoUserPool","UserPoolId","ClientId","cognitoUser","CognitoUser","authenticateUser","onSuccess","session","accessToken","getAccessToken","getJwtToken","refreshToken","getRefreshToken","getToken","idToken","getIdToken","console","log","onFailure","alert","b64","lens","getLens","validLen","placeHoldersLen","Arr","_byteLength","curByte","revLookup","uint8","extraBytes","len2","encodeChunk","lookup","num","isLE","mLen","eLen","eMax","eBias","nBits","NaN","rt","LN2","_hasher","hasherBlockSize","hasherBlockSizeBytes","oKey","_oKey","iKey","_iKey","oKeyWords","iKeyWords","innerHash","Timeout","clearFn","_id","_clearFn","scope","setInterval","clearInterval","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","handle","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","port2","createElement","documentElement","script","onreadystatechange","removeChild","appendChild","source","addEventListener","attachEvent","task","ucfirst","isQueryName","serializeStructure","serializeMember","memberRules","serializeList","valueName","serializeMap","XmlNode","XmlText","XmlBuilder","xml","isXmlAttribute","addAttribute","element","addChildNode","applyNamespaces","xmlKey","xmlValue","entry","entryKey","entryValue","serializeScalar","isRoot","xmlNamespaceUri","xmlNamespacePrefix","noEmpty","escapeAttribute","removeAttribute","hasChildren","xmlText","attributeNames","attribute","escapeElement","svc","LRU_1","maxSize","cache","LRUCache","put","keyString","getKeyString","endpointRecord","populateValue","now","records","Expire","identifiers","identifierNames","identifierName","endpoints","Address","CachePeriodInMinutes","empty","LinkedListNode","nodeMap","sizeLimit","prependToList","headerNode","prev","next","tailNode","removeFromTail","prevNode","detachFromList","key_1","newNode","regionConfig","clientCount","loadServiceClass","ServiceClass","originalConfig","_clientId","initialize","svcConfig","Config","validateService","configureEndpoint","endpointFromTemplate","setEndpoint","addDefaultMonitoringListeners","clientSideMonitoring","_clientSideMonitoring","publisher","eventHandler","serviceConfig","apiConfig","defineServiceApi","apiVersions","getLatestServiceClass","getLatestServiceVersion","selectedVersion","defaultRetryCount","customizeRequests","customRequestHandler","makeRequest","Request","addAllRequestListeners","attachMonitoringEmitter","send","makeUnauthenticatedRequest","toUnauthenticated","waitFor","state","wait","EventListeners","Core","serviceInterface","CorePost","paramValidation","VALIDATE_PARAMETERS","logger","Logger","setupRequestListeners","apiCallEvent","monitoringEvent","Type","Region","MaxRetriesExceeded","UserAgent","response","FinalHttpStatusCode","FinalAwsException","FinalAwsExceptionMessage","FinalSdkException","FinalSdkExceptionMessage","apiAttemptEvent","Fqdn","HttpStatusCode","_unAuthenticated","AccessKey","SessionToken","XAmznRequestId","XAmzRequestId","XAmzId2","attemptFailEvent","AwsException","AwsExceptionMessage","SdkException","SdkExceptionMessage","attemptTimestamp","attemptStartRealTime","attemptLatency","callStartRealTime","callTimestamp","attemptCount","round","Timestamp","AttemptLatency","AttemptCount","latency","Latency","getSignerClass","getVersion","successfulResponse","numRetries","retryDelays","retryableError","timeoutError","networkingError","expiredCredentialsError","throttledError","clockSkewError","getSkewCorrectedDate","newServerTime","paginationConfig","throwException","defineMethods","_serviceMap","addVersions","Publisher","publisherConfig","configProvider","enabled","superclass","setApi","isApi","hasService","attachOn","baseClass","applyConfig","regionPrefix","generateRegionPrefix","derivedKeys","patterns","useDualstack","isGlobalEndpoint","getEndpointSuffix","regionRegexes","regexes","regionPattern","dnsSuffix","PromisesDependency","extractCredentials","getCredentials","finish","credError","credentialProvider","allowUnknownKeys","loadFromPath","clear","fileSystemCreds","FileSystemCredentials","chain","defaultValue","maxRedirects","s3ForcePathStyle","s3BucketEndpoint","s3DisableBodySigning","s3UsEast1RegionalEndpoint","s3UseArnRegion","computeChecksums","correctClockSkew","customUserAgent","dynamoDbCrc32","signatureCache","useAccelerateEndpoint","endpointDiscoveryEnabled","stsRegionalEndpoints","setPromisesDependency","dep","S3","ManagedUpload","DISCOVER_ENDPOINT","discoverEndpoint","add","addAsync","validation","ParamValidator","haltHandlersOnError","V4","getOperationAuthtype","signer","setServiceClientId","signedAt","httpResp","didCallback","errCode","executeSend","_abortCallback","numBytes","dateHeader","total","progress","loaded","redirect","redirectCount","retryDelay","willRetry","errno","delta","startTime","ansi","isTTY","status","censoredParams","filterSensitiveLog","inputShape","subShapeName","subShape","buildMessage","endpointDiscoveryEnabledEnvs","getCacheKey","marshallCustomIdentifiers","marshallCustomIdentifiersHelper","endpointDiscoveryId","optionalDiscoverEndpoint","cacheKey","endpointCache","endpointRequest","Identifiers","addApiVersionHeader","RETRY_CHECK","Endpoints","requestQueue","requiredDiscoverEndpoint","cacheKeyStr","pendingRequests","requestContext","invalidateCachedEndpoints","isFalsy","client","_originalConfig","hasCustomEndpoint","isPresigned","isEndpointDiscoveryRequired","isEnabled","configFile","sharedFileConfig","AWS_PROFILE","endpoint_discovery_enabled","resolveEndpointDiscoveryConfig","className","invalidateCachedEndpoint","getOwnPropertyDescriptors","descriptors","getOwnPropertyDescriptor","formatRegExp","isString","objects","isNull","deprecate","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","ctx","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","isUndefined","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","isFunction","primitive","simple","isNumber","formatPrimitive","visibleKeys","arrayToHash","getOwnPropertyNames","isError","formatError","isRegExp","isDate","braces","formatProperty","formatArray","reduce","cur","numLinesEst","reduceToSingleString","desc","ar","re","objectToString","pad","debuglog","NODE_DEBUG","pid","isNullOrUndefined","isSymbol","isPrimitive","months","timestamp","getHours","getMinutes","getSeconds","getMonth","inherits","origin","kCustomPromisifiedSymbol","callbackifyOnRejected","reason","newReason","promisify","promiseResolve","promiseReject","promise","setPrototypeOf","defineProperties","custom","callbackify","callbackified","maybeCb","then","rej","superCtor","super_","TempCtor","AcceptorStateMachine","domain","jmespath","hardErrorStates","success","complete","fsm","setupStates","transition","_asm","currentState","machine","Domain","domainEmitter","domainThrown","addState","Response","states","emitEvent","runTo","eachPage","wrappedCallback","hasNextPage","nextPage","eachItem","resultKey","continueIteration","isPageable","streams","PassThrough","sent","HTTP_DATA","HTTP_ERROR","expectedLen","shouldCheckContentLength","receivedLen","checkContentLengthAndEmit","httpStream","lengthAccumulator","_write","unpipe","pipe","eventParameters","presign","Presign","sign","toGet","VALIDATE_CREDENTIALS","SIGN","buildAsGet","finalState","bindObject","inputError","fail","accept","acceptState","failState","nextPageTokens","inputTokens","inputToken","cacheNextPageTokens","moreResults","exprs","outputToken","expr","CHECK_ACCEPTORS","_waiter","acceptors","acceptorMatched","acceptor","matcher","matchers","argument","setSuccess","setError","loadWaiterConfig","pathAll","results","numResults","pathAny","$waiter","maxAttempts","serviceClientId","getServiceClientId","V2","V3Https","SignatureVersion","SignatureMethod","AWSAccessKeyId","SecurityToken","Signature","v4Credentials","serviceName","updateForPresigned","addHeaders","credString","credentialString","isSignableHeader","lowerKey","sep","signingKey","getSigningKey","hexEncodedHash","canonicalString","hexEncodedBodyHash","canonicalHeaderValues","createScope","unsignableHeaders","cachedSecret","cacheQueue","v4Identifier","shouldCache","kDate","kRegion","kService","emptyCache","subResources","responseHeaders","auth","canonicalizedAmzHeaders","canonicalizedResource","amzHeaders","virtualHostedBucket","resources","param","subresource","secret","expiresHeader","signedUrlBuilder","signerClass","signedUrlSigner","parsedUrl","queryParams","SET_CONTENT_LENGTH","COMPUTE_SHA256","context","validateMember","validateStructure","paramName","validateType","memberContext","validateList","validateMap","validateScalar","validateRange","mapCount","validateString","validatePayload","validateNumber","validTypes","validateEnum","validatePattern","validateUri","descriptor","acceptedTypes","foundInvalidType","acceptedType","vowel","castedValue","Blob","v1","_nodeId","_clockseq","rng","bytesToUuid","_lastMSecs","_lastNSecs","clockseq","seedBytes","nsecs","dt","tl","tmh","ii","Hmac","Md5","Sha1","Sha256","alg","createSign","hashUtils","hashCtor","outer","inner","BLOCK_SIZE","bufferHash","bufferFromSecret","toHash","finished","DataView","bufferLength","bytesHashed","cmn","q","ff","gg","hh","sourceData","setUint8","hashBuffer","undecoratedLength","bitsHashed","setUint32","buff","getUint32","h0","h1","h2","h3","h4","block","totalLength","byte","processBlock","outView","w","temp","KEY","MAX_HASHABLE_LENGTH","bufferView","state0","state1","state2","state3","state4","state5","state6","state7","u","t1_1","t2_1","t2","punycode","Url","slashes","href","relative","resolveObject","protocolPattern","portPattern","simplePathPattern","unwise","autoEscape","nonHostChars","hostEndingChars","hostnamePartPattern","hostnamePartStart","unsafeProtocol","hostlessProtocol","slashedProtocol","parseQueryString","slashesDenoteHost","queryIndex","splitter","uSplit","rest","simplePath","exec","proto","lowerProto","atSign","hostEnd","hec","parseHost","ipv6Hostname","hostparts","newpart","validParts","notHost","bit","toASCII","ae","esc","qm","rel","tkeys","tk","tkey","rkeys","rk","rkey","relPath","isSourceAbs","isRelAbs","mustEndAbs","removeAllDots","srcPath","psychotic","authInHost","last","hasTrailingSlash","up","isAbsolute","root","nodeType","freeGlobal","maxInt","regexPunycode","regexNonASCII","regexSeparators","stringFromCharCode","mapDomain","ucs2decode","extra","counter","ucs2encode","digitToBasic","digit","flag","adapt","numPoints","firstTime","baseMinusTMin","basic","oldi","baseMinusT","inputLength","bias","handledCPCount","basicLength","currentValue","handledCPCountPlusOne","qMinusT","webpackPolyfill","paths","eq","regexp","maxKeys","kstr","vstr","xs","stringifyPrimitive","objectKeys","ks","performance","eventMessageChunker","parseEvent","eventMessages","messages","parseMessage","parsedMessage","messageType","errorCode","errorMessage","parseError","eventType","eventModel","eventPayloadMemberName","eventHeaderNames","Int64","splitMessage","parseHeaders","nameLength","binaryLength","stringLength","valueOf","uuidChars","negate","fromNumber","negative","PRELUDE_LENGTH","expectedPreludeChecksum","PRELUDE_MEMBER_LENGTH","expectedMessageChecksum","headersEnd","TemporaryCredentials","masterCredentials","loadMasterCredentials","RoleArn","RoleSessionName","createClients","assumeRole","getSessionToken","credentialsFrom","resolveRegionalEndpointsFlag","AccessKeyId","SecretAccessKey","Expiration","assumeRoleWithWebIdentity","assumeRoleWithSAML","optInRegionalEndpoint","sharedConfig","clientConfig","insertPoint","regionalEndpoint","substring","validateRegionalEndpointsFlagValue","configValue","errorOptions","resolved","profile","ChainableTemporaryCredentials","tokenCodeFn","SerialNumber","stsConfig","getTokenCode","tokenCode","TokenCode","WebIdentityCredentials","_clientConfig","CognitoIdentity","CognitoIdentityCredentials","localStorageKey","_identityId","loadCachedId","IdentityId","identityId","getId","clearIdOnNotAuthorized","getCredentialsFromSTS","getCredentialsForIdentity","clearCachedId","poolId","IdentityPoolId","loginId","LoginId","storage","cognito","loadCredentials","SecretKey","cacheId","getOpenIdToken","WebIdentityToken","Token","webIdentityCredentials","webErr","sts","getStorage","Logins","actualProviders","cognitoConfig","setStorage","localStorage","SAMLCredentials","DomXmlParser","getElementByTagName","tag","getElementsByTagName","parentNode","parseXml","parseStructure","tagName","firstElementChild","nodeName","textContent","nextElementSibling","parseMap","parseList","childNodes","parseUnknown","getAttribute","text","parseScalar","xmlChild","DOMParser","parseFromString","syntaxError","errorElement","ActiveXObject","async","loadXML","EventEmitter","XHRClient","emitter","xhr","XMLHttpRequest","headersEmitted","readyState","HEADERS_RECEIVED","getAllResponseHeaders","statusText","DONE","finishRequest","upload","evt","open","xhrAsync","setRequestHeader","xhrWithCredentials","withCredentials","responseType","rawHeaders","ab","view","responseText","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","ownKeys","getOwnPropertySymbols","NumberIsNaN","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","_getMaxListeners","_addListener","prepend","existing","warning","newListener","warn","onceWrapper","fired","wrapFn","_onceWrap","wrapped","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","setMaxListeners","getMaxListeners","doError","er","handler","originalListener","spliceOne","rawListeners","eventNames","dbits","_ref","ValidationData","AuthParameters","ClientMetadata","validationData","authParameters","clientMetadata","username","password","_proto","getUsername","getPassword","getValidationData","getAuthParameters","getClientMetadata","BigInteger","nbi","inBrowser","appName","am","xl","xh","DB","DM","DV","FV","F1","F2","rr","vv","BI_RC","int2char","intAt","nbv","fromInt","nbits","Montgomery","mp","invDigit","mpl","mph","um","mt2","convert","dlShiftTo","divRemTo","compareTo","ZERO","subTo","revert","copyTo","u0","drShiftTo","mulTo","multiplyTo","sqrTo","squareTo","mi","sh","lShiftTo","bs","cbs","bm","ds","rShiftTo","pm","pt","ts","ms","nsh","ys","y0","yt","d1","d2","ONE","qd","addTo","km","bitLength","mod","subtract","multiply","divide","modPow","z","k1","g2","is1","r2","AuthenticationHelper","PoolName","N","hexHash","smallAValue","generateRandomSmallA","getLargeAValue","infoBits","poolName","getSmallAValue","_this","largeAValue","calculateA","hexRandom","generateRandomString","getRandomPassword","randomPassword","getSaltDevices","SaltToHashDevices","getVerifierDevices","verifierDevices","generateHashDevice","deviceGroupKey","_this2","combinedString","hashedString","padHex","verifierDevicesNotPadded","_this3","A","calculateU","B","UHexHash","hashHex","computehkdf","ikm","salt","infoBitsWordArray","ikmWordArray","saltWordArray","prk","getPasswordAuthenticationKey","serverBValue","_this4","UValue","usernamePassword","usernamePasswordHash","xValue","calculateS","sValue","hkdf","_this5","gModPowXN","err2","getNewPasswordRequiredChallengeUserAttributePrefix","bigInt","hashStr","CognitoJwtToken","jwtToken","decodePayload","getExpiration","exp","getIssuedAt","iat","CognitoAccessToken","_CognitoJwtToken","subClass","superClass","_temp","AccessToken","CognitoIdToken","IdToken","CognitoRefreshToken","RefreshToken","CognitoUserSession","ClockDrift","clockDrift","calculateClockDrift","getClockDrift","isValid","adjusted","monthNames","weekNames","DateHelper","getNowString","weekDay","getUTCDay","month","getUTCMonth","day","getUTCDate","hours","getUTCHours","minutes","getUTCMinutes","seconds","getUTCSeconds","getUTCFullYear","CognitoUserAttribute","Name","Value","getValue","setValue","getName","setName","dataMemory","MemoryStorage","setItem","getItem","removeItem","StorageHelper","storageWindow","exception","pool","Session","signInUserSession","authenticationFlowType","Storage","keyPrefix","getClientId","userDataKey","setSignInUserSession","clearCachedUserData","cacheTokens","getSignInUserSession","getAuthenticationFlowType","setAuthenticationFlowType","initiateAuth","authDetails","USERNAME","clientMetaData","jsonReq","AuthFlow","getUserContextData","UserContextData","challengeName","ChallengeName","challengeParameters","ChallengeParameters","customChallenge","getCognitoUserSession","AuthenticationResult","authenticateUserPlainUsernamePassword","authenticateUserDefaultAuth","authenticationHelper","getUserPoolId","dateHelper","deviceKey","DEVICE_KEY","errOnAValue","aValue","SRP_A","CHALLENGE_NAME","USER_ID_FOR_SRP","SRP_B","SALT","getCachedDeviceKeyAndPassword","errOnHkdf","dateNow","SECRET_BLOCK","signatureString","challengeResponses","PASSWORD_CLAIM_SECRET_BLOCK","TIMESTAMP","PASSWORD_CLAIM_SIGNATURE","jsonReqResp","ChallengeResponses","respondToAuthChallenge","challenge","challengeCallback","errChallenge","dataChallenge","clearCachedDeviceKeyAndPassword","errAuthenticate","dataAuthenticate","authenticateUserInternal","PASSWORD","authResult","mfaRequired","selectMFAType","mfaSetup","totpRequired","userAttributes","rawRequiredAttributes","requiredAttributes","userAttributesPrefix","newPasswordRequired","newDeviceMetadata","NewDeviceMetadata","DeviceGroupKey","DeviceKey","errGenHash","deviceSecretVerifierConfig","Salt","PasswordVerifier","DeviceSecretVerifierConfig","DeviceName","errConfirm","dataConfirm","cacheDeviceKeyAndPassword","UserConfirmationNecessary","getDeviceResponse","completeNewPasswordChallenge","newPassword","requiredAttributeData","finalUserAttributes","NEW_PASSWORD","_this6","errAValue","errHkdf","confirmRegistration","confirmationCode","forceAliasCreation","ConfirmationCode","ForceAliasCreation","sendCustomChallengeAnswer","answerChallenge","_this7","ANSWER","sendMFACode","mfaType","_this8","SMS_MFA_CODE","mfaTypeSelection","SOFTWARE_TOKEN_MFA_CODE","changePassword","oldUserPassword","newUserPassword","PreviousPassword","ProposedPassword","enableMFA","mfaOptions","DeliveryMedium","AttributeName","MFAOptions","setUserMfaPreference","smsMfaSettings","softwareTokenMfaSettings","SMSMfaSettings","SoftwareTokenMfaSettings","disableMFA","deleteUser","_this9","clearCachedUser","updateAttributes","_this10","UserAttributes","getUserData","bypassCache","getUserAttributes","attributeList","userAttribute","getMFAOptions","createGetUserRequest","promisifyRequest","refreshSessionIfPossible","_this11","refreshSession","_this12","getUserDataFromCache","isFetchUserDataAndTokenRequired","fetchUserData","_ref$bypassCache","_this13","cacheUserData","deleteAttributes","UserAttributeNames","resendConfirmationCode","getSession","idTokenKey","accessTokenKey","refreshTokenKey","clockDriftKey","cachedSession","_this14","REFRESH_TOKEN","lastUserKey","deviceKeyKey","authenticationResult","clearCachedTokens","randomPasswordKey","deviceGroupKeyKey","forgotPassword","inputVerificationCode","confirmPassword","getAttributeVerificationCode","verifyAttribute","getDevice","forgetSpecificDevice","forgetDevice","_this15","setDeviceStatusRemembered","DeviceRememberedStatus","setDeviceStatusNotRemembered","listDevices","paginationToken","Limit","PaginationToken","globalSignOut","_this16","signOut","sendMFASelectionAnswer","_this17","associateSoftwareToken","_this18","associateSecretCode","SecretCode","verifySoftwareToken","totpCode","friendlyDeviceName","_this19","UserCode","FriendlyDeviceName","errRespond","dataRespond","appendToCognitoUserAgent","content","_wrapNativeSuper","Class","_cache","Map","has","Wrapper","_construct","_getPrototypeOf","_setPrototypeOf","Parent","_isNativeReflectConstruct","construct","sham","Proxy","CognitoError","_Error","Client","fetchOptions","assign","fetch","ok","_error","AdvancedSecurityDataCollectionFlag","userPoolId","clientId","advancedSecurityDataCollectionFlag","signUp","returnData","user","userConfirmed","UserConfirmed","userSub","UserSub","codeDeliveryDetails","CodeDeliveryDetails","getCurrentUser","lastAuthUser","AmazonCognitoAdvancedSecurityData","amazonCognitoAdvancedSecurityDataConst","advancedSecurityData","getData","EncodedData","CookieStorage","secure"],"mappings":"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","file":"my-app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 39);\n","/**\n * The main AWS namespace\n */\nvar AWS = { util: require('./util') };\n\n/**\n * @api private\n * @!macro [new] nobrowser\n *   @note This feature is not supported in the browser environment of the SDK.\n */\nvar _hidden = {}; _hidden.toString(); // hack to parse macro\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nAWS.util.update(AWS, {\n\n  /**\n   * @constant\n   */\n  VERSION: '2.683.0',\n\n  /**\n   * @api private\n   */\n  Signers: {},\n\n  /**\n   * @api private\n   */\n  Protocol: {\n    Json: require('./protocol/json'),\n    Query: require('./protocol/query'),\n    Rest: require('./protocol/rest'),\n    RestJson: require('./protocol/rest_json'),\n    RestXml: require('./protocol/rest_xml')\n  },\n\n  /**\n   * @api private\n   */\n  XML: {\n    Builder: require('./xml/builder'),\n    Parser: null // conditionally set based on environment\n  },\n\n  /**\n   * @api private\n   */\n  JSON: {\n    Builder: require('./json/builder'),\n    Parser: require('./json/parser')\n  },\n\n  /**\n   * @api private\n   */\n  Model: {\n    Api: require('./model/api'),\n    Operation: require('./model/operation'),\n    Shape: require('./model/shape'),\n    Paginator: require('./model/paginator'),\n    ResourceWaiter: require('./model/resource_waiter')\n  },\n\n  /**\n   * @api private\n   */\n  apiLoader: require('./api_loader'),\n\n  /**\n   * @api private\n   */\n  EndpointCache: require('../vendor/endpoint-cache').EndpointCache\n});\nrequire('./sequential_executor');\nrequire('./service');\nrequire('./config');\nrequire('./http');\nrequire('./event_listeners');\nrequire('./request');\nrequire('./response');\nrequire('./resource_waiter');\nrequire('./signers/request_signer');\nrequire('./param_validator');\n\n/**\n * @readonly\n * @return [AWS.SequentialExecutor] a collection of global event listeners that\n *   are attached to every sent request.\n * @see AWS.Request AWS.Request for a list of events to listen for\n * @example Logging the time taken to send a request\n *   AWS.events.on('send', function startSend(resp) {\n *     resp.startTime = new Date().getTime();\n *   }).on('complete', function calculateTime(resp) {\n *     var time = (new Date().getTime() - resp.startTime) / 1000;\n *     console.log('Request took ' + time + ' seconds');\n *   });\n *\n *   new AWS.S3().listBuckets(); // prints 'Request took 0.285 seconds'\n */\nAWS.events = new AWS.SequentialExecutor();\n\n//create endpoint cache lazily\nAWS.util.memoizedProperty(AWS, 'endpointCache', function() {\n  return new AWS.EndpointCache(AWS.config.endpointCacheSize);\n}, true);\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/* eslint guard-for-in:0 */\nvar AWS;\n\n/**\n * A set of utility methods for use with the AWS SDK.\n *\n * @!attribute abort\n *   Return this value from an iterator function {each} or {arrayEach}\n *   to break out of the iteration.\n *   @example Breaking out of an iterator function\n *     AWS.util.each({a: 1, b: 2, c: 3}, function(key, value) {\n *       if (key == 'b') return AWS.util.abort;\n *     });\n *   @see each\n *   @see arrayEach\n * @api private\n */\nvar util = {\n  environment: 'nodejs',\n  engine: function engine() {\n    if (util.isBrowser() && typeof navigator !== 'undefined') {\n      return navigator.userAgent;\n    } else {\n      var engine = process.platform + '/' + process.version;\n      if (process.env.AWS_EXECUTION_ENV) {\n        engine += ' exec-env/' + process.env.AWS_EXECUTION_ENV;\n      }\n      return engine;\n    }\n  },\n\n  userAgent: function userAgent() {\n    var name = util.environment;\n    var agent = 'aws-sdk-' + name + '/' + require('./core').VERSION;\n    if (name === 'nodejs') agent += ' ' + util.engine();\n    return agent;\n  },\n\n  uriEscape: function uriEscape(string) {\n    var output = encodeURIComponent(string);\n    output = output.replace(/[^A-Za-z0-9_.~\\-%]+/g, escape);\n\n    // AWS percent-encodes some extra non-standard characters in a URI\n    output = output.replace(/[*]/g, function(ch) {\n      return '%' + ch.charCodeAt(0).toString(16).toUpperCase();\n    });\n\n    return output;\n  },\n\n  uriEscapePath: function uriEscapePath(string) {\n    var parts = [];\n    util.arrayEach(string.split('/'), function (part) {\n      parts.push(util.uriEscape(part));\n    });\n    return parts.join('/');\n  },\n\n  urlParse: function urlParse(url) {\n    return util.url.parse(url);\n  },\n\n  urlFormat: function urlFormat(url) {\n    return util.url.format(url);\n  },\n\n  queryStringParse: function queryStringParse(qs) {\n    return util.querystring.parse(qs);\n  },\n\n  queryParamsToString: function queryParamsToString(params) {\n    var items = [];\n    var escape = util.uriEscape;\n    var sortedKeys = Object.keys(params).sort();\n\n    util.arrayEach(sortedKeys, function(name) {\n      var value = params[name];\n      var ename = escape(name);\n      var result = ename + '=';\n      if (Array.isArray(value)) {\n        var vals = [];\n        util.arrayEach(value, function(item) { vals.push(escape(item)); });\n        result = ename + '=' + vals.sort().join('&' + ename + '=');\n      } else if (value !== undefined && value !== null) {\n        result = ename + '=' + escape(value);\n      }\n      items.push(result);\n    });\n\n    return items.join('&');\n  },\n\n  readFileSync: function readFileSync(path) {\n    if (util.isBrowser()) return null;\n    return require('fs').readFileSync(path, 'utf-8');\n  },\n\n  base64: {\n    encode: function encode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 encode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      var buf = util.buffer.toBuffer(string);\n      return buf.toString('base64');\n    },\n\n    decode: function decode64(string) {\n      if (typeof string === 'number') {\n        throw util.error(new Error('Cannot base64 decode number ' + string));\n      }\n      if (string === null || typeof string === 'undefined') {\n        return string;\n      }\n      return util.buffer.toBuffer(string, 'base64');\n    }\n\n  },\n\n  buffer: {\n    /**\n     * Buffer constructor for Node buffer and buffer pollyfill\n     */\n    toBuffer: function(data, encoding) {\n      return (typeof util.Buffer.from === 'function' && util.Buffer.from !== Uint8Array.from) ?\n        util.Buffer.from(data, encoding) : new util.Buffer(data, encoding);\n    },\n\n    alloc: function(size, fill, encoding) {\n      if (typeof size !== 'number') {\n        throw new Error('size passed to alloc must be a number.');\n      }\n      if (typeof util.Buffer.alloc === 'function') {\n        return util.Buffer.alloc(size, fill, encoding);\n      } else {\n        var buf = new util.Buffer(size);\n        if (fill !== undefined && typeof buf.fill === 'function') {\n          buf.fill(fill, undefined, undefined, encoding);\n        }\n        return buf;\n      }\n    },\n\n    toStream: function toStream(buffer) {\n      if (!util.Buffer.isBuffer(buffer)) buffer =  util.buffer.toBuffer(buffer);\n\n      var readable = new (util.stream.Readable)();\n      var pos = 0;\n      readable._read = function(size) {\n        if (pos >= buffer.length) return readable.push(null);\n\n        var end = pos + size;\n        if (end > buffer.length) end = buffer.length;\n        readable.push(buffer.slice(pos, end));\n        pos = end;\n      };\n\n      return readable;\n    },\n\n    /**\n     * Concatenates a list of Buffer objects.\n     */\n    concat: function(buffers) {\n      var length = 0,\n          offset = 0,\n          buffer = null, i;\n\n      for (i = 0; i < buffers.length; i++) {\n        length += buffers[i].length;\n      }\n\n      buffer = util.buffer.alloc(length);\n\n      for (i = 0; i < buffers.length; i++) {\n        buffers[i].copy(buffer, offset);\n        offset += buffers[i].length;\n      }\n\n      return buffer;\n    }\n  },\n\n  string: {\n    byteLength: function byteLength(string) {\n      if (string === null || string === undefined) return 0;\n      if (typeof string === 'string') string = util.buffer.toBuffer(string);\n\n      if (typeof string.byteLength === 'number') {\n        return string.byteLength;\n      } else if (typeof string.length === 'number') {\n        return string.length;\n      } else if (typeof string.size === 'number') {\n        return string.size;\n      } else if (typeof string.path === 'string') {\n        return require('fs').lstatSync(string.path).size;\n      } else {\n        throw util.error(new Error('Cannot determine length of ' + string),\n          { object: string });\n      }\n    },\n\n    upperFirst: function upperFirst(string) {\n      return string[0].toUpperCase() + string.substr(1);\n    },\n\n    lowerFirst: function lowerFirst(string) {\n      return string[0].toLowerCase() + string.substr(1);\n    }\n  },\n\n  ini: {\n    parse: function string(ini) {\n      var currentSection, map = {};\n      util.arrayEach(ini.split(/\\r?\\n/), function(line) {\n        line = line.split(/(^|\\s)[;#]/)[0]; // remove comments\n        var section = line.match(/^\\s*\\[([^\\[\\]]+)\\]\\s*$/);\n        if (section) {\n          currentSection = section[1];\n        } else if (currentSection) {\n          var item = line.match(/^\\s*(.+?)\\s*=\\s*(.+?)\\s*$/);\n          if (item) {\n            map[currentSection] = map[currentSection] || {};\n            map[currentSection][item[1]] = item[2];\n          }\n        }\n      });\n\n      return map;\n    }\n  },\n\n  fn: {\n    noop: function() {},\n    callback: function (err) { if (err) throw err; },\n\n    /**\n     * Turn a synchronous function into as \"async\" function by making it call\n     * a callback. The underlying function is called with all but the last argument,\n     * which is treated as the callback. The callback is passed passed a first argument\n     * of null on success to mimick standard node callbacks.\n     */\n    makeAsync: function makeAsync(fn, expectedArgs) {\n      if (expectedArgs && expectedArgs <= fn.length) {\n        return fn;\n      }\n\n      return function() {\n        var args = Array.prototype.slice.call(arguments, 0);\n        var callback = args.pop();\n        var result = fn.apply(null, args);\n        callback(result);\n      };\n    }\n  },\n\n  /**\n   * Date and time utility functions.\n   */\n  date: {\n\n    /**\n     * @return [Date] the current JavaScript date object. Since all\n     *   AWS services rely on this date object, you can override\n     *   this function to provide a special time value to AWS service\n     *   requests.\n     */\n    getDate: function getDate() {\n      if (!AWS) AWS = require('./core');\n      if (AWS.config.systemClockOffset) { // use offset when non-zero\n        return new Date(new Date().getTime() + AWS.config.systemClockOffset);\n      } else {\n        return new Date();\n      }\n    },\n\n    /**\n     * @return [String] the date in ISO-8601 format\n     */\n    iso8601: function iso8601(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toISOString().replace(/\\.\\d{3}Z$/, 'Z');\n    },\n\n    /**\n     * @return [String] the date in RFC 822 format\n     */\n    rfc822: function rfc822(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.toUTCString();\n    },\n\n    /**\n     * @return [Integer] the UNIX timestamp value for the current time\n     */\n    unixTimestamp: function unixTimestamp(date) {\n      if (date === undefined) { date = util.date.getDate(); }\n      return date.getTime() / 1000;\n    },\n\n    /**\n     * @param [String,number,Date] date\n     * @return [Date]\n     */\n    from: function format(date) {\n      if (typeof date === 'number') {\n        return new Date(date * 1000); // unix timestamp\n      } else {\n        return new Date(date);\n      }\n    },\n\n    /**\n     * Given a Date or date-like value, this function formats the\n     * date into a string of the requested value.\n     * @param [String,number,Date] date\n     * @param [String] formatter Valid formats are:\n     #   * 'iso8601'\n     #   * 'rfc822'\n     #   * 'unixTimestamp'\n     * @return [String]\n     */\n    format: function format(date, formatter) {\n      if (!formatter) formatter = 'iso8601';\n      return util.date[formatter](util.date.from(date));\n    },\n\n    parseTimestamp: function parseTimestamp(value) {\n      if (typeof value === 'number') { // unix timestamp (number)\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d+$/)) { // unix timestamp\n        return new Date(value * 1000);\n      } else if (value.match(/^\\d{4}/)) { // iso8601\n        return new Date(value);\n      } else if (value.match(/^\\w{3},/)) { // rfc822\n        return new Date(value);\n      } else {\n        throw util.error(\n          new Error('unhandled timestamp format: ' + value),\n          {code: 'TimestampParserError'});\n      }\n    }\n\n  },\n\n  crypto: {\n    crc32Table: [\n     0x00000000, 0x77073096, 0xEE0E612C, 0x990951BA, 0x076DC419,\n     0x706AF48F, 0xE963A535, 0x9E6495A3, 0x0EDB8832, 0x79DCB8A4,\n     0xE0D5E91E, 0x97D2D988, 0x09B64C2B, 0x7EB17CBD, 0xE7B82D07,\n     0x90BF1D91, 0x1DB71064, 0x6AB020F2, 0xF3B97148, 0x84BE41DE,\n     0x1ADAD47D, 0x6DDDE4EB, 0xF4D4B551, 0x83D385C7, 0x136C9856,\n     0x646BA8C0, 0xFD62F97A, 0x8A65C9EC, 0x14015C4F, 0x63066CD9,\n     0xFA0F3D63, 0x8D080DF5, 0x3B6E20C8, 0x4C69105E, 0xD56041E4,\n     0xA2677172, 0x3C03E4D1, 0x4B04D447, 0xD20D85FD, 0xA50AB56B,\n     0x35B5A8FA, 0x42B2986C, 0xDBBBC9D6, 0xACBCF940, 0x32D86CE3,\n     0x45DF5C75, 0xDCD60DCF, 0xABD13D59, 0x26D930AC, 0x51DE003A,\n     0xC8D75180, 0xBFD06116, 0x21B4F4B5, 0x56B3C423, 0xCFBA9599,\n     0xB8BDA50F, 0x2802B89E, 0x5F058808, 0xC60CD9B2, 0xB10BE924,\n     0x2F6F7C87, 0x58684C11, 0xC1611DAB, 0xB6662D3D, 0x76DC4190,\n     0x01DB7106, 0x98D220BC, 0xEFD5102A, 0x71B18589, 0x06B6B51F,\n     0x9FBFE4A5, 0xE8B8D433, 0x7807C9A2, 0x0F00F934, 0x9609A88E,\n     0xE10E9818, 0x7F6A0DBB, 0x086D3D2D, 0x91646C97, 0xE6635C01,\n     0x6B6B51F4, 0x1C6C6162, 0x856530D8, 0xF262004E, 0x6C0695ED,\n     0x1B01A57B, 0x8208F4C1, 0xF50FC457, 0x65B0D9C6, 0x12B7E950,\n     0x8BBEB8EA, 0xFCB9887C, 0x62DD1DDF, 0x15DA2D49, 0x8CD37CF3,\n     0xFBD44C65, 0x4DB26158, 0x3AB551CE, 0xA3BC0074, 0xD4BB30E2,\n     0x4ADFA541, 0x3DD895D7, 0xA4D1C46D, 0xD3D6F4FB, 0x4369E96A,\n     0x346ED9FC, 0xAD678846, 0xDA60B8D0, 0x44042D73, 0x33031DE5,\n     0xAA0A4C5F, 0xDD0D7CC9, 0x5005713C, 0x270241AA, 0xBE0B1010,\n     0xC90C2086, 0x5768B525, 0x206F85B3, 0xB966D409, 0xCE61E49F,\n     0x5EDEF90E, 0x29D9C998, 0xB0D09822, 0xC7D7A8B4, 0x59B33D17,\n     0x2EB40D81, 0xB7BD5C3B, 0xC0BA6CAD, 0xEDB88320, 0x9ABFB3B6,\n     0x03B6E20C, 0x74B1D29A, 0xEAD54739, 0x9DD277AF, 0x04DB2615,\n     0x73DC1683, 0xE3630B12, 0x94643B84, 0x0D6D6A3E, 0x7A6A5AA8,\n     0xE40ECF0B, 0x9309FF9D, 0x0A00AE27, 0x7D079EB1, 0xF00F9344,\n     0x8708A3D2, 0x1E01F268, 0x6906C2FE, 0xF762575D, 0x806567CB,\n     0x196C3671, 0x6E6B06E7, 0xFED41B76, 0x89D32BE0, 0x10DA7A5A,\n     0x67DD4ACC, 0xF9B9DF6F, 0x8EBEEFF9, 0x17B7BE43, 0x60B08ED5,\n     0xD6D6A3E8, 0xA1D1937E, 0x38D8C2C4, 0x4FDFF252, 0xD1BB67F1,\n     0xA6BC5767, 0x3FB506DD, 0x48B2364B, 0xD80D2BDA, 0xAF0A1B4C,\n     0x36034AF6, 0x41047A60, 0xDF60EFC3, 0xA867DF55, 0x316E8EEF,\n     0x4669BE79, 0xCB61B38C, 0xBC66831A, 0x256FD2A0, 0x5268E236,\n     0xCC0C7795, 0xBB0B4703, 0x220216B9, 0x5505262F, 0xC5BA3BBE,\n     0xB2BD0B28, 0x2BB45A92, 0x5CB36A04, 0xC2D7FFA7, 0xB5D0CF31,\n     0x2CD99E8B, 0x5BDEAE1D, 0x9B64C2B0, 0xEC63F226, 0x756AA39C,\n     0x026D930A, 0x9C0906A9, 0xEB0E363F, 0x72076785, 0x05005713,\n     0x95BF4A82, 0xE2B87A14, 0x7BB12BAE, 0x0CB61B38, 0x92D28E9B,\n     0xE5D5BE0D, 0x7CDCEFB7, 0x0BDBDF21, 0x86D3D2D4, 0xF1D4E242,\n     0x68DDB3F8, 0x1FDA836E, 0x81BE16CD, 0xF6B9265B, 0x6FB077E1,\n     0x18B74777, 0x88085AE6, 0xFF0F6A70, 0x66063BCA, 0x11010B5C,\n     0x8F659EFF, 0xF862AE69, 0x616BFFD3, 0x166CCF45, 0xA00AE278,\n     0xD70DD2EE, 0x4E048354, 0x3903B3C2, 0xA7672661, 0xD06016F7,\n     0x4969474D, 0x3E6E77DB, 0xAED16A4A, 0xD9D65ADC, 0x40DF0B66,\n     0x37D83BF0, 0xA9BCAE53, 0xDEBB9EC5, 0x47B2CF7F, 0x30B5FFE9,\n     0xBDBDF21C, 0xCABAC28A, 0x53B39330, 0x24B4A3A6, 0xBAD03605,\n     0xCDD70693, 0x54DE5729, 0x23D967BF, 0xB3667A2E, 0xC4614AB8,\n     0x5D681B02, 0x2A6F2B94, 0xB40BBE37, 0xC30C8EA1, 0x5A05DF1B,\n     0x2D02EF8D],\n\n    crc32: function crc32(data) {\n      var tbl = util.crypto.crc32Table;\n      var crc = 0 ^ -1;\n\n      if (typeof data === 'string') {\n        data = util.buffer.toBuffer(data);\n      }\n\n      for (var i = 0; i < data.length; i++) {\n        var code = data.readUInt8(i);\n        crc = (crc >>> 8) ^ tbl[(crc ^ code) & 0xFF];\n      }\n      return (crc ^ -1) >>> 0;\n    },\n\n    hmac: function hmac(key, string, digest, fn) {\n      if (!digest) digest = 'binary';\n      if (digest === 'buffer') { digest = undefined; }\n      if (!fn) fn = 'sha256';\n      if (typeof string === 'string') string = util.buffer.toBuffer(string);\n      return util.crypto.lib.createHmac(fn, key).update(string).digest(digest);\n    },\n\n    md5: function md5(data, digest, callback) {\n      return util.crypto.hash('md5', data, digest, callback);\n    },\n\n    sha256: function sha256(data, digest, callback) {\n      return util.crypto.hash('sha256', data, digest, callback);\n    },\n\n    hash: function(algorithm, data, digest, callback) {\n      var hash = util.crypto.createHash(algorithm);\n      if (!digest) { digest = 'binary'; }\n      if (digest === 'buffer') { digest = undefined; }\n      if (typeof data === 'string') data = util.buffer.toBuffer(data);\n      var sliceFn = util.arraySliceFn(data);\n      var isBuffer = util.Buffer.isBuffer(data);\n      //Identifying objects with an ArrayBuffer as buffers\n      if (util.isBrowser() && typeof ArrayBuffer !== 'undefined' && data && data.buffer instanceof ArrayBuffer) isBuffer = true;\n\n      if (callback && typeof data === 'object' &&\n          typeof data.on === 'function' && !isBuffer) {\n        data.on('data', function(chunk) { hash.update(chunk); });\n        data.on('error', function(err) { callback(err); });\n        data.on('end', function() { callback(null, hash.digest(digest)); });\n      } else if (callback && sliceFn && !isBuffer &&\n                 typeof FileReader !== 'undefined') {\n        // this might be a File/Blob\n        var index = 0, size = 1024 * 512;\n        var reader = new FileReader();\n        reader.onerror = function() {\n          callback(new Error('Failed to read data.'));\n        };\n        reader.onload = function() {\n          var buf = new util.Buffer(new Uint8Array(reader.result));\n          hash.update(buf);\n          index += buf.length;\n          reader._continueReading();\n        };\n        reader._continueReading = function() {\n          if (index >= data.size) {\n            callback(null, hash.digest(digest));\n            return;\n          }\n\n          var back = index + size;\n          if (back > data.size) back = data.size;\n          reader.readAsArrayBuffer(sliceFn.call(data, index, back));\n        };\n\n        reader._continueReading();\n      } else {\n        if (util.isBrowser() && typeof data === 'object' && !isBuffer) {\n          data = new util.Buffer(new Uint8Array(data));\n        }\n        var out = hash.update(data).digest(digest);\n        if (callback) callback(null, out);\n        return out;\n      }\n    },\n\n    toHex: function toHex(data) {\n      var out = [];\n      for (var i = 0; i < data.length; i++) {\n        out.push(('0' + data.charCodeAt(i).toString(16)).substr(-2, 2));\n      }\n      return out.join('');\n    },\n\n    createHash: function createHash(algorithm) {\n      return util.crypto.lib.createHash(algorithm);\n    }\n\n  },\n\n  /** @!ignore */\n\n  /* Abort constant */\n  abort: {},\n\n  each: function each(object, iterFunction) {\n    for (var key in object) {\n      if (Object.prototype.hasOwnProperty.call(object, key)) {\n        var ret = iterFunction.call(this, key, object[key]);\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  arrayEach: function arrayEach(array, iterFunction) {\n    for (var idx in array) {\n      if (Object.prototype.hasOwnProperty.call(array, idx)) {\n        var ret = iterFunction.call(this, array[idx], parseInt(idx, 10));\n        if (ret === util.abort) break;\n      }\n    }\n  },\n\n  update: function update(obj1, obj2) {\n    util.each(obj2, function iterator(key, item) {\n      obj1[key] = item;\n    });\n    return obj1;\n  },\n\n  merge: function merge(obj1, obj2) {\n    return util.update(util.copy(obj1), obj2);\n  },\n\n  copy: function copy(object) {\n    if (object === null || object === undefined) return object;\n    var dupe = {};\n    // jshint forin:false\n    for (var key in object) {\n      dupe[key] = object[key];\n    }\n    return dupe;\n  },\n\n  isEmpty: function isEmpty(obj) {\n    for (var prop in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  arraySliceFn: function arraySliceFn(obj) {\n    var fn = obj.slice || obj.webkitSlice || obj.mozSlice;\n    return typeof fn === 'function' ? fn : null;\n  },\n\n  isType: function isType(obj, type) {\n    // handle cross-\"frame\" objects\n    if (typeof type === 'function') type = util.typeName(type);\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n  },\n\n  typeName: function typeName(type) {\n    if (Object.prototype.hasOwnProperty.call(type, 'name')) return type.name;\n    var str = type.toString();\n    var match = str.match(/^\\s*function (.+)\\(/);\n    return match ? match[1] : str;\n  },\n\n  error: function error(err, options) {\n    var originalError = null;\n    if (typeof err.message === 'string' && err.message !== '') {\n      if (typeof options === 'string' || (options && options.message)) {\n        originalError = util.copy(err);\n        originalError.message = err.message;\n      }\n    }\n    err.message = err.message || null;\n\n    if (typeof options === 'string') {\n      err.message = options;\n    } else if (typeof options === 'object' && options !== null) {\n      util.update(err, options);\n      if (options.message)\n        err.message = options.message;\n      if (options.code || options.name)\n        err.code = options.code || options.name;\n      if (options.stack)\n        err.stack = options.stack;\n    }\n\n    if (typeof Object.defineProperty === 'function') {\n      Object.defineProperty(err, 'name', {writable: true, enumerable: false});\n      Object.defineProperty(err, 'message', {enumerable: true});\n    }\n\n    err.name = String(options && options.name || err.name || err.code || 'Error');\n    err.time = new Date();\n\n    if (originalError) err.originalError = originalError;\n\n    return err;\n  },\n\n  /**\n   * @api private\n   */\n  inherit: function inherit(klass, features) {\n    var newObject = null;\n    if (features === undefined) {\n      features = klass;\n      klass = Object;\n      newObject = {};\n    } else {\n      var ctor = function ConstructorWrapper() {};\n      ctor.prototype = klass.prototype;\n      newObject = new ctor();\n    }\n\n    // constructor not supplied, create pass-through ctor\n    if (features.constructor === Object) {\n      features.constructor = function() {\n        if (klass !== Object) {\n          return klass.apply(this, arguments);\n        }\n      };\n    }\n\n    features.constructor.prototype = newObject;\n    util.update(features.constructor.prototype, features);\n    features.constructor.__super__ = klass;\n    return features.constructor;\n  },\n\n  /**\n   * @api private\n   */\n  mixin: function mixin() {\n    var klass = arguments[0];\n    for (var i = 1; i < arguments.length; i++) {\n      // jshint forin:false\n      for (var prop in arguments[i].prototype) {\n        var fn = arguments[i].prototype[prop];\n        if (prop !== 'constructor') {\n          klass.prototype[prop] = fn;\n        }\n      }\n    }\n    return klass;\n  },\n\n  /**\n   * @api private\n   */\n  hideProperties: function hideProperties(obj, props) {\n    if (typeof Object.defineProperty !== 'function') return;\n\n    util.arrayEach(props, function (key) {\n      Object.defineProperty(obj, key, {\n        enumerable: false, writable: true, configurable: true });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  property: function property(obj, name, value, enumerable, isValue) {\n    var opts = {\n      configurable: true,\n      enumerable: enumerable !== undefined ? enumerable : true\n    };\n    if (typeof value === 'function' && !isValue) {\n      opts.get = value;\n    }\n    else {\n      opts.value = value; opts.writable = true;\n    }\n\n    Object.defineProperty(obj, name, opts);\n  },\n\n  /**\n   * @api private\n   */\n  memoizedProperty: function memoizedProperty(obj, name, get, enumerable) {\n    var cachedValue = null;\n\n    // build enumerable attribute for each value with lazy accessor.\n    util.property(obj, name, function() {\n      if (cachedValue === null) {\n        cachedValue = get();\n      }\n      return cachedValue;\n    }, enumerable);\n  },\n\n  /**\n   * TODO Remove in major version revision\n   * This backfill populates response data without the\n   * top-level payload name.\n   *\n   * @api private\n   */\n  hoistPayloadMember: function hoistPayloadMember(resp) {\n    var req = resp.request;\n    var operationName = req.operation;\n    var operation = req.service.api.operations[operationName];\n    var output = operation.output;\n    if (output.payload && !operation.hasEventOutput) {\n      var payloadMember = output.members[output.payload];\n      var responsePayload = resp.data[output.payload];\n      if (payloadMember.type === 'structure') {\n        util.each(responsePayload, function(key, value) {\n          util.property(resp.data, key, value, false);\n        });\n      }\n    }\n  },\n\n  /**\n   * Compute SHA-256 checksums of streams\n   *\n   * @api private\n   */\n  computeSha256: function computeSha256(body, done) {\n    if (util.isNode()) {\n      var Stream = util.stream.Stream;\n      var fs = require('fs');\n      if (typeof Stream === 'function' && body instanceof Stream) {\n        if (typeof body.path === 'string') { // assume file object\n          var settings = {};\n          if (typeof body.start === 'number') {\n            settings.start = body.start;\n          }\n          if (typeof body.end === 'number') {\n            settings.end = body.end;\n          }\n          body = fs.createReadStream(body.path, settings);\n        } else { // TODO support other stream types\n          return done(new Error('Non-file stream objects are ' +\n                                'not supported with SigV4'));\n        }\n      }\n    }\n\n    util.crypto.sha256(body, 'hex', function(err, sha) {\n      if (err) done(err);\n      else done(null, sha);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(serverTime) {\n    if (serverTime) {\n      util.property(AWS.config, 'isClockSkewed',\n        Math.abs(new Date().getTime() - serverTime) >= 300000, false);\n      return AWS.config.isClockSkewed;\n    }\n  },\n\n  applyClockOffset: function applyClockOffset(serverTime) {\n    if (serverTime)\n      AWS.config.systemClockOffset = serverTime - new Date().getTime();\n  },\n\n  /**\n   * @api private\n   */\n  extractRequestId: function extractRequestId(resp) {\n    var requestId = resp.httpResponse.headers['x-amz-request-id'] ||\n                     resp.httpResponse.headers['x-amzn-requestid'];\n\n    if (!requestId && resp.data && resp.data.ResponseMetadata) {\n      requestId = resp.data.ResponseMetadata.RequestId;\n    }\n\n    if (requestId) {\n      resp.requestId = requestId;\n    }\n\n    if (resp.error) {\n      resp.error.requestId = requestId;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  addPromises: function addPromises(constructors, PromiseDependency) {\n    var deletePromises = false;\n    if (PromiseDependency === undefined && AWS && AWS.config) {\n      PromiseDependency = AWS.config.getPromisesDependency();\n    }\n    if (PromiseDependency === undefined && typeof Promise !== 'undefined') {\n      PromiseDependency = Promise;\n    }\n    if (typeof PromiseDependency !== 'function') deletePromises = true;\n    if (!Array.isArray(constructors)) constructors = [constructors];\n\n    for (var ind = 0; ind < constructors.length; ind++) {\n      var constructor = constructors[ind];\n      if (deletePromises) {\n        if (constructor.deletePromisesFromClass) {\n          constructor.deletePromisesFromClass();\n        }\n      } else if (constructor.addPromisesToClass) {\n        constructor.addPromisesToClass(PromiseDependency);\n      }\n    }\n  },\n\n  /**\n   * @api private\n   * Return a function that will return a promise whose fate is decided by the\n   * callback behavior of the given method with `methodName`. The method to be\n   * promisified should conform to node.js convention of accepting a callback as\n   * last argument and calling that callback with error as the first argument\n   * and success value on the second argument.\n   */\n  promisifyMethod: function promisifyMethod(methodName, PromiseDependency) {\n    return function promise() {\n      var self = this;\n      var args = Array.prototype.slice.call(arguments);\n      return new PromiseDependency(function(resolve, reject) {\n        args.push(function(err, data) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve(data);\n          }\n        });\n        self[methodName].apply(self, args);\n      });\n    };\n  },\n\n  /**\n   * @api private\n   */\n  isDualstackAvailable: function isDualstackAvailable(service) {\n    if (!service) return false;\n    var metadata = require('../apis/metadata.json');\n    if (typeof service !== 'string') service = service.serviceIdentifier;\n    if (typeof service !== 'string' || !metadata.hasOwnProperty(service)) return false;\n    return !!metadata[service].dualstackAvailable;\n  },\n\n  /**\n   * @api private\n   */\n  calculateRetryDelay: function calculateRetryDelay(retryCount, retryDelayOptions, err) {\n    if (!retryDelayOptions) retryDelayOptions = {};\n    var customBackoff = retryDelayOptions.customBackoff || null;\n    if (typeof customBackoff === 'function') {\n      return customBackoff(retryCount, err);\n    }\n    var base = typeof retryDelayOptions.base === 'number' ? retryDelayOptions.base : 100;\n    var delay = Math.random() * (Math.pow(2, retryCount) * base);\n    return delay;\n  },\n\n  /**\n   * @api private\n   */\n  handleRequestWithRetries: function handleRequestWithRetries(httpRequest, options, cb) {\n    if (!options) options = {};\n    var http = AWS.HttpClient.getInstance();\n    var httpOptions = options.httpOptions || {};\n    var retryCount = 0;\n\n    var errCallback = function(err) {\n      var maxRetries = options.maxRetries || 0;\n      if (err && err.code === 'TimeoutError') err.retryable = true;\n      var delay = util.calculateRetryDelay(retryCount, options.retryDelayOptions, err);\n      if (err && err.retryable && retryCount < maxRetries && delay >= 0) {\n        retryCount++;\n        setTimeout(sendRequest, delay + (err.retryAfter || 0));\n      } else {\n        cb(err);\n      }\n    };\n\n    var sendRequest = function() {\n      var data = '';\n      http.handleRequest(httpRequest, httpOptions, function(httpResponse) {\n        httpResponse.on('data', function(chunk) { data += chunk.toString(); });\n        httpResponse.on('end', function() {\n          var statusCode = httpResponse.statusCode;\n          if (statusCode < 300) {\n            cb(null, data);\n          } else {\n            var retryAfter = parseInt(httpResponse.headers['retry-after'], 10) * 1000 || 0;\n            var err = util.error(new Error(),\n              {\n                statusCode: statusCode,\n                retryable: statusCode >= 500 || statusCode === 429\n              }\n            );\n            if (retryAfter && err.retryable) err.retryAfter = retryAfter;\n            errCallback(err);\n          }\n        });\n      }, errCallback);\n    };\n\n    AWS.util.defer(sendRequest);\n  },\n\n  /**\n   * @api private\n   */\n  uuid: {\n    v4: function uuidV4() {\n      return require('uuid').v4();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  convertPayloadToString: function convertPayloadToString(resp) {\n    var req = resp.request;\n    var operation = req.operation;\n    var rules = req.service.api.operations[operation].output || {};\n    if (rules.payload && resp.data[rules.payload]) {\n      resp.data[rules.payload] = resp.data[rules.payload].toString();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defer: function defer(callback) {\n    if (typeof process === 'object' && typeof process.nextTick === 'function') {\n      process.nextTick(callback);\n    } else if (typeof setImmediate === 'function') {\n      setImmediate(callback);\n    } else {\n      setTimeout(callback, 0);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getRequestPayloadShape: function getRequestPayloadShape(req) {\n    var operations = req.service.api.operations;\n    if (!operations) return undefined;\n    var operation = (operations || {})[req.operation];\n    if (!operation || !operation.input || !operation.input.payload) return undefined;\n    return operation.input.members[operation.input.payload];\n  },\n\n  getProfilesFromSharedConfig: function getProfilesFromSharedConfig(iniLoader, filename) {\n    var profiles = {};\n    var profilesFromConfig = {};\n    if (process.env[util.configOptInEnv]) {\n      var profilesFromConfig = iniLoader.loadFrom({\n        isConfig: true,\n        filename: process.env[util.sharedConfigFileEnv]\n      });\n    }\n    var profilesFromCreds = iniLoader.loadFrom({\n      filename: filename ||\n        (process.env[util.configOptInEnv] && process.env[util.sharedCredentialsFileEnv])\n    });\n    for (var i = 0, profileNames = Object.keys(profilesFromConfig); i < profileNames.length; i++) {\n      profiles[profileNames[i]] = profilesFromConfig[profileNames[i]];\n    }\n    for (var i = 0, profileNames = Object.keys(profilesFromCreds); i < profileNames.length; i++) {\n      profiles[profileNames[i]] = profilesFromCreds[profileNames[i]];\n    }\n    return profiles;\n  },\n\n  /**\n   * @api private\n   */\n  ARN: {\n    validate: function validateARN(str) {\n      return str && str.indexOf('arn:') === 0 && str.split(':').length >= 6;\n    },\n    parse: function parseARN(arn) {\n      var matched = arn.split(':');\n      return {\n        partition: matched[1],\n        service: matched[2],\n        region: matched[3],\n        accountId: matched[4],\n        resource: matched.slice(5).join(':')\n      };\n    },\n    build: function buildARN(arnObject) {\n      if (\n        arnObject.service === undefined ||\n        arnObject.region === undefined ||\n        arnObject.accountId === undefined ||\n        arnObject.resource === undefined\n      ) throw util.error(new Error('Input ARN object is invalid'));\n      return 'arn:'+ (arnObject.partition || 'aws') + ':' + arnObject.service +\n        ':' + arnObject.region + ':' + arnObject.accountId + ':' + arnObject.resource;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  defaultProfile: 'default',\n\n  /**\n   * @api private\n   */\n  configOptInEnv: 'AWS_SDK_LOAD_CONFIG',\n\n  /**\n   * @api private\n   */\n  sharedCredentialsFileEnv: 'AWS_SHARED_CREDENTIALS_FILE',\n\n  /**\n   * @api private\n   */\n  sharedConfigFileEnv: 'AWS_CONFIG_FILE',\n\n  /**\n   * @api private\n   */\n  imdsDisabledEnv: 'AWS_EC2_METADATA_DISABLED'\n};\n\n/**\n * @api private\n */\nmodule.exports = util;\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory();\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\troot.CryptoJS = factory();\n\t}\n}(this, function () {\n\n\t/**\n\t * CryptoJS core components.\n\t */\n\tvar CryptoJS = CryptoJS || (function (Math, undefined) {\n\t    /*\n\t     * Local polyfil of Object.create\n\t     */\n\t    var create = Object.create || (function () {\n\t        function F() {};\n\n\t        return function (obj) {\n\t            var subtype;\n\n\t            F.prototype = obj;\n\n\t            subtype = new F();\n\n\t            F.prototype = null;\n\n\t            return subtype;\n\t        };\n\t    }())\n\n\t    /**\n\t     * CryptoJS namespace.\n\t     */\n\t    var C = {};\n\n\t    /**\n\t     * Library namespace.\n\t     */\n\t    var C_lib = C.lib = {};\n\n\t    /**\n\t     * Base object for prototypal inheritance.\n\t     */\n\t    var Base = C_lib.Base = (function () {\n\n\n\t        return {\n\t            /**\n\t             * Creates a new object that inherits from this object.\n\t             *\n\t             * @param {Object} overrides Properties to copy into the new object.\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         field: 'value',\n\t             *\n\t             *         method: function () {\n\t             *         }\n\t             *     });\n\t             */\n\t            extend: function (overrides) {\n\t                // Spawn\n\t                var subtype = create(this);\n\n\t                // Augment\n\t                if (overrides) {\n\t                    subtype.mixIn(overrides);\n\t                }\n\n\t                // Create default initializer\n\t                if (!subtype.hasOwnProperty('init') || this.init === subtype.init) {\n\t                    subtype.init = function () {\n\t                        subtype.$super.init.apply(this, arguments);\n\t                    };\n\t                }\n\n\t                // Initializer's prototype is the subtype object\n\t                subtype.init.prototype = subtype;\n\n\t                // Reference supertype\n\t                subtype.$super = this;\n\n\t                return subtype;\n\t            },\n\n\t            /**\n\t             * Extends this object and runs the init method.\n\t             * Arguments to create() will be passed to init().\n\t             *\n\t             * @return {Object} The new object.\n\t             *\n\t             * @static\n\t             *\n\t             * @example\n\t             *\n\t             *     var instance = MyType.create();\n\t             */\n\t            create: function () {\n\t                var instance = this.extend();\n\t                instance.init.apply(instance, arguments);\n\n\t                return instance;\n\t            },\n\n\t            /**\n\t             * Initializes a newly created object.\n\t             * Override this method to add some logic when your objects are created.\n\t             *\n\t             * @example\n\t             *\n\t             *     var MyType = CryptoJS.lib.Base.extend({\n\t             *         init: function () {\n\t             *             // ...\n\t             *         }\n\t             *     });\n\t             */\n\t            init: function () {\n\t            },\n\n\t            /**\n\t             * Copies properties into this object.\n\t             *\n\t             * @param {Object} properties The properties to mix in.\n\t             *\n\t             * @example\n\t             *\n\t             *     MyType.mixIn({\n\t             *         field: 'value'\n\t             *     });\n\t             */\n\t            mixIn: function (properties) {\n\t                for (var propertyName in properties) {\n\t                    if (properties.hasOwnProperty(propertyName)) {\n\t                        this[propertyName] = properties[propertyName];\n\t                    }\n\t                }\n\n\t                // IE won't copy toString using the loop above\n\t                if (properties.hasOwnProperty('toString')) {\n\t                    this.toString = properties.toString;\n\t                }\n\t            },\n\n\t            /**\n\t             * Creates a copy of this object.\n\t             *\n\t             * @return {Object} The clone.\n\t             *\n\t             * @example\n\t             *\n\t             *     var clone = instance.clone();\n\t             */\n\t            clone: function () {\n\t                return this.init.prototype.extend(this);\n\t            }\n\t        };\n\t    }());\n\n\t    /**\n\t     * An array of 32-bit words.\n\t     *\n\t     * @property {Array} words The array of 32-bit words.\n\t     * @property {number} sigBytes The number of significant bytes in this word array.\n\t     */\n\t    var WordArray = C_lib.WordArray = Base.extend({\n\t        /**\n\t         * Initializes a newly created word array.\n\t         *\n\t         * @param {Array} words (Optional) An array of 32-bit words.\n\t         * @param {number} sigBytes (Optional) The number of significant bytes in the words.\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.create();\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607]);\n\t         *     var wordArray = CryptoJS.lib.WordArray.create([0x00010203, 0x04050607], 6);\n\t         */\n\t        init: function (words, sigBytes) {\n\t            words = this.words = words || [];\n\n\t            if (sigBytes != undefined) {\n\t                this.sigBytes = sigBytes;\n\t            } else {\n\t                this.sigBytes = words.length * 4;\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts this word array to a string.\n\t         *\n\t         * @param {Encoder} encoder (Optional) The encoding strategy to use. Default: CryptoJS.enc.Hex\n\t         *\n\t         * @return {string} The stringified word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     var string = wordArray + '';\n\t         *     var string = wordArray.toString();\n\t         *     var string = wordArray.toString(CryptoJS.enc.Utf8);\n\t         */\n\t        toString: function (encoder) {\n\t            return (encoder || Hex).stringify(this);\n\t        },\n\n\t        /**\n\t         * Concatenates a word array to this word array.\n\t         *\n\t         * @param {WordArray} wordArray The word array to append.\n\t         *\n\t         * @return {WordArray} This word array.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray1.concat(wordArray2);\n\t         */\n\t        concat: function (wordArray) {\n\t            // Shortcuts\n\t            var thisWords = this.words;\n\t            var thatWords = wordArray.words;\n\t            var thisSigBytes = this.sigBytes;\n\t            var thatSigBytes = wordArray.sigBytes;\n\n\t            // Clamp excess bits\n\t            this.clamp();\n\n\t            // Concat\n\t            if (thisSigBytes % 4) {\n\t                // Copy one byte at a time\n\t                for (var i = 0; i < thatSigBytes; i++) {\n\t                    var thatByte = (thatWords[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                    thisWords[(thisSigBytes + i) >>> 2] |= thatByte << (24 - ((thisSigBytes + i) % 4) * 8);\n\t                }\n\t            } else {\n\t                // Copy one word at a time\n\t                for (var i = 0; i < thatSigBytes; i += 4) {\n\t                    thisWords[(thisSigBytes + i) >>> 2] = thatWords[i >>> 2];\n\t                }\n\t            }\n\t            this.sigBytes += thatSigBytes;\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Removes insignificant bits.\n\t         *\n\t         * @example\n\t         *\n\t         *     wordArray.clamp();\n\t         */\n\t        clamp: function () {\n\t            // Shortcuts\n\t            var words = this.words;\n\t            var sigBytes = this.sigBytes;\n\n\t            // Clamp\n\t            words[sigBytes >>> 2] &= 0xffffffff << (32 - (sigBytes % 4) * 8);\n\t            words.length = Math.ceil(sigBytes / 4);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this word array.\n\t         *\n\t         * @return {WordArray} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = wordArray.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone.words = this.words.slice(0);\n\n\t            return clone;\n\t        },\n\n\t        /**\n\t         * Creates a word array filled with random bytes.\n\t         *\n\t         * @param {number} nBytes The number of random bytes to generate.\n\t         *\n\t         * @return {WordArray} The random word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.lib.WordArray.random(16);\n\t         */\n\t        random: function (nBytes) {\n\t            var words = [];\n\n\t            var r = (function (m_w) {\n\t                var m_w = m_w;\n\t                var m_z = 0x3ade68b1;\n\t                var mask = 0xffffffff;\n\n\t                return function () {\n\t                    m_z = (0x9069 * (m_z & 0xFFFF) + (m_z >> 0x10)) & mask;\n\t                    m_w = (0x4650 * (m_w & 0xFFFF) + (m_w >> 0x10)) & mask;\n\t                    var result = ((m_z << 0x10) + m_w) & mask;\n\t                    result /= 0x100000000;\n\t                    result += 0.5;\n\t                    return result * (Math.random() > .5 ? 1 : -1);\n\t                }\n\t            });\n\n\t            for (var i = 0, rcache; i < nBytes; i += 4) {\n\t                var _r = r((rcache || Math.random()) * 0x100000000);\n\n\t                rcache = _r() * 0x3ade67b7;\n\t                words.push((_r() * 0x100000000) | 0);\n\t            }\n\n\t            return new WordArray.init(words, nBytes);\n\t        }\n\t    });\n\n\t    /**\n\t     * Encoder namespace.\n\t     */\n\t    var C_enc = C.enc = {};\n\n\t    /**\n\t     * Hex encoding strategy.\n\t     */\n\t    var Hex = C_enc.Hex = {\n\t        /**\n\t         * Converts a word array to a hex string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The hex string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var hexString = CryptoJS.enc.Hex.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var hexChars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                hexChars.push((bite >>> 4).toString(16));\n\t                hexChars.push((bite & 0x0f).toString(16));\n\t            }\n\n\t            return hexChars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a hex string to a word array.\n\t         *\n\t         * @param {string} hexStr The hex string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Hex.parse(hexString);\n\t         */\n\t        parse: function (hexStr) {\n\t            // Shortcut\n\t            var hexStrLength = hexStr.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < hexStrLength; i += 2) {\n\t                words[i >>> 3] |= parseInt(hexStr.substr(i, 2), 16) << (24 - (i % 8) * 4);\n\t            }\n\n\t            return new WordArray.init(words, hexStrLength / 2);\n\t        }\n\t    };\n\n\t    /**\n\t     * Latin1 encoding strategy.\n\t     */\n\t    var Latin1 = C_enc.Latin1 = {\n\t        /**\n\t         * Converts a word array to a Latin1 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Latin1 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var latin1String = CryptoJS.enc.Latin1.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\n\t            // Convert\n\t            var latin1Chars = [];\n\t            for (var i = 0; i < sigBytes; i++) {\n\t                var bite = (words[i >>> 2] >>> (24 - (i % 4) * 8)) & 0xff;\n\t                latin1Chars.push(String.fromCharCode(bite));\n\t            }\n\n\t            return latin1Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Latin1 string to a word array.\n\t         *\n\t         * @param {string} latin1Str The Latin1 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Latin1.parse(latin1String);\n\t         */\n\t        parse: function (latin1Str) {\n\t            // Shortcut\n\t            var latin1StrLength = latin1Str.length;\n\n\t            // Convert\n\t            var words = [];\n\t            for (var i = 0; i < latin1StrLength; i++) {\n\t                words[i >>> 2] |= (latin1Str.charCodeAt(i) & 0xff) << (24 - (i % 4) * 8);\n\t            }\n\n\t            return new WordArray.init(words, latin1StrLength);\n\t        }\n\t    };\n\n\t    /**\n\t     * UTF-8 encoding strategy.\n\t     */\n\t    var Utf8 = C_enc.Utf8 = {\n\t        /**\n\t         * Converts a word array to a UTF-8 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The UTF-8 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var utf8String = CryptoJS.enc.Utf8.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            try {\n\t                return decodeURIComponent(escape(Latin1.stringify(wordArray)));\n\t            } catch (e) {\n\t                throw new Error('Malformed UTF-8 data');\n\t            }\n\t        },\n\n\t        /**\n\t         * Converts a UTF-8 string to a word array.\n\t         *\n\t         * @param {string} utf8Str The UTF-8 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Utf8.parse(utf8String);\n\t         */\n\t        parse: function (utf8Str) {\n\t            return Latin1.parse(unescape(encodeURIComponent(utf8Str)));\n\t        }\n\t    };\n\n\t    /**\n\t     * Abstract buffered block algorithm template.\n\t     *\n\t     * The property blockSize must be implemented in a concrete subtype.\n\t     *\n\t     * @property {number} _minBufferSize The number of blocks that should be kept unprocessed in the buffer. Default: 0\n\t     */\n\t    var BufferedBlockAlgorithm = C_lib.BufferedBlockAlgorithm = Base.extend({\n\t        /**\n\t         * Resets this block algorithm's data buffer to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm.reset();\n\t         */\n\t        reset: function () {\n\t            // Initial values\n\t            this._data = new WordArray.init();\n\t            this._nDataBytes = 0;\n\t        },\n\n\t        /**\n\t         * Adds new data to this block algorithm's buffer.\n\t         *\n\t         * @param {WordArray|string} data The data to append. Strings are converted to a WordArray using UTF-8.\n\t         *\n\t         * @example\n\t         *\n\t         *     bufferedBlockAlgorithm._append('data');\n\t         *     bufferedBlockAlgorithm._append(wordArray);\n\t         */\n\t        _append: function (data) {\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof data == 'string') {\n\t                data = Utf8.parse(data);\n\t            }\n\n\t            // Append\n\t            this._data.concat(data);\n\t            this._nDataBytes += data.sigBytes;\n\t        },\n\n\t        /**\n\t         * Processes available data blocks.\n\t         *\n\t         * This method invokes _doProcessBlock(offset), which must be implemented by a concrete subtype.\n\t         *\n\t         * @param {boolean} doFlush Whether all blocks and partial blocks should be processed.\n\t         *\n\t         * @return {WordArray} The processed data.\n\t         *\n\t         * @example\n\t         *\n\t         *     var processedData = bufferedBlockAlgorithm._process();\n\t         *     var processedData = bufferedBlockAlgorithm._process(!!'flush');\n\t         */\n\t        _process: function (doFlush) {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\t            var dataSigBytes = data.sigBytes;\n\t            var blockSize = this.blockSize;\n\t            var blockSizeBytes = blockSize * 4;\n\n\t            // Count blocks ready\n\t            var nBlocksReady = dataSigBytes / blockSizeBytes;\n\t            if (doFlush) {\n\t                // Round up to include partial blocks\n\t                nBlocksReady = Math.ceil(nBlocksReady);\n\t            } else {\n\t                // Round down to include only full blocks,\n\t                // less the number of blocks that must remain in the buffer\n\t                nBlocksReady = Math.max((nBlocksReady | 0) - this._minBufferSize, 0);\n\t            }\n\n\t            // Count words ready\n\t            var nWordsReady = nBlocksReady * blockSize;\n\n\t            // Count bytes ready\n\t            var nBytesReady = Math.min(nWordsReady * 4, dataSigBytes);\n\n\t            // Process blocks\n\t            if (nWordsReady) {\n\t                for (var offset = 0; offset < nWordsReady; offset += blockSize) {\n\t                    // Perform concrete-algorithm logic\n\t                    this._doProcessBlock(dataWords, offset);\n\t                }\n\n\t                // Remove processed words\n\t                var processedWords = dataWords.splice(0, nWordsReady);\n\t                data.sigBytes -= nBytesReady;\n\t            }\n\n\t            // Return processed words\n\t            return new WordArray.init(processedWords, nBytesReady);\n\t        },\n\n\t        /**\n\t         * Creates a copy of this object.\n\t         *\n\t         * @return {Object} The clone.\n\t         *\n\t         * @example\n\t         *\n\t         *     var clone = bufferedBlockAlgorithm.clone();\n\t         */\n\t        clone: function () {\n\t            var clone = Base.clone.call(this);\n\t            clone._data = this._data.clone();\n\n\t            return clone;\n\t        },\n\n\t        _minBufferSize: 0\n\t    });\n\n\t    /**\n\t     * Abstract hasher template.\n\t     *\n\t     * @property {number} blockSize The number of 32-bit words this hasher operates on. Default: 16 (512 bits)\n\t     */\n\t    var Hasher = C_lib.Hasher = BufferedBlockAlgorithm.extend({\n\t        /**\n\t         * Configuration options.\n\t         */\n\t        cfg: Base.extend(),\n\n\t        /**\n\t         * Initializes a newly created hasher.\n\t         *\n\t         * @param {Object} cfg (Optional) The configuration options to use for this hash computation.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hasher = CryptoJS.algo.SHA256.create();\n\t         */\n\t        init: function (cfg) {\n\t            // Apply config defaults\n\t            this.cfg = this.cfg.extend(cfg);\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this hasher to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Reset data buffer\n\t            BufferedBlockAlgorithm.reset.call(this);\n\n\t            // Perform concrete-hasher logic\n\t            this._doReset();\n\t        },\n\n\t        /**\n\t         * Updates this hasher with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {Hasher} This hasher.\n\t         *\n\t         * @example\n\t         *\n\t         *     hasher.update('message');\n\t         *     hasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            // Append\n\t            this._append(messageUpdate);\n\n\t            // Update the hash\n\t            this._process();\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the hash computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The hash.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hash = hasher.finalize();\n\t         *     var hash = hasher.finalize('message');\n\t         *     var hash = hasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Final message update\n\t            if (messageUpdate) {\n\t                this._append(messageUpdate);\n\t            }\n\n\t            // Perform concrete-hasher logic\n\t            var hash = this._doFinalize();\n\n\t            return hash;\n\t        },\n\n\t        blockSize: 512/32,\n\n\t        /**\n\t         * Creates a shortcut function to a hasher's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to create a helper for.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var SHA256 = CryptoJS.lib.Hasher._createHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHelper: function (hasher) {\n\t            return function (message, cfg) {\n\t                return new hasher.init(cfg).finalize(message);\n\t            };\n\t        },\n\n\t        /**\n\t         * Creates a shortcut function to the HMAC's object interface.\n\t         *\n\t         * @param {Hasher} hasher The hasher to use in this HMAC helper.\n\t         *\n\t         * @return {Function} The shortcut function.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var HmacSHA256 = CryptoJS.lib.Hasher._createHmacHelper(CryptoJS.algo.SHA256);\n\t         */\n\t        _createHmacHelper: function (hasher) {\n\t            return function (message, key) {\n\t                return new C_algo.HMAC.init(hasher, key).finalize(message);\n\t            };\n\t        }\n\t    });\n\n\t    /**\n\t     * Algorithm namespace.\n\t     */\n\t    var C_algo = C.algo = {};\n\n\t    return C;\n\t}(Math));\n\n\n\treturn CryptoJS;\n\n}));","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/*!\n * JavaScript Cookie v2.2.1\n * https://github.com/js-cookie/js-cookie\n *\n * Copyright 2006, 2015 Klaus Hartl & Fagner Brack\n * Released under the MIT license\n */\n;(function (factory) {\n\tvar registeredInModuleLoader;\n\tif (typeof define === 'function' && define.amd) {\n\t\tdefine(factory);\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (typeof exports === 'object') {\n\t\tmodule.exports = factory();\n\t\tregisteredInModuleLoader = true;\n\t}\n\tif (!registeredInModuleLoader) {\n\t\tvar OldCookies = window.Cookies;\n\t\tvar api = window.Cookies = factory();\n\t\tapi.noConflict = function () {\n\t\t\twindow.Cookies = OldCookies;\n\t\t\treturn api;\n\t\t};\n\t}\n}(function () {\n\tfunction extend () {\n\t\tvar i = 0;\n\t\tvar result = {};\n\t\tfor (; i < arguments.length; i++) {\n\t\t\tvar attributes = arguments[ i ];\n\t\t\tfor (var key in attributes) {\n\t\t\t\tresult[key] = attributes[key];\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction decode (s) {\n\t\treturn s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n\t}\n\n\tfunction init (converter) {\n\t\tfunction api() {}\n\n\t\tfunction set (key, value, attributes) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tattributes = extend({\n\t\t\t\tpath: '/'\n\t\t\t}, api.defaults, attributes);\n\n\t\t\tif (typeof attributes.expires === 'number') {\n\t\t\t\tattributes.expires = new Date(new Date() * 1 + attributes.expires * 864e+5);\n\t\t\t}\n\n\t\t\t// We're using \"expires\" because \"max-age\" is not supported by IE\n\t\t\tattributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n\n\t\t\ttry {\n\t\t\t\tvar result = JSON.stringify(value);\n\t\t\t\tif (/^[\\{\\[]/.test(result)) {\n\t\t\t\t\tvalue = result;\n\t\t\t\t}\n\t\t\t} catch (e) {}\n\n\t\t\tvalue = converter.write ?\n\t\t\t\tconverter.write(value, key) :\n\t\t\t\tencodeURIComponent(String(value))\n\t\t\t\t\t.replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n\t\t\tkey = encodeURIComponent(String(key))\n\t\t\t\t.replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n\t\t\t\t.replace(/[\\(\\)]/g, escape);\n\n\t\t\tvar stringifiedAttributes = '';\n\t\t\tfor (var attributeName in attributes) {\n\t\t\t\tif (!attributes[attributeName]) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tstringifiedAttributes += '; ' + attributeName;\n\t\t\t\tif (attributes[attributeName] === true) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Considers RFC 6265 section 5.2:\n\t\t\t\t// ...\n\t\t\t\t// 3.  If the remaining unparsed-attributes contains a %x3B (\";\")\n\t\t\t\t//     character:\n\t\t\t\t// Consume the characters of the unparsed-attributes up to,\n\t\t\t\t// not including, the first %x3B (\";\") character.\n\t\t\t\t// ...\n\t\t\t\tstringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n\t\t\t}\n\n\t\t\treturn (document.cookie = key + '=' + value + stringifiedAttributes);\n\t\t}\n\n\t\tfunction get (key, json) {\n\t\t\tif (typeof document === 'undefined') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar jar = {};\n\t\t\t// To prevent the for loop in the first place assign an empty array\n\t\t\t// in case there are no cookies at all.\n\t\t\tvar cookies = document.cookie ? document.cookie.split('; ') : [];\n\t\t\tvar i = 0;\n\n\t\t\tfor (; i < cookies.length; i++) {\n\t\t\t\tvar parts = cookies[i].split('=');\n\t\t\t\tvar cookie = parts.slice(1).join('=');\n\n\t\t\t\tif (!json && cookie.charAt(0) === '\"') {\n\t\t\t\t\tcookie = cookie.slice(1, -1);\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\tvar name = decode(parts[0]);\n\t\t\t\t\tcookie = (converter.read || converter)(cookie, name) ||\n\t\t\t\t\t\tdecode(cookie);\n\n\t\t\t\t\tif (json) {\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tcookie = JSON.parse(cookie);\n\t\t\t\t\t\t} catch (e) {}\n\t\t\t\t\t}\n\n\t\t\t\t\tjar[name] = cookie;\n\n\t\t\t\t\tif (key === name) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} catch (e) {}\n\t\t\t}\n\n\t\t\treturn key ? jar[key] : jar;\n\t\t}\n\n\t\tapi.set = set;\n\t\tapi.get = function (key) {\n\t\t\treturn get(key, false /* read as raw */);\n\t\t};\n\t\tapi.getJSON = function (key) {\n\t\t\treturn get(key, true /* read as json */);\n\t\t};\n\t\tapi.remove = function (key, attributes) {\n\t\t\tset(key, '', extend(attributes, {\n\t\t\t\texpires: -1\n\t\t\t}));\n\t\t};\n\n\t\tapi.defaults = {};\n\n\t\tapi.withConverter = init;\n\n\t\treturn api;\n\t}\n\n\treturn init(function () {});\n}));\n",";(function (root, factory, undef) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"), require(\"./sha256\"), require(\"./hmac\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\", \"./sha256\", \"./hmac\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\treturn CryptoJS.HmacSHA256;\n\n}));","var Collection = require('./collection');\n\nvar util = require('../util');\n\nfunction property(obj, name, value) {\n  if (value !== null && value !== undefined) {\n    util.property.apply(this, arguments);\n  }\n}\n\nfunction memoizedProperty(obj, name) {\n  if (!obj.constructor.prototype[name]) {\n    util.memoizedProperty.apply(this, arguments);\n  }\n}\n\nfunction Shape(shape, options, memberName) {\n  options = options || {};\n\n  property(this, 'shape', shape.shape);\n  property(this, 'api', options.api, false);\n  property(this, 'type', shape.type);\n  property(this, 'enum', shape.enum);\n  property(this, 'min', shape.min);\n  property(this, 'max', shape.max);\n  property(this, 'pattern', shape.pattern);\n  property(this, 'location', shape.location || this.location || 'body');\n  property(this, 'name', this.name || shape.xmlName || shape.queryName ||\n    shape.locationName || memberName);\n  property(this, 'isStreaming', shape.streaming || this.isStreaming || false);\n  property(this, 'requiresLength', shape.requiresLength, false);\n  property(this, 'isComposite', shape.isComposite || false);\n  property(this, 'isShape', true, false);\n  property(this, 'isQueryName', Boolean(shape.queryName), false);\n  property(this, 'isLocationName', Boolean(shape.locationName), false);\n  property(this, 'isIdempotent', shape.idempotencyToken === true);\n  property(this, 'isJsonValue', shape.jsonvalue === true);\n  property(this, 'isSensitive', shape.sensitive === true || shape.prototype && shape.prototype.sensitive === true);\n  property(this, 'isEventStream', Boolean(shape.eventstream), false);\n  property(this, 'isEvent', Boolean(shape.event), false);\n  property(this, 'isEventPayload', Boolean(shape.eventpayload), false);\n  property(this, 'isEventHeader', Boolean(shape.eventheader), false);\n  property(this, 'isTimestampFormatSet', Boolean(shape.timestampFormat) || shape.prototype && shape.prototype.isTimestampFormatSet === true, false);\n  property(this, 'endpointDiscoveryId', Boolean(shape.endpointdiscoveryid), false);\n  property(this, 'hostLabel', Boolean(shape.hostLabel), false);\n\n  if (options.documentation) {\n    property(this, 'documentation', shape.documentation);\n    property(this, 'documentationUrl', shape.documentationUrl);\n  }\n\n  if (shape.xmlAttribute) {\n    property(this, 'isXmlAttribute', shape.xmlAttribute || false);\n  }\n\n  // type conversion and parsing\n  property(this, 'defaultValue', null);\n  this.toWireFormat = function(value) {\n    if (value === null || value === undefined) return '';\n    return value;\n  };\n  this.toType = function(value) { return value; };\n}\n\n/**\n * @api private\n */\nShape.normalizedTypes = {\n  character: 'string',\n  double: 'float',\n  long: 'integer',\n  short: 'integer',\n  biginteger: 'integer',\n  bigdecimal: 'float',\n  blob: 'binary'\n};\n\n/**\n * @api private\n */\nShape.types = {\n  'structure': StructureShape,\n  'list': ListShape,\n  'map': MapShape,\n  'boolean': BooleanShape,\n  'timestamp': TimestampShape,\n  'float': FloatShape,\n  'integer': IntegerShape,\n  'string': StringShape,\n  'base64': Base64Shape,\n  'binary': BinaryShape\n};\n\nShape.resolve = function resolve(shape, options) {\n  if (shape.shape) {\n    var refShape = options.api.shapes[shape.shape];\n    if (!refShape) {\n      throw new Error('Cannot find shape reference: ' + shape.shape);\n    }\n\n    return refShape;\n  } else {\n    return null;\n  }\n};\n\nShape.create = function create(shape, options, memberName) {\n  if (shape.isShape) return shape;\n\n  var refShape = Shape.resolve(shape, options);\n  if (refShape) {\n    var filteredKeys = Object.keys(shape);\n    if (!options.documentation) {\n      filteredKeys = filteredKeys.filter(function(name) {\n        return !name.match(/documentation/);\n      });\n    }\n\n    // create an inline shape with extra members\n    var InlineShape = function() {\n      refShape.constructor.call(this, shape, options, memberName);\n    };\n    InlineShape.prototype = refShape;\n    return new InlineShape();\n  } else {\n    // set type if not set\n    if (!shape.type) {\n      if (shape.members) shape.type = 'structure';\n      else if (shape.member) shape.type = 'list';\n      else if (shape.key) shape.type = 'map';\n      else shape.type = 'string';\n    }\n\n    // normalize types\n    var origType = shape.type;\n    if (Shape.normalizedTypes[shape.type]) {\n      shape.type = Shape.normalizedTypes[shape.type];\n    }\n\n    if (Shape.types[shape.type]) {\n      return new Shape.types[shape.type](shape, options, memberName);\n    } else {\n      throw new Error('Unrecognized shape type: ' + origType);\n    }\n  }\n};\n\nfunction CompositeShape(shape) {\n  Shape.apply(this, arguments);\n  property(this, 'isComposite', true);\n\n  if (shape.flattened) {\n    property(this, 'flattened', shape.flattened || false);\n  }\n}\n\nfunction StructureShape(shape, options) {\n  var self = this;\n  var requiredMap = null, firstInit = !this.isShape;\n\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'members', {});\n    property(this, 'memberNames', []);\n    property(this, 'required', []);\n    property(this, 'isRequired', function() { return false; });\n  }\n\n  if (shape.members) {\n    property(this, 'members', new Collection(shape.members, options, function(name, member) {\n      return Shape.create(member, options, name);\n    }));\n    memoizedProperty(this, 'memberNames', function() {\n      return shape.xmlOrder || Object.keys(shape.members);\n    });\n\n    if (shape.event) {\n      memoizedProperty(this, 'eventPayloadMemberName', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        // iterate over members to find ones that are event payloads\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventPayload) {\n            return memberNames[i];\n          }\n        }\n      });\n\n      memoizedProperty(this, 'eventHeaderMemberNames', function() {\n        var members = self.members;\n        var memberNames = self.memberNames;\n        var eventHeaderMemberNames = [];\n        // iterate over members to find ones that are event headers\n        for (var i = 0, iLen = memberNames.length; i < iLen; i++) {\n          if (members[memberNames[i]].isEventHeader) {\n            eventHeaderMemberNames.push(memberNames[i]);\n          }\n        }\n        return eventHeaderMemberNames;\n      });\n    }\n  }\n\n  if (shape.required) {\n    property(this, 'required', shape.required);\n    property(this, 'isRequired', function(name) {\n      if (!requiredMap) {\n        requiredMap = {};\n        for (var i = 0; i < shape.required.length; i++) {\n          requiredMap[shape.required[i]] = true;\n        }\n      }\n\n      return requiredMap[name];\n    }, false, true);\n  }\n\n  property(this, 'resultWrapper', shape.resultWrapper || null);\n\n  if (shape.payload) {\n    property(this, 'payload', shape.payload);\n  }\n\n  if (typeof shape.xmlNamespace === 'string') {\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace);\n  } else if (typeof shape.xmlNamespace === 'object') {\n    property(this, 'xmlNamespacePrefix', shape.xmlNamespace.prefix);\n    property(this, 'xmlNamespaceUri', shape.xmlNamespace.uri);\n  }\n}\n\nfunction ListShape(shape, options) {\n  var self = this, firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return []; });\n  }\n\n  if (shape.member) {\n    memoizedProperty(this, 'member', function() {\n      return Shape.create(shape.member, options);\n    });\n  }\n\n  if (this.flattened) {\n    var oldName = this.name;\n    memoizedProperty(this, 'name', function() {\n      return self.member.name || oldName;\n    });\n  }\n}\n\nfunction MapShape(shape, options) {\n  var firstInit = !this.isShape;\n  CompositeShape.apply(this, arguments);\n\n  if (firstInit) {\n    property(this, 'defaultValue', function() { return {}; });\n    property(this, 'key', Shape.create({type: 'string'}, options));\n    property(this, 'value', Shape.create({type: 'string'}, options));\n  }\n\n  if (shape.key) {\n    memoizedProperty(this, 'key', function() {\n      return Shape.create(shape.key, options);\n    });\n  }\n  if (shape.value) {\n    memoizedProperty(this, 'value', function() {\n      return Shape.create(shape.value, options);\n    });\n  }\n}\n\nfunction TimestampShape(shape) {\n  var self = this;\n  Shape.apply(this, arguments);\n\n  if (shape.timestampFormat) {\n    property(this, 'timestampFormat', shape.timestampFormat);\n  } else if (self.isTimestampFormatSet && this.timestampFormat) {\n    property(this, 'timestampFormat', this.timestampFormat);\n  } else if (this.location === 'header') {\n    property(this, 'timestampFormat', 'rfc822');\n  } else if (this.location === 'querystring') {\n    property(this, 'timestampFormat', 'iso8601');\n  } else if (this.api) {\n    switch (this.api.protocol) {\n      case 'json':\n      case 'rest-json':\n        property(this, 'timestampFormat', 'unixTimestamp');\n        break;\n      case 'rest-xml':\n      case 'query':\n      case 'ec2':\n        property(this, 'timestampFormat', 'iso8601');\n        break;\n    }\n  }\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    if (typeof value.toUTCString === 'function') return value;\n    return typeof value === 'string' || typeof value === 'number' ?\n           util.date.parseTimestamp(value) : null;\n  };\n\n  this.toWireFormat = function(value) {\n    return util.date.format(value, self.timestampFormat);\n  };\n}\n\nfunction StringShape() {\n  Shape.apply(this, arguments);\n\n  var nullLessProtocols = ['rest-xml', 'query', 'ec2'];\n  this.toType = function(value) {\n    value = this.api && nullLessProtocols.indexOf(this.api.protocol) > -1 ?\n      value || '' : value;\n    if (this.isJsonValue) {\n      return JSON.parse(value);\n    }\n\n    return value && typeof value.toString === 'function' ?\n      value.toString() : value;\n  };\n\n  this.toWireFormat = function(value) {\n    return this.isJsonValue ? JSON.stringify(value) : value;\n  };\n}\n\nfunction FloatShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseFloat(value);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction IntegerShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (value === null || value === undefined) return null;\n    return parseInt(value, 10);\n  };\n  this.toWireFormat = this.toType;\n}\n\nfunction BinaryShape() {\n  Shape.apply(this, arguments);\n  this.toType = function(value) {\n    var buf = util.base64.decode(value);\n    if (this.isSensitive && util.isNode() && typeof util.Buffer.alloc === 'function') {\n  /* Node.js can create a Buffer that is not isolated.\n   * i.e. buf.byteLength !== buf.buffer.byteLength\n   * This means that the sensitive data is accessible to anyone with access to buf.buffer.\n   * If this is the node shared Buffer, then other code within this process _could_ find this secret.\n   * Copy sensitive data to an isolated Buffer and zero the sensitive data.\n   * While this is safe to do here, copying this code somewhere else may produce unexpected results.\n   */\n      var secureBuf = util.Buffer.alloc(buf.length, buf);\n      buf.fill(0);\n      buf = secureBuf;\n    }\n    return buf;\n  };\n  this.toWireFormat = util.base64.encode;\n}\n\nfunction Base64Shape() {\n  BinaryShape.apply(this, arguments);\n}\n\nfunction BooleanShape() {\n  Shape.apply(this, arguments);\n\n  this.toType = function(value) {\n    if (typeof value === 'boolean') return value;\n    if (value === null || value === undefined) return null;\n    return value === 'true';\n  };\n}\n\n/**\n * @api private\n */\nShape.shapes = {\n  StructureShape: StructureShape,\n  ListShape: ListShape,\n  MapShape: MapShape,\n  StringShape: StringShape,\n  BooleanShape: BooleanShape,\n  Base64Shape: Base64Shape\n};\n\n/**\n * @api private\n */\nmodule.exports = Shape;\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['sts'] = {};\nAWS.STS = Service.defineService('sts', ['2011-06-15']);\nrequire('../lib/services/sts');\nObject.defineProperty(apiLoader.services['sts'], '2011-06-15', {\n  get: function get() {\n    var model = require('../apis/sts-2011-06-15.min.json');\n    model.paginators = require('../apis/sts-2011-06-15.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.STS;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var util = require('../util');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction populateMethod(req) {\n  req.httpRequest.method = req.service.api.operations[req.operation].httpMethod;\n}\n\nfunction generateURI(endpointPath, operationPath, input, params) {\n  var uri = [endpointPath, operationPath].join('/');\n  uri = uri.replace(/\\/+/g, '/');\n\n  var queryString = {}, queryStringSet = false;\n  util.each(input.members, function (name, member) {\n    var paramValue = params[name];\n    if (paramValue === null || paramValue === undefined) return;\n    if (member.location === 'uri') {\n      var regex = new RegExp('\\\\{' + member.name + '(\\\\+)?\\\\}');\n      uri = uri.replace(regex, function(_, plus) {\n        var fn = plus ? util.uriEscapePath : util.uriEscape;\n        return fn(String(paramValue));\n      });\n    } else if (member.location === 'querystring') {\n      queryStringSet = true;\n\n      if (member.type === 'list') {\n        queryString[member.name] = paramValue.map(function(val) {\n          return util.uriEscape(member.member.toWireFormat(val).toString());\n        });\n      } else if (member.type === 'map') {\n        util.each(paramValue, function(key, value) {\n          if (Array.isArray(value)) {\n            queryString[key] = value.map(function(val) {\n              return util.uriEscape(String(val));\n            });\n          } else {\n            queryString[key] = util.uriEscape(String(value));\n          }\n        });\n      } else {\n        queryString[member.name] = util.uriEscape(member.toWireFormat(paramValue).toString());\n      }\n    }\n  });\n\n  if (queryStringSet) {\n    uri += (uri.indexOf('?') >= 0 ? '&' : '?');\n    var parts = [];\n    util.arrayEach(Object.keys(queryString).sort(), function(key) {\n      if (!Array.isArray(queryString[key])) {\n        queryString[key] = [queryString[key]];\n      }\n      for (var i = 0; i < queryString[key].length; i++) {\n        parts.push(util.uriEscape(String(key)) + '=' + queryString[key][i]);\n      }\n    });\n    uri += parts.join('&');\n  }\n\n  return uri;\n}\n\nfunction populateURI(req) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  var uri = generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n  req.httpRequest.path = uri;\n}\n\nfunction populateHeaders(req) {\n  var operation = req.service.api.operations[req.operation];\n  util.each(operation.input.members, function (name, member) {\n    var value = req.params[name];\n    if (value === null || value === undefined) return;\n\n    if (member.location === 'headers' && member.type === 'map') {\n      util.each(value, function(key, memberValue) {\n        req.httpRequest.headers[member.name + key] = memberValue;\n      });\n    } else if (member.location === 'header') {\n      value = member.toWireFormat(value).toString();\n      if (member.isJsonValue) {\n        value = util.base64.encode(value);\n      }\n      req.httpRequest.headers[member.name] = value;\n    }\n  });\n}\n\nfunction buildRequest(req) {\n  populateMethod(req);\n  populateURI(req);\n  populateHeaders(req);\n  populateHostPrefix(req);\n}\n\nfunction extractError() {\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var data = {};\n  var r = resp.httpResponse;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  // normalize headers names to lower-cased keys for matching\n  var headers = {};\n  util.each(r.headers, function (k, v) {\n    headers[k.toLowerCase()] = v;\n  });\n\n  util.each(output.members, function(name, member) {\n    var header = (member.name || name).toLowerCase();\n    if (member.location === 'headers' && member.type === 'map') {\n      data[name] = {};\n      var location = member.isLocationName ? member.name : '';\n      var pattern = new RegExp('^' + location + '(.+)', 'i');\n      util.each(r.headers, function (k, v) {\n        var result = k.match(pattern);\n        if (result !== null) {\n          data[name][result[1]] = v;\n        }\n      });\n    } else if (member.location === 'header') {\n      if (headers[header] !== undefined) {\n        var value = member.isJsonValue ?\n          util.base64.decode(headers[header]) :\n          headers[header];\n        data[name] = member.toType(value);\n      }\n    } else if (member.location === 'statusCode') {\n      data[name] = parseInt(r.statusCode, 10);\n    }\n  });\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData,\n  generateURI: generateURI\n};\n","var Buffer = require('buffer/').Buffer;\n\n/**\n * This is a polyfill for the static method `isView` of `ArrayBuffer`, which is\n * e.g. missing in IE 10.\n *\n * @api private\n */\nif (\n    typeof ArrayBuffer !== 'undefined' &&\n    typeof ArrayBuffer.isView === 'undefined'\n) {\n    ArrayBuffer.isView = function(arg) {\n        return viewStrings.indexOf(Object.prototype.toString.call(arg)) > -1;\n    };\n}\n\n/**\n * @api private\n */\nvar viewStrings = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]',\n    '[object DataView]',\n];\n\n/**\n * @api private\n */\nfunction isEmptyData(data) {\n    if (typeof data === 'string') {\n        return data.length === 0;\n    }\n    return data.byteLength === 0;\n}\n\n/**\n * @api private\n */\nfunction convertToBuffer(data) {\n    if (typeof data === 'string') {\n        data = new Buffer(data, 'utf8');\n    }\n\n    if (ArrayBuffer.isView(data)) {\n        return new Uint8Array(data.buffer, data.byteOffset, data.byteLength / Uint8Array.BYTES_PER_ELEMENT);\n    }\n\n    return new Uint8Array(data);\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    isEmptyData: isEmptyData,\n    convertToBuffer: convertToBuffer,\n};\n","var util = require('./util');\n\n// browser specific modules\nutil.crypto.lib = require('./browserCryptoLib');\nutil.Buffer = require('buffer/').Buffer;\nutil.url = require('url/');\nutil.querystring = require('querystring/');\nutil.realClock = require('./realclock/browserClock');\nutil.environment = 'js';\nutil.createEventStream = require('./event-stream/buffered-create-event-stream').createEventStream;\nutil.isBrowser = function() { return true; };\nutil.isNode = function() { return false; };\n\nvar AWS = require('./core');\n\n/**\n * @api private\n */\nmodule.exports = AWS;\n\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nrequire('./credentials/temporary_credentials');\nrequire('./credentials/chainable_temporary_credentials');\nrequire('./credentials/web_identity_credentials');\nrequire('./credentials/cognito_identity_credentials');\nrequire('./credentials/saml_credentials');\n\n// Load the DOMParser XML parser\nAWS.XML.Parser = require('./xml/browser_parser');\n\n// Load the XHR HttpClient\nrequire('./http/xhr');\n\nif (typeof process === 'undefined') {\n  var process = {\n    browser: true\n  };\n}\n","var util = require('../util');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction buildRequest(req) {\n  var httpRequest = req.httpRequest;\n  var api = req.service.api;\n  var target = api.targetPrefix + '.' + api.operations[req.operation].name;\n  var version = api.jsonVersion || '1.0';\n  var input = api.operations[req.operation].input;\n  var builder = new JsonBuilder();\n\n  if (version === 1) version = '1.0';\n  httpRequest.body = builder.build(req.params || {}, input);\n  httpRequest.headers['Content-Type'] = 'application/x-amz-json-' + version;\n  httpRequest.headers['X-Amz-Target'] = target;\n\n  populateHostPrefix(req);\n}\n\nfunction extractError(resp) {\n  var error = {};\n  var httpResponse = resp.httpResponse;\n\n  error.code = httpResponse.headers['x-amzn-errortype'] || 'UnknownError';\n  if (typeof error.code === 'string') {\n    error.code = error.code.split(':')[0];\n  }\n\n  if (httpResponse.body.length > 0) {\n    try {\n      var e = JSON.parse(httpResponse.body.toString());\n      if (e.__type || e.code) {\n        error.code = (e.__type || e.code).split('#').pop();\n      }\n      if (error.code === 'RequestEntityTooLarge') {\n        error.message = 'Request body must be less than 1 MB';\n      } else {\n        error.message = (e.message || e.Message || null);\n      }\n    } catch (e) {\n      error.statusCode = httpResponse.statusCode;\n      error.message = httpResponse.statusMessage;\n    }\n  } else {\n    error.statusCode = httpResponse.statusCode;\n    error.message = httpResponse.statusCode.toString();\n  }\n\n  resp.error = util.error(new Error(), error);\n}\n\nfunction extractData(resp) {\n  var body = resp.httpResponse.body.toString() || '{}';\n  if (resp.request.service.config.convertResponseTypes === false) {\n    resp.data = JSON.parse(body);\n  } else {\n    var operation = resp.request.service.api.operations[resp.request.operation];\n    var shape = operation.output || {};\n    var parser = new JsonParser();\n    resp.data = parser.parse(body, shape);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var util = require('../util');\n\nfunction JsonBuilder() { }\n\nJsonBuilder.prototype.build = function(value, shape) {\n  return JSON.stringify(translate(value, shape));\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined || value === null) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  var struct = {};\n  util.each(structure, function(name, value) {\n    var memberShape = shape.members[name];\n    if (memberShape) {\n      if (memberShape.location !== 'body') return;\n      var locationName = memberShape.isLocationName ? memberShape.name : name;\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[locationName] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result !== undefined) out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result !== undefined) out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toWireFormat(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonBuilder;\n","var util = require('../util');\n\nfunction JsonParser() { }\n\nJsonParser.prototype.parse = function(value, shape) {\n  return translate(JSON.parse(value), shape);\n};\n\nfunction translate(value, shape) {\n  if (!shape || value === undefined) return undefined;\n\n  switch (shape.type) {\n    case 'structure': return translateStructure(value, shape);\n    case 'map': return translateMap(value, shape);\n    case 'list': return translateList(value, shape);\n    default: return translateScalar(value, shape);\n  }\n}\n\nfunction translateStructure(structure, shape) {\n  if (structure == null) return undefined;\n\n  var struct = {};\n  var shapeMembers = shape.members;\n  util.each(shapeMembers, function(name, memberShape) {\n    var locationName = memberShape.isLocationName ? memberShape.name : name;\n    if (Object.prototype.hasOwnProperty.call(structure, locationName)) {\n      var value = structure[locationName];\n      var result = translate(value, memberShape);\n      if (result !== undefined) struct[name] = result;\n    }\n  });\n  return struct;\n}\n\nfunction translateList(list, shape) {\n  if (list == null) return undefined;\n\n  var out = [];\n  util.arrayEach(list, function(value) {\n    var result = translate(value, shape.member);\n    if (result === undefined) out.push(null);\n    else out.push(result);\n  });\n  return out;\n}\n\nfunction translateMap(map, shape) {\n  if (map == null) return undefined;\n\n  var out = {};\n  util.each(map, function(key, value) {\n    var result = translate(value, shape.value);\n    if (result === undefined) out[key] = null;\n    else out[key] = result;\n  });\n  return out;\n}\n\nfunction translateScalar(value, shape) {\n  return shape.toType(value);\n}\n\n/**\n * @api private\n */\nmodule.exports = JsonParser;\n","var util =  require('../util');\nvar AWS = require('../core');\n\n/**\n * Prepend prefix defined by API model to endpoint that's already\n * constructed. This feature does not apply to operations using\n * endpoint discovery and can be disabled.\n * @api private\n */\nfunction populateHostPrefix(request)  {\n  var enabled = request.service.config.hostPrefixEnabled;\n  if (!enabled) return request;\n  var operationModel = request.service.api.operations[request.operation];\n  //don't marshal host prefix when operation has endpoint discovery traits\n  if (hasEndpointDiscover(request)) return request;\n  if (operationModel.endpoint && operationModel.endpoint.hostPrefix) {\n    var hostPrefixNotation = operationModel.endpoint.hostPrefix;\n    var hostPrefix = expandHostPrefix(hostPrefixNotation, request.params, operationModel.input);\n    prependEndpointPrefix(request.httpRequest.endpoint, hostPrefix);\n    validateHostname(request.httpRequest.endpoint.hostname);\n  }\n  return request;\n}\n\n/**\n * @api private\n */\nfunction hasEndpointDiscover(request) {\n  var api = request.service.api;\n  var operationModel = api.operations[request.operation];\n  var isEndpointOperation = api.endpointOperation && (api.endpointOperation === util.string.lowerFirst(operationModel.name));\n  return (operationModel.endpointDiscoveryRequired !== 'NULL' || isEndpointOperation === true);\n}\n\n/**\n * @api private\n */\nfunction expandHostPrefix(hostPrefixNotation, params, shape) {\n  util.each(shape.members, function(name, member) {\n    if (member.hostLabel === true) {\n      if (typeof params[name] !== 'string' || params[name] === '') {\n        throw util.error(new Error(), {\n          message: 'Parameter ' + name + ' should be a non-empty string.',\n          code: 'InvalidParameter'\n        });\n      }\n      var regex = new RegExp('\\\\{' + name + '\\\\}', 'g');\n      hostPrefixNotation = hostPrefixNotation.replace(regex, params[name]);\n    }\n  });\n  return hostPrefixNotation;\n}\n\n/**\n * @api private\n */\nfunction prependEndpointPrefix(endpoint, prefix) {\n  if (endpoint.host) {\n    endpoint.host = prefix + endpoint.host;\n  }\n  if (endpoint.hostname) {\n    endpoint.hostname = prefix + endpoint.hostname;\n  }\n}\n\n/**\n * @api private\n */\nfunction validateHostname(hostname) {\n  var labels = hostname.split('.');\n  //Reference: https://tools.ietf.org/html/rfc1123#section-2\n  var hostPattern = /^[a-zA-Z0-9]{1}$|^[a-zA-Z0-9][a-zA-Z0-9\\-]*[a-zA-Z0-9]$/;\n  util.arrayEach(labels, function(label) {\n    if (!label.length || label.length < 1 || label.length > 63) {\n      throw util.error(new Error(), {\n        code: 'ValidationError',\n        message: 'Hostname label length should be between 1 to 63 characters, inclusive.'\n      });\n    }\n    if (!hostPattern.test(label)) {\n      throw AWS.util.error(new Error(),\n        {code: 'ValidationError', message: label + ' is not hostname compatible.'});\n    }\n  });\n}\n\nmodule.exports = {\n  populateHostPrefix: populateHostPrefix\n};\n","(function(exports) {\n  \"use strict\";\n\n  function isArray(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Array]\";\n    } else {\n      return false;\n    }\n  }\n\n  function isObject(obj) {\n    if (obj !== null) {\n      return Object.prototype.toString.call(obj) === \"[object Object]\";\n    } else {\n      return false;\n    }\n  }\n\n  function strictDeepEqual(first, second) {\n    // Check the scalar case first.\n    if (first === second) {\n      return true;\n    }\n\n    // Check if they are the same type.\n    var firstType = Object.prototype.toString.call(first);\n    if (firstType !== Object.prototype.toString.call(second)) {\n      return false;\n    }\n    // We know that first and second have the same type so we can just check the\n    // first type from now on.\n    if (isArray(first) === true) {\n      // Short circuit if they're not the same length;\n      if (first.length !== second.length) {\n        return false;\n      }\n      for (var i = 0; i < first.length; i++) {\n        if (strictDeepEqual(first[i], second[i]) === false) {\n          return false;\n        }\n      }\n      return true;\n    }\n    if (isObject(first) === true) {\n      // An object is equal if it has the same key/value pairs.\n      var keysSeen = {};\n      for (var key in first) {\n        if (hasOwnProperty.call(first, key)) {\n          if (strictDeepEqual(first[key], second[key]) === false) {\n            return false;\n          }\n          keysSeen[key] = true;\n        }\n      }\n      // Now check that there aren't any keys in second that weren't\n      // in first.\n      for (var key2 in second) {\n        if (hasOwnProperty.call(second, key2)) {\n          if (keysSeen[key2] !== true) {\n            return false;\n          }\n        }\n      }\n      return true;\n    }\n    return false;\n  }\n\n  function isFalse(obj) {\n    // From the spec:\n    // A false value corresponds to the following values:\n    // Empty list\n    // Empty object\n    // Empty string\n    // False boolean\n    // null value\n\n    // First check the scalar values.\n    if (obj === \"\" || obj === false || obj === null) {\n        return true;\n    } else if (isArray(obj) && obj.length === 0) {\n        // Check for an empty array.\n        return true;\n    } else if (isObject(obj)) {\n        // Check for an empty object.\n        for (var key in obj) {\n            // If there are any keys, then\n            // the object is not empty so the object\n            // is not false.\n            if (obj.hasOwnProperty(key)) {\n              return false;\n            }\n        }\n        return true;\n    } else {\n        return false;\n    }\n  }\n\n  function objValues(obj) {\n    var keys = Object.keys(obj);\n    var values = [];\n    for (var i = 0; i < keys.length; i++) {\n      values.push(obj[keys[i]]);\n    }\n    return values;\n  }\n\n  function merge(a, b) {\n      var merged = {};\n      for (var key in a) {\n          merged[key] = a[key];\n      }\n      for (var key2 in b) {\n          merged[key2] = b[key2];\n      }\n      return merged;\n  }\n\n  var trimLeft;\n  if (typeof String.prototype.trimLeft === \"function\") {\n    trimLeft = function(str) {\n      return str.trimLeft();\n    };\n  } else {\n    trimLeft = function(str) {\n      return str.match(/^\\s*(.*)/)[1];\n    };\n  }\n\n  // Type constants used to define functions.\n  var TYPE_NUMBER = 0;\n  var TYPE_ANY = 1;\n  var TYPE_STRING = 2;\n  var TYPE_ARRAY = 3;\n  var TYPE_OBJECT = 4;\n  var TYPE_BOOLEAN = 5;\n  var TYPE_EXPREF = 6;\n  var TYPE_NULL = 7;\n  var TYPE_ARRAY_NUMBER = 8;\n  var TYPE_ARRAY_STRING = 9;\n\n  var TOK_EOF = \"EOF\";\n  var TOK_UNQUOTEDIDENTIFIER = \"UnquotedIdentifier\";\n  var TOK_QUOTEDIDENTIFIER = \"QuotedIdentifier\";\n  var TOK_RBRACKET = \"Rbracket\";\n  var TOK_RPAREN = \"Rparen\";\n  var TOK_COMMA = \"Comma\";\n  var TOK_COLON = \"Colon\";\n  var TOK_RBRACE = \"Rbrace\";\n  var TOK_NUMBER = \"Number\";\n  var TOK_CURRENT = \"Current\";\n  var TOK_EXPREF = \"Expref\";\n  var TOK_PIPE = \"Pipe\";\n  var TOK_OR = \"Or\";\n  var TOK_AND = \"And\";\n  var TOK_EQ = \"EQ\";\n  var TOK_GT = \"GT\";\n  var TOK_LT = \"LT\";\n  var TOK_GTE = \"GTE\";\n  var TOK_LTE = \"LTE\";\n  var TOK_NE = \"NE\";\n  var TOK_FLATTEN = \"Flatten\";\n  var TOK_STAR = \"Star\";\n  var TOK_FILTER = \"Filter\";\n  var TOK_DOT = \"Dot\";\n  var TOK_NOT = \"Not\";\n  var TOK_LBRACE = \"Lbrace\";\n  var TOK_LBRACKET = \"Lbracket\";\n  var TOK_LPAREN= \"Lparen\";\n  var TOK_LITERAL= \"Literal\";\n\n  // The \"&\", \"[\", \"<\", \">\" tokens\n  // are not in basicToken because\n  // there are two token variants\n  // (\"&&\", \"[?\", \"<=\", \">=\").  This is specially handled\n  // below.\n\n  var basicTokens = {\n    \".\": TOK_DOT,\n    \"*\": TOK_STAR,\n    \",\": TOK_COMMA,\n    \":\": TOK_COLON,\n    \"{\": TOK_LBRACE,\n    \"}\": TOK_RBRACE,\n    \"]\": TOK_RBRACKET,\n    \"(\": TOK_LPAREN,\n    \")\": TOK_RPAREN,\n    \"@\": TOK_CURRENT\n  };\n\n  var operatorStartToken = {\n      \"<\": true,\n      \">\": true,\n      \"=\": true,\n      \"!\": true\n  };\n\n  var skipChars = {\n      \" \": true,\n      \"\\t\": true,\n      \"\\n\": true\n  };\n\n\n  function isAlpha(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             ch === \"_\";\n  }\n\n  function isNum(ch) {\n      return (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"-\";\n  }\n  function isAlphaNum(ch) {\n      return (ch >= \"a\" && ch <= \"z\") ||\n             (ch >= \"A\" && ch <= \"Z\") ||\n             (ch >= \"0\" && ch <= \"9\") ||\n             ch === \"_\";\n  }\n\n  function Lexer() {\n  }\n  Lexer.prototype = {\n      tokenize: function(stream) {\n          var tokens = [];\n          this._current = 0;\n          var start;\n          var identifier;\n          var token;\n          while (this._current < stream.length) {\n              if (isAlpha(stream[this._current])) {\n                  start = this._current;\n                  identifier = this._consumeUnquotedIdentifier(stream);\n                  tokens.push({type: TOK_UNQUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (basicTokens[stream[this._current]] !== undefined) {\n                  tokens.push({type: basicTokens[stream[this._current]],\n                              value: stream[this._current],\n                              start: this._current});\n                  this._current++;\n              } else if (isNum(stream[this._current])) {\n                  token = this._consumeNumber(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"[\") {\n                  // No need to increment this._current.  This happens\n                  // in _consumeLBracket\n                  token = this._consumeLBracket(stream);\n                  tokens.push(token);\n              } else if (stream[this._current] === \"\\\"\") {\n                  start = this._current;\n                  identifier = this._consumeQuotedIdentifier(stream);\n                  tokens.push({type: TOK_QUOTEDIDENTIFIER,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"'\") {\n                  start = this._current;\n                  identifier = this._consumeRawStringLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: identifier,\n                               start: start});\n              } else if (stream[this._current] === \"`\") {\n                  start = this._current;\n                  var literal = this._consumeLiteral(stream);\n                  tokens.push({type: TOK_LITERAL,\n                               value: literal,\n                               start: start});\n              } else if (operatorStartToken[stream[this._current]] !== undefined) {\n                  tokens.push(this._consumeOperator(stream));\n              } else if (skipChars[stream[this._current]] !== undefined) {\n                  // Ignore whitespace.\n                  this._current++;\n              } else if (stream[this._current] === \"&\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"&\") {\n                      this._current++;\n                      tokens.push({type: TOK_AND, value: \"&&\", start: start});\n                  } else {\n                      tokens.push({type: TOK_EXPREF, value: \"&\", start: start});\n                  }\n              } else if (stream[this._current] === \"|\") {\n                  start = this._current;\n                  this._current++;\n                  if (stream[this._current] === \"|\") {\n                      this._current++;\n                      tokens.push({type: TOK_OR, value: \"||\", start: start});\n                  } else {\n                      tokens.push({type: TOK_PIPE, value: \"|\", start: start});\n                  }\n              } else {\n                  var error = new Error(\"Unknown character:\" + stream[this._current]);\n                  error.name = \"LexerError\";\n                  throw error;\n              }\n          }\n          return tokens;\n      },\n\n      _consumeUnquotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          while (this._current < stream.length && isAlphaNum(stream[this._current])) {\n              this._current++;\n          }\n          return stream.slice(start, this._current);\n      },\n\n      _consumeQuotedIdentifier: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"\\\"\" && this._current < maxLength) {\n              // You can escape a double quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"\\\"\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          return JSON.parse(stream.slice(start, this._current));\n      },\n\n      _consumeRawStringLiteral: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (stream[this._current] !== \"'\" && this._current < maxLength) {\n              // You can escape a single quote and you can escape an escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"'\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          this._current++;\n          var literal = stream.slice(start + 1, this._current - 1);\n          return literal.replace(\"\\\\'\", \"'\");\n      },\n\n      _consumeNumber: function(stream) {\n          var start = this._current;\n          this._current++;\n          var maxLength = stream.length;\n          while (isNum(stream[this._current]) && this._current < maxLength) {\n              this._current++;\n          }\n          var value = parseInt(stream.slice(start, this._current));\n          return {type: TOK_NUMBER, value: value, start: start};\n      },\n\n      _consumeLBracket: function(stream) {\n          var start = this._current;\n          this._current++;\n          if (stream[this._current] === \"?\") {\n              this._current++;\n              return {type: TOK_FILTER, value: \"[?\", start: start};\n          } else if (stream[this._current] === \"]\") {\n              this._current++;\n              return {type: TOK_FLATTEN, value: \"[]\", start: start};\n          } else {\n              return {type: TOK_LBRACKET, value: \"[\", start: start};\n          }\n      },\n\n      _consumeOperator: function(stream) {\n          var start = this._current;\n          var startingChar = stream[start];\n          this._current++;\n          if (startingChar === \"!\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_NE, value: \"!=\", start: start};\n              } else {\n                return {type: TOK_NOT, value: \"!\", start: start};\n              }\n          } else if (startingChar === \"<\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_LTE, value: \"<=\", start: start};\n              } else {\n                  return {type: TOK_LT, value: \"<\", start: start};\n              }\n          } else if (startingChar === \">\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_GTE, value: \">=\", start: start};\n              } else {\n                  return {type: TOK_GT, value: \">\", start: start};\n              }\n          } else if (startingChar === \"=\") {\n              if (stream[this._current] === \"=\") {\n                  this._current++;\n                  return {type: TOK_EQ, value: \"==\", start: start};\n              }\n          }\n      },\n\n      _consumeLiteral: function(stream) {\n          this._current++;\n          var start = this._current;\n          var maxLength = stream.length;\n          var literal;\n          while(stream[this._current] !== \"`\" && this._current < maxLength) {\n              // You can escape a literal char or you can escape the escape.\n              var current = this._current;\n              if (stream[current] === \"\\\\\" && (stream[current + 1] === \"\\\\\" ||\n                                               stream[current + 1] === \"`\")) {\n                  current += 2;\n              } else {\n                  current++;\n              }\n              this._current = current;\n          }\n          var literalString = trimLeft(stream.slice(start, this._current));\n          literalString = literalString.replace(\"\\\\`\", \"`\");\n          if (this._looksLikeJSON(literalString)) {\n              literal = JSON.parse(literalString);\n          } else {\n              // Try to JSON parse it as \"<literal>\"\n              literal = JSON.parse(\"\\\"\" + literalString + \"\\\"\");\n          }\n          // +1 gets us to the ending \"`\", +1 to move on to the next char.\n          this._current++;\n          return literal;\n      },\n\n      _looksLikeJSON: function(literalString) {\n          var startingChars = \"[{\\\"\";\n          var jsonLiterals = [\"true\", \"false\", \"null\"];\n          var numberLooking = \"-0123456789\";\n\n          if (literalString === \"\") {\n              return false;\n          } else if (startingChars.indexOf(literalString[0]) >= 0) {\n              return true;\n          } else if (jsonLiterals.indexOf(literalString) >= 0) {\n              return true;\n          } else if (numberLooking.indexOf(literalString[0]) >= 0) {\n              try {\n                  JSON.parse(literalString);\n                  return true;\n              } catch (ex) {\n                  return false;\n              }\n          } else {\n              return false;\n          }\n      }\n  };\n\n      var bindingPower = {};\n      bindingPower[TOK_EOF] = 0;\n      bindingPower[TOK_UNQUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_QUOTEDIDENTIFIER] = 0;\n      bindingPower[TOK_RBRACKET] = 0;\n      bindingPower[TOK_RPAREN] = 0;\n      bindingPower[TOK_COMMA] = 0;\n      bindingPower[TOK_RBRACE] = 0;\n      bindingPower[TOK_NUMBER] = 0;\n      bindingPower[TOK_CURRENT] = 0;\n      bindingPower[TOK_EXPREF] = 0;\n      bindingPower[TOK_PIPE] = 1;\n      bindingPower[TOK_OR] = 2;\n      bindingPower[TOK_AND] = 3;\n      bindingPower[TOK_EQ] = 5;\n      bindingPower[TOK_GT] = 5;\n      bindingPower[TOK_LT] = 5;\n      bindingPower[TOK_GTE] = 5;\n      bindingPower[TOK_LTE] = 5;\n      bindingPower[TOK_NE] = 5;\n      bindingPower[TOK_FLATTEN] = 9;\n      bindingPower[TOK_STAR] = 20;\n      bindingPower[TOK_FILTER] = 21;\n      bindingPower[TOK_DOT] = 40;\n      bindingPower[TOK_NOT] = 45;\n      bindingPower[TOK_LBRACE] = 50;\n      bindingPower[TOK_LBRACKET] = 55;\n      bindingPower[TOK_LPAREN] = 60;\n\n  function Parser() {\n  }\n\n  Parser.prototype = {\n      parse: function(expression) {\n          this._loadTokens(expression);\n          this.index = 0;\n          var ast = this.expression(0);\n          if (this._lookahead(0) !== TOK_EOF) {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\n                  \"Unexpected token type: \" + t.type + \", value: \" + t.value);\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return ast;\n      },\n\n      _loadTokens: function(expression) {\n          var lexer = new Lexer();\n          var tokens = lexer.tokenize(expression);\n          tokens.push({type: TOK_EOF, value: \"\", start: expression.length});\n          this.tokens = tokens;\n      },\n\n      expression: function(rbp) {\n          var leftToken = this._lookaheadToken(0);\n          this._advance();\n          var left = this.nud(leftToken);\n          var currentToken = this._lookahead(0);\n          while (rbp < bindingPower[currentToken]) {\n              this._advance();\n              left = this.led(currentToken, left);\n              currentToken = this._lookahead(0);\n          }\n          return left;\n      },\n\n      _lookahead: function(number) {\n          return this.tokens[this.index + number].type;\n      },\n\n      _lookaheadToken: function(number) {\n          return this.tokens[this.index + number];\n      },\n\n      _advance: function() {\n          this.index++;\n      },\n\n      nud: function(token) {\n        var left;\n        var right;\n        var expression;\n        switch (token.type) {\n          case TOK_LITERAL:\n            return {type: \"Literal\", value: token.value};\n          case TOK_UNQUOTEDIDENTIFIER:\n            return {type: \"Field\", name: token.value};\n          case TOK_QUOTEDIDENTIFIER:\n            var node = {type: \"Field\", name: token.value};\n            if (this._lookahead(0) === TOK_LPAREN) {\n                throw new Error(\"Quoted identifier not allowed for function names.\");\n            } else {\n                return node;\n            }\n            break;\n          case TOK_NOT:\n            right = this.expression(bindingPower.Not);\n            return {type: \"NotExpression\", children: [right]};\n          case TOK_STAR:\n            left = {type: \"Identity\"};\n            right = null;\n            if (this._lookahead(0) === TOK_RBRACKET) {\n                // This can happen in a multiselect,\n                // [a, b, *]\n                right = {type: \"Identity\"};\n            } else {\n                right = this._parseProjectionRHS(bindingPower.Star);\n            }\n            return {type: \"ValueProjection\", children: [left, right]};\n          case TOK_FILTER:\n            return this.led(token.type, {type: \"Identity\"});\n          case TOK_LBRACE:\n            return this._parseMultiselectHash();\n          case TOK_FLATTEN:\n            left = {type: TOK_FLATTEN, children: [{type: \"Identity\"}]};\n            right = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [left, right]};\n          case TOK_LBRACKET:\n            if (this._lookahead(0) === TOK_NUMBER || this._lookahead(0) === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice({type: \"Identity\"}, right);\n            } else if (this._lookahead(0) === TOK_STAR &&\n                       this._lookahead(1) === TOK_RBRACKET) {\n                this._advance();\n                this._advance();\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\",\n                        children: [{type: \"Identity\"}, right]};\n            } else {\n                return this._parseMultiselectList();\n            }\n            break;\n          case TOK_CURRENT:\n            return {type: TOK_CURRENT};\n          case TOK_EXPREF:\n            expression = this.expression(bindingPower.Expref);\n            return {type: \"ExpressionReference\", children: [expression]};\n          case TOK_LPAREN:\n            var args = [];\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            return args[0];\n          default:\n            this._errorToken(token);\n        }\n      },\n\n      led: function(tokenName, left) {\n        var right;\n        switch(tokenName) {\n          case TOK_DOT:\n            var rbp = bindingPower.Dot;\n            if (this._lookahead(0) !== TOK_STAR) {\n                right = this._parseDotRHS(rbp);\n                return {type: \"Subexpression\", children: [left, right]};\n            } else {\n                // Creating a projection.\n                this._advance();\n                right = this._parseProjectionRHS(rbp);\n                return {type: \"ValueProjection\", children: [left, right]};\n            }\n            break;\n          case TOK_PIPE:\n            right = this.expression(bindingPower.Pipe);\n            return {type: TOK_PIPE, children: [left, right]};\n          case TOK_OR:\n            right = this.expression(bindingPower.Or);\n            return {type: \"OrExpression\", children: [left, right]};\n          case TOK_AND:\n            right = this.expression(bindingPower.And);\n            return {type: \"AndExpression\", children: [left, right]};\n          case TOK_LPAREN:\n            var name = left.name;\n            var args = [];\n            var expression, node;\n            while (this._lookahead(0) !== TOK_RPAREN) {\n              if (this._lookahead(0) === TOK_CURRENT) {\n                expression = {type: TOK_CURRENT};\n                this._advance();\n              } else {\n                expression = this.expression(0);\n              }\n              if (this._lookahead(0) === TOK_COMMA) {\n                this._match(TOK_COMMA);\n              }\n              args.push(expression);\n            }\n            this._match(TOK_RPAREN);\n            node = {type: \"Function\", name: name, children: args};\n            return node;\n          case TOK_FILTER:\n            var condition = this.expression(0);\n            this._match(TOK_RBRACKET);\n            if (this._lookahead(0) === TOK_FLATTEN) {\n              right = {type: \"Identity\"};\n            } else {\n              right = this._parseProjectionRHS(bindingPower.Filter);\n            }\n            return {type: \"FilterProjection\", children: [left, right, condition]};\n          case TOK_FLATTEN:\n            var leftNode = {type: TOK_FLATTEN, children: [left]};\n            var rightNode = this._parseProjectionRHS(bindingPower.Flatten);\n            return {type: \"Projection\", children: [leftNode, rightNode]};\n          case TOK_EQ:\n          case TOK_NE:\n          case TOK_GT:\n          case TOK_GTE:\n          case TOK_LT:\n          case TOK_LTE:\n            return this._parseComparator(left, tokenName);\n          case TOK_LBRACKET:\n            var token = this._lookaheadToken(0);\n            if (token.type === TOK_NUMBER || token.type === TOK_COLON) {\n                right = this._parseIndexExpression();\n                return this._projectIfSlice(left, right);\n            } else {\n                this._match(TOK_STAR);\n                this._match(TOK_RBRACKET);\n                right = this._parseProjectionRHS(bindingPower.Star);\n                return {type: \"Projection\", children: [left, right]};\n            }\n            break;\n          default:\n            this._errorToken(this._lookaheadToken(0));\n        }\n      },\n\n      _match: function(tokenType) {\n          if (this._lookahead(0) === tokenType) {\n              this._advance();\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Expected \" + tokenType + \", got: \" + t.type);\n              error.name = \"ParserError\";\n              throw error;\n          }\n      },\n\n      _errorToken: function(token) {\n          var error = new Error(\"Invalid token (\" +\n                                token.type + \"): \\\"\" +\n                                token.value + \"\\\"\");\n          error.name = \"ParserError\";\n          throw error;\n      },\n\n\n      _parseIndexExpression: function() {\n          if (this._lookahead(0) === TOK_COLON || this._lookahead(1) === TOK_COLON) {\n              return this._parseSliceExpression();\n          } else {\n              var node = {\n                  type: \"Index\",\n                  value: this._lookaheadToken(0).value};\n              this._advance();\n              this._match(TOK_RBRACKET);\n              return node;\n          }\n      },\n\n      _projectIfSlice: function(left, right) {\n          var indexExpr = {type: \"IndexExpression\", children: [left, right]};\n          if (right.type === \"Slice\") {\n              return {\n                  type: \"Projection\",\n                  children: [indexExpr, this._parseProjectionRHS(bindingPower.Star)]\n              };\n          } else {\n              return indexExpr;\n          }\n      },\n\n      _parseSliceExpression: function() {\n          // [start:end:step] where each part is optional, as well as the last\n          // colon.\n          var parts = [null, null, null];\n          var index = 0;\n          var currentToken = this._lookahead(0);\n          while (currentToken !== TOK_RBRACKET && index < 3) {\n              if (currentToken === TOK_COLON) {\n                  index++;\n                  this._advance();\n              } else if (currentToken === TOK_NUMBER) {\n                  parts[index] = this._lookaheadToken(0).value;\n                  this._advance();\n              } else {\n                  var t = this._lookahead(0);\n                  var error = new Error(\"Syntax error, unexpected token: \" +\n                                        t.value + \"(\" + t.type + \")\");\n                  error.name = \"Parsererror\";\n                  throw error;\n              }\n              currentToken = this._lookahead(0);\n          }\n          this._match(TOK_RBRACKET);\n          return {\n              type: \"Slice\",\n              children: parts\n          };\n      },\n\n      _parseComparator: function(left, comparator) {\n        var right = this.expression(bindingPower[comparator]);\n        return {type: \"Comparator\", name: comparator, children: [left, right]};\n      },\n\n      _parseDotRHS: function(rbp) {\n          var lookahead = this._lookahead(0);\n          var exprTokens = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER, TOK_STAR];\n          if (exprTokens.indexOf(lookahead) >= 0) {\n              return this.expression(rbp);\n          } else if (lookahead === TOK_LBRACKET) {\n              this._match(TOK_LBRACKET);\n              return this._parseMultiselectList();\n          } else if (lookahead === TOK_LBRACE) {\n              this._match(TOK_LBRACE);\n              return this._parseMultiselectHash();\n          }\n      },\n\n      _parseProjectionRHS: function(rbp) {\n          var right;\n          if (bindingPower[this._lookahead(0)] < 10) {\n              right = {type: \"Identity\"};\n          } else if (this._lookahead(0) === TOK_LBRACKET) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_FILTER) {\n              right = this.expression(rbp);\n          } else if (this._lookahead(0) === TOK_DOT) {\n              this._match(TOK_DOT);\n              right = this._parseDotRHS(rbp);\n          } else {\n              var t = this._lookaheadToken(0);\n              var error = new Error(\"Sytanx error, unexpected token: \" +\n                                    t.value + \"(\" + t.type + \")\");\n              error.name = \"ParserError\";\n              throw error;\n          }\n          return right;\n      },\n\n      _parseMultiselectList: function() {\n          var expressions = [];\n          while (this._lookahead(0) !== TOK_RBRACKET) {\n              var expression = this.expression(0);\n              expressions.push(expression);\n              if (this._lookahead(0) === TOK_COMMA) {\n                  this._match(TOK_COMMA);\n                  if (this._lookahead(0) === TOK_RBRACKET) {\n                    throw new Error(\"Unexpected token Rbracket\");\n                  }\n              }\n          }\n          this._match(TOK_RBRACKET);\n          return {type: \"MultiSelectList\", children: expressions};\n      },\n\n      _parseMultiselectHash: function() {\n        var pairs = [];\n        var identifierTypes = [TOK_UNQUOTEDIDENTIFIER, TOK_QUOTEDIDENTIFIER];\n        var keyToken, keyName, value, node;\n        for (;;) {\n          keyToken = this._lookaheadToken(0);\n          if (identifierTypes.indexOf(keyToken.type) < 0) {\n            throw new Error(\"Expecting an identifier token, got: \" +\n                            keyToken.type);\n          }\n          keyName = keyToken.value;\n          this._advance();\n          this._match(TOK_COLON);\n          value = this.expression(0);\n          node = {type: \"KeyValuePair\", name: keyName, value: value};\n          pairs.push(node);\n          if (this._lookahead(0) === TOK_COMMA) {\n            this._match(TOK_COMMA);\n          } else if (this._lookahead(0) === TOK_RBRACE) {\n            this._match(TOK_RBRACE);\n            break;\n          }\n        }\n        return {type: \"MultiSelectHash\", children: pairs};\n      }\n  };\n\n\n  function TreeInterpreter(runtime) {\n    this.runtime = runtime;\n  }\n\n  TreeInterpreter.prototype = {\n      search: function(node, value) {\n          return this.visit(node, value);\n      },\n\n      visit: function(node, value) {\n          var matched, current, result, first, second, field, left, right, collected, i;\n          switch (node.type) {\n            case \"Field\":\n              if (value === null ) {\n                  return null;\n              } else if (isObject(value)) {\n                  field = value[node.name];\n                  if (field === undefined) {\n                      return null;\n                  } else {\n                      return field;\n                  }\n              } else {\n                return null;\n              }\n              break;\n            case \"Subexpression\":\n              result = this.visit(node.children[0], value);\n              for (i = 1; i < node.children.length; i++) {\n                  result = this.visit(node.children[1], result);\n                  if (result === null) {\n                      return null;\n                  }\n              }\n              return result;\n            case \"IndexExpression\":\n              left = this.visit(node.children[0], value);\n              right = this.visit(node.children[1], left);\n              return right;\n            case \"Index\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var index = node.value;\n              if (index < 0) {\n                index = value.length + index;\n              }\n              result = value[index];\n              if (result === undefined) {\n                result = null;\n              }\n              return result;\n            case \"Slice\":\n              if (!isArray(value)) {\n                return null;\n              }\n              var sliceParams = node.children.slice(0);\n              var computed = this.computeSliceParams(value.length, sliceParams);\n              var start = computed[0];\n              var stop = computed[1];\n              var step = computed[2];\n              result = [];\n              if (step > 0) {\n                  for (i = start; i < stop; i += step) {\n                      result.push(value[i]);\n                  }\n              } else {\n                  for (i = start; i > stop; i += step) {\n                      result.push(value[i]);\n                  }\n              }\n              return result;\n            case \"Projection\":\n              // Evaluate left child.\n              var base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < base.length; i++) {\n                current = this.visit(node.children[1], base[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"ValueProjection\":\n              // Evaluate left child.\n              base = this.visit(node.children[0], value);\n              if (!isObject(base)) {\n                return null;\n              }\n              collected = [];\n              var values = objValues(base);\n              for (i = 0; i < values.length; i++) {\n                current = this.visit(node.children[1], values[i]);\n                if (current !== null) {\n                  collected.push(current);\n                }\n              }\n              return collected;\n            case \"FilterProjection\":\n              base = this.visit(node.children[0], value);\n              if (!isArray(base)) {\n                return null;\n              }\n              var filtered = [];\n              var finalResults = [];\n              for (i = 0; i < base.length; i++) {\n                matched = this.visit(node.children[2], base[i]);\n                if (!isFalse(matched)) {\n                  filtered.push(base[i]);\n                }\n              }\n              for (var j = 0; j < filtered.length; j++) {\n                current = this.visit(node.children[1], filtered[j]);\n                if (current !== null) {\n                  finalResults.push(current);\n                }\n              }\n              return finalResults;\n            case \"Comparator\":\n              first = this.visit(node.children[0], value);\n              second = this.visit(node.children[1], value);\n              switch(node.name) {\n                case TOK_EQ:\n                  result = strictDeepEqual(first, second);\n                  break;\n                case TOK_NE:\n                  result = !strictDeepEqual(first, second);\n                  break;\n                case TOK_GT:\n                  result = first > second;\n                  break;\n                case TOK_GTE:\n                  result = first >= second;\n                  break;\n                case TOK_LT:\n                  result = first < second;\n                  break;\n                case TOK_LTE:\n                  result = first <= second;\n                  break;\n                default:\n                  throw new Error(\"Unknown comparator: \" + node.name);\n              }\n              return result;\n            case TOK_FLATTEN:\n              var original = this.visit(node.children[0], value);\n              if (!isArray(original)) {\n                return null;\n              }\n              var merged = [];\n              for (i = 0; i < original.length; i++) {\n                current = original[i];\n                if (isArray(current)) {\n                  merged.push.apply(merged, current);\n                } else {\n                  merged.push(current);\n                }\n              }\n              return merged;\n            case \"Identity\":\n              return value;\n            case \"MultiSelectList\":\n              if (value === null) {\n                return null;\n              }\n              collected = [];\n              for (i = 0; i < node.children.length; i++) {\n                  collected.push(this.visit(node.children[i], value));\n              }\n              return collected;\n            case \"MultiSelectHash\":\n              if (value === null) {\n                return null;\n              }\n              collected = {};\n              var child;\n              for (i = 0; i < node.children.length; i++) {\n                child = node.children[i];\n                collected[child.name] = this.visit(child.value, value);\n              }\n              return collected;\n            case \"OrExpression\":\n              matched = this.visit(node.children[0], value);\n              if (isFalse(matched)) {\n                  matched = this.visit(node.children[1], value);\n              }\n              return matched;\n            case \"AndExpression\":\n              first = this.visit(node.children[0], value);\n\n              if (isFalse(first) === true) {\n                return first;\n              }\n              return this.visit(node.children[1], value);\n            case \"NotExpression\":\n              first = this.visit(node.children[0], value);\n              return isFalse(first);\n            case \"Literal\":\n              return node.value;\n            case TOK_PIPE:\n              left = this.visit(node.children[0], value);\n              return this.visit(node.children[1], left);\n            case TOK_CURRENT:\n              return value;\n            case \"Function\":\n              var resolvedArgs = [];\n              for (i = 0; i < node.children.length; i++) {\n                  resolvedArgs.push(this.visit(node.children[i], value));\n              }\n              return this.runtime.callFunction(node.name, resolvedArgs);\n            case \"ExpressionReference\":\n              var refNode = node.children[0];\n              // Tag the node with a specific attribute so the type\n              // checker verify the type.\n              refNode.jmespathType = TOK_EXPREF;\n              return refNode;\n            default:\n              throw new Error(\"Unknown node type: \" + node.type);\n          }\n      },\n\n      computeSliceParams: function(arrayLength, sliceParams) {\n        var start = sliceParams[0];\n        var stop = sliceParams[1];\n        var step = sliceParams[2];\n        var computed = [null, null, null];\n        if (step === null) {\n          step = 1;\n        } else if (step === 0) {\n          var error = new Error(\"Invalid slice, step cannot be 0\");\n          error.name = \"RuntimeError\";\n          throw error;\n        }\n        var stepValueNegative = step < 0 ? true : false;\n\n        if (start === null) {\n            start = stepValueNegative ? arrayLength - 1 : 0;\n        } else {\n            start = this.capSliceRange(arrayLength, start, step);\n        }\n\n        if (stop === null) {\n            stop = stepValueNegative ? -1 : arrayLength;\n        } else {\n            stop = this.capSliceRange(arrayLength, stop, step);\n        }\n        computed[0] = start;\n        computed[1] = stop;\n        computed[2] = step;\n        return computed;\n      },\n\n      capSliceRange: function(arrayLength, actualValue, step) {\n          if (actualValue < 0) {\n              actualValue += arrayLength;\n              if (actualValue < 0) {\n                  actualValue = step < 0 ? -1 : 0;\n              }\n          } else if (actualValue >= arrayLength) {\n              actualValue = step < 0 ? arrayLength - 1 : arrayLength;\n          }\n          return actualValue;\n      }\n\n  };\n\n  function Runtime(interpreter) {\n    this._interpreter = interpreter;\n    this.functionTable = {\n        // name: [function, <signature>]\n        // The <signature> can be:\n        //\n        // {\n        //   args: [[type1, type2], [type1, type2]],\n        //   variadic: true|false\n        // }\n        //\n        // Each arg in the arg list is a list of valid types\n        // (if the function is overloaded and supports multiple\n        // types.  If the type is \"any\" then no type checking\n        // occurs on the argument.  Variadic is optional\n        // and if not provided is assumed to be false.\n        abs: {_func: this._functionAbs, _signature: [{types: [TYPE_NUMBER]}]},\n        avg: {_func: this._functionAvg, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        ceil: {_func: this._functionCeil, _signature: [{types: [TYPE_NUMBER]}]},\n        contains: {\n            _func: this._functionContains,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]},\n                        {types: [TYPE_ANY]}]},\n        \"ends_with\": {\n            _func: this._functionEndsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        floor: {_func: this._functionFloor, _signature: [{types: [TYPE_NUMBER]}]},\n        length: {\n            _func: this._functionLength,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY, TYPE_OBJECT]}]},\n        map: {\n            _func: this._functionMap,\n            _signature: [{types: [TYPE_EXPREF]}, {types: [TYPE_ARRAY]}]},\n        max: {\n            _func: this._functionMax,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"merge\": {\n            _func: this._functionMerge,\n            _signature: [{types: [TYPE_OBJECT], variadic: true}]\n        },\n        \"max_by\": {\n          _func: this._functionMaxBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        sum: {_func: this._functionSum, _signature: [{types: [TYPE_ARRAY_NUMBER]}]},\n        \"starts_with\": {\n            _func: this._functionStartsWith,\n            _signature: [{types: [TYPE_STRING]}, {types: [TYPE_STRING]}]},\n        min: {\n            _func: this._functionMin,\n            _signature: [{types: [TYPE_ARRAY_NUMBER, TYPE_ARRAY_STRING]}]},\n        \"min_by\": {\n          _func: this._functionMinBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        type: {_func: this._functionType, _signature: [{types: [TYPE_ANY]}]},\n        keys: {_func: this._functionKeys, _signature: [{types: [TYPE_OBJECT]}]},\n        values: {_func: this._functionValues, _signature: [{types: [TYPE_OBJECT]}]},\n        sort: {_func: this._functionSort, _signature: [{types: [TYPE_ARRAY_STRING, TYPE_ARRAY_NUMBER]}]},\n        \"sort_by\": {\n          _func: this._functionSortBy,\n          _signature: [{types: [TYPE_ARRAY]}, {types: [TYPE_EXPREF]}]\n        },\n        join: {\n            _func: this._functionJoin,\n            _signature: [\n                {types: [TYPE_STRING]},\n                {types: [TYPE_ARRAY_STRING]}\n            ]\n        },\n        reverse: {\n            _func: this._functionReverse,\n            _signature: [{types: [TYPE_STRING, TYPE_ARRAY]}]},\n        \"to_array\": {_func: this._functionToArray, _signature: [{types: [TYPE_ANY]}]},\n        \"to_string\": {_func: this._functionToString, _signature: [{types: [TYPE_ANY]}]},\n        \"to_number\": {_func: this._functionToNumber, _signature: [{types: [TYPE_ANY]}]},\n        \"not_null\": {\n            _func: this._functionNotNull,\n            _signature: [{types: [TYPE_ANY], variadic: true}]\n        }\n    };\n  }\n\n  Runtime.prototype = {\n    callFunction: function(name, resolvedArgs) {\n      var functionEntry = this.functionTable[name];\n      if (functionEntry === undefined) {\n          throw new Error(\"Unknown function: \" + name + \"()\");\n      }\n      this._validateArgs(name, resolvedArgs, functionEntry._signature);\n      return functionEntry._func.call(this, resolvedArgs);\n    },\n\n    _validateArgs: function(name, args, signature) {\n        // Validating the args requires validating\n        // the correct arity and the correct type of each arg.\n        // If the last argument is declared as variadic, then we need\n        // a minimum number of args to be required.  Otherwise it has to\n        // be an exact amount.\n        var pluralized;\n        if (signature[signature.length - 1].variadic) {\n            if (args.length < signature.length) {\n                pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n                throw new Error(\"ArgumentError: \" + name + \"() \" +\n                                \"takes at least\" + signature.length + pluralized +\n                                \" but received \" + args.length);\n            }\n        } else if (args.length !== signature.length) {\n            pluralized = signature.length === 1 ? \" argument\" : \" arguments\";\n            throw new Error(\"ArgumentError: \" + name + \"() \" +\n                            \"takes \" + signature.length + pluralized +\n                            \" but received \" + args.length);\n        }\n        var currentSpec;\n        var actualType;\n        var typeMatched;\n        for (var i = 0; i < signature.length; i++) {\n            typeMatched = false;\n            currentSpec = signature[i].types;\n            actualType = this._getTypeName(args[i]);\n            for (var j = 0; j < currentSpec.length; j++) {\n                if (this._typeMatches(actualType, currentSpec[j], args[i])) {\n                    typeMatched = true;\n                    break;\n                }\n            }\n            if (!typeMatched) {\n                throw new Error(\"TypeError: \" + name + \"() \" +\n                                \"expected argument \" + (i + 1) +\n                                \" to be type \" + currentSpec +\n                                \" but received type \" + actualType +\n                                \" instead.\");\n            }\n        }\n    },\n\n    _typeMatches: function(actual, expected, argValue) {\n        if (expected === TYPE_ANY) {\n            return true;\n        }\n        if (expected === TYPE_ARRAY_STRING ||\n            expected === TYPE_ARRAY_NUMBER ||\n            expected === TYPE_ARRAY) {\n            // The expected type can either just be array,\n            // or it can require a specific subtype (array of numbers).\n            //\n            // The simplest case is if \"array\" with no subtype is specified.\n            if (expected === TYPE_ARRAY) {\n                return actual === TYPE_ARRAY;\n            } else if (actual === TYPE_ARRAY) {\n                // Otherwise we need to check subtypes.\n                // I think this has potential to be improved.\n                var subtype;\n                if (expected === TYPE_ARRAY_NUMBER) {\n                  subtype = TYPE_NUMBER;\n                } else if (expected === TYPE_ARRAY_STRING) {\n                  subtype = TYPE_STRING;\n                }\n                for (var i = 0; i < argValue.length; i++) {\n                    if (!this._typeMatches(\n                            this._getTypeName(argValue[i]), subtype,\n                                             argValue[i])) {\n                        return false;\n                    }\n                }\n                return true;\n            }\n        } else {\n            return actual === expected;\n        }\n    },\n    _getTypeName: function(obj) {\n        switch (Object.prototype.toString.call(obj)) {\n            case \"[object String]\":\n              return TYPE_STRING;\n            case \"[object Number]\":\n              return TYPE_NUMBER;\n            case \"[object Array]\":\n              return TYPE_ARRAY;\n            case \"[object Boolean]\":\n              return TYPE_BOOLEAN;\n            case \"[object Null]\":\n              return TYPE_NULL;\n            case \"[object Object]\":\n              // Check if it's an expref.  If it has, it's been\n              // tagged with a jmespathType attr of 'Expref';\n              if (obj.jmespathType === TOK_EXPREF) {\n                return TYPE_EXPREF;\n              } else {\n                return TYPE_OBJECT;\n              }\n        }\n    },\n\n    _functionStartsWith: function(resolvedArgs) {\n        return resolvedArgs[0].lastIndexOf(resolvedArgs[1]) === 0;\n    },\n\n    _functionEndsWith: function(resolvedArgs) {\n        var searchStr = resolvedArgs[0];\n        var suffix = resolvedArgs[1];\n        return searchStr.indexOf(suffix, searchStr.length - suffix.length) !== -1;\n    },\n\n    _functionReverse: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        if (typeName === TYPE_STRING) {\n          var originalStr = resolvedArgs[0];\n          var reversedStr = \"\";\n          for (var i = originalStr.length - 1; i >= 0; i--) {\n              reversedStr += originalStr[i];\n          }\n          return reversedStr;\n        } else {\n          var reversedArray = resolvedArgs[0].slice(0);\n          reversedArray.reverse();\n          return reversedArray;\n        }\n    },\n\n    _functionAbs: function(resolvedArgs) {\n      return Math.abs(resolvedArgs[0]);\n    },\n\n    _functionCeil: function(resolvedArgs) {\n        return Math.ceil(resolvedArgs[0]);\n    },\n\n    _functionAvg: function(resolvedArgs) {\n        var sum = 0;\n        var inputArray = resolvedArgs[0];\n        for (var i = 0; i < inputArray.length; i++) {\n            sum += inputArray[i];\n        }\n        return sum / inputArray.length;\n    },\n\n    _functionContains: function(resolvedArgs) {\n        return resolvedArgs[0].indexOf(resolvedArgs[1]) >= 0;\n    },\n\n    _functionFloor: function(resolvedArgs) {\n        return Math.floor(resolvedArgs[0]);\n    },\n\n    _functionLength: function(resolvedArgs) {\n       if (!isObject(resolvedArgs[0])) {\n         return resolvedArgs[0].length;\n       } else {\n         // As far as I can tell, there's no way to get the length\n         // of an object without O(n) iteration through the object.\n         return Object.keys(resolvedArgs[0]).length;\n       }\n    },\n\n    _functionMap: function(resolvedArgs) {\n      var mapped = [];\n      var interpreter = this._interpreter;\n      var exprefNode = resolvedArgs[0];\n      var elements = resolvedArgs[1];\n      for (var i = 0; i < elements.length; i++) {\n          mapped.push(interpreter.visit(exprefNode, elements[i]));\n      }\n      return mapped;\n    },\n\n    _functionMerge: function(resolvedArgs) {\n      var merged = {};\n      for (var i = 0; i < resolvedArgs.length; i++) {\n        var current = resolvedArgs[i];\n        for (var key in current) {\n          merged[key] = current[key];\n        }\n      }\n      return merged;\n    },\n\n    _functionMax: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.max.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var maxElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (maxElement.localeCompare(elements[i]) < 0) {\n                  maxElement = elements[i];\n              }\n          }\n          return maxElement;\n        }\n      } else {\n          return null;\n      }\n    },\n\n    _functionMin: function(resolvedArgs) {\n      if (resolvedArgs[0].length > 0) {\n        var typeName = this._getTypeName(resolvedArgs[0][0]);\n        if (typeName === TYPE_NUMBER) {\n          return Math.min.apply(Math, resolvedArgs[0]);\n        } else {\n          var elements = resolvedArgs[0];\n          var minElement = elements[0];\n          for (var i = 1; i < elements.length; i++) {\n              if (elements[i].localeCompare(minElement) < 0) {\n                  minElement = elements[i];\n              }\n          }\n          return minElement;\n        }\n      } else {\n        return null;\n      }\n    },\n\n    _functionSum: function(resolvedArgs) {\n      var sum = 0;\n      var listToSum = resolvedArgs[0];\n      for (var i = 0; i < listToSum.length; i++) {\n        sum += listToSum[i];\n      }\n      return sum;\n    },\n\n    _functionType: function(resolvedArgs) {\n        switch (this._getTypeName(resolvedArgs[0])) {\n          case TYPE_NUMBER:\n            return \"number\";\n          case TYPE_STRING:\n            return \"string\";\n          case TYPE_ARRAY:\n            return \"array\";\n          case TYPE_OBJECT:\n            return \"object\";\n          case TYPE_BOOLEAN:\n            return \"boolean\";\n          case TYPE_EXPREF:\n            return \"expref\";\n          case TYPE_NULL:\n            return \"null\";\n        }\n    },\n\n    _functionKeys: function(resolvedArgs) {\n        return Object.keys(resolvedArgs[0]);\n    },\n\n    _functionValues: function(resolvedArgs) {\n        var obj = resolvedArgs[0];\n        var keys = Object.keys(obj);\n        var values = [];\n        for (var i = 0; i < keys.length; i++) {\n            values.push(obj[keys[i]]);\n        }\n        return values;\n    },\n\n    _functionJoin: function(resolvedArgs) {\n        var joinChar = resolvedArgs[0];\n        var listJoin = resolvedArgs[1];\n        return listJoin.join(joinChar);\n    },\n\n    _functionToArray: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_ARRAY) {\n            return resolvedArgs[0];\n        } else {\n            return [resolvedArgs[0]];\n        }\n    },\n\n    _functionToString: function(resolvedArgs) {\n        if (this._getTypeName(resolvedArgs[0]) === TYPE_STRING) {\n            return resolvedArgs[0];\n        } else {\n            return JSON.stringify(resolvedArgs[0]);\n        }\n    },\n\n    _functionToNumber: function(resolvedArgs) {\n        var typeName = this._getTypeName(resolvedArgs[0]);\n        var convertedValue;\n        if (typeName === TYPE_NUMBER) {\n            return resolvedArgs[0];\n        } else if (typeName === TYPE_STRING) {\n            convertedValue = +resolvedArgs[0];\n            if (!isNaN(convertedValue)) {\n                return convertedValue;\n            }\n        }\n        return null;\n    },\n\n    _functionNotNull: function(resolvedArgs) {\n        for (var i = 0; i < resolvedArgs.length; i++) {\n            if (this._getTypeName(resolvedArgs[i]) !== TYPE_NULL) {\n                return resolvedArgs[i];\n            }\n        }\n        return null;\n    },\n\n    _functionSort: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        sortedArray.sort();\n        return sortedArray;\n    },\n\n    _functionSortBy: function(resolvedArgs) {\n        var sortedArray = resolvedArgs[0].slice(0);\n        if (sortedArray.length === 0) {\n            return sortedArray;\n        }\n        var interpreter = this._interpreter;\n        var exprefNode = resolvedArgs[1];\n        var requiredType = this._getTypeName(\n            interpreter.visit(exprefNode, sortedArray[0]));\n        if ([TYPE_NUMBER, TYPE_STRING].indexOf(requiredType) < 0) {\n            throw new Error(\"TypeError\");\n        }\n        var that = this;\n        // In order to get a stable sort out of an unstable\n        // sort algorithm, we decorate/sort/undecorate (DSU)\n        // by creating a new list of [index, element] pairs.\n        // In the cmp function, if the evaluated elements are\n        // equal, then the index will be used as the tiebreaker.\n        // After the decorated list has been sorted, it will be\n        // undecorated to extract the original elements.\n        var decorated = [];\n        for (var i = 0; i < sortedArray.length; i++) {\n          decorated.push([i, sortedArray[i]]);\n        }\n        decorated.sort(function(a, b) {\n          var exprA = interpreter.visit(exprefNode, a[1]);\n          var exprB = interpreter.visit(exprefNode, b[1]);\n          if (that._getTypeName(exprA) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprA));\n          } else if (that._getTypeName(exprB) !== requiredType) {\n              throw new Error(\n                  \"TypeError: expected \" + requiredType + \", received \" +\n                  that._getTypeName(exprB));\n          }\n          if (exprA > exprB) {\n            return 1;\n          } else if (exprA < exprB) {\n            return -1;\n          } else {\n            // If they're equal compare the items by their\n            // order to maintain relative order of equal keys\n            // (i.e. to get a stable sort).\n            return a[0] - b[0];\n          }\n        });\n        // Undecorate: extract out the original list elements.\n        for (var j = 0; j < decorated.length; j++) {\n          sortedArray[j] = decorated[j][1];\n        }\n        return sortedArray;\n    },\n\n    _functionMaxBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var maxNumber = -Infinity;\n      var maxRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current > maxNumber) {\n          maxNumber = current;\n          maxRecord = resolvedArray[i];\n        }\n      }\n      return maxRecord;\n    },\n\n    _functionMinBy: function(resolvedArgs) {\n      var exprefNode = resolvedArgs[1];\n      var resolvedArray = resolvedArgs[0];\n      var keyFunction = this.createKeyFunction(exprefNode, [TYPE_NUMBER, TYPE_STRING]);\n      var minNumber = Infinity;\n      var minRecord;\n      var current;\n      for (var i = 0; i < resolvedArray.length; i++) {\n        current = keyFunction(resolvedArray[i]);\n        if (current < minNumber) {\n          minNumber = current;\n          minRecord = resolvedArray[i];\n        }\n      }\n      return minRecord;\n    },\n\n    createKeyFunction: function(exprefNode, allowedTypes) {\n      var that = this;\n      var interpreter = this._interpreter;\n      var keyFunc = function(x) {\n        var current = interpreter.visit(exprefNode, x);\n        if (allowedTypes.indexOf(that._getTypeName(current)) < 0) {\n          var msg = \"TypeError: expected one of \" + allowedTypes +\n                    \", received \" + that._getTypeName(current);\n          throw new Error(msg);\n        }\n        return current;\n      };\n      return keyFunc;\n    }\n\n  };\n\n  function compile(stream) {\n    var parser = new Parser();\n    var ast = parser.parse(stream);\n    return ast;\n  }\n\n  function tokenize(stream) {\n      var lexer = new Lexer();\n      return lexer.tokenize(stream);\n  }\n\n  function search(data, expression) {\n      var parser = new Parser();\n      // This needs to be improved.  Both the interpreter and runtime depend on\n      // each other.  The runtime needs the interpreter to support exprefs.\n      // There's likely a clean way to avoid the cyclic dependency.\n      var runtime = new Runtime();\n      var interpreter = new TreeInterpreter(runtime);\n      runtime._interpreter = interpreter;\n      var node = parser.parse(expression);\n      return interpreter.search(node, data);\n  }\n\n  exports.tokenize = tokenize;\n  exports.compile = compile;\n  exports.search = search;\n  exports.strictDeepEqual = strictDeepEqual;\n})(typeof exports === \"undefined\" ? this.jmespath = {} : exports);\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function (Math) {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var Hasher = C_lib.Hasher;\n\t    var C_algo = C.algo;\n\n\t    // Initialization and round constants tables\n\t    var H = [];\n\t    var K = [];\n\n\t    // Compute constants\n\t    (function () {\n\t        function isPrime(n) {\n\t            var sqrtN = Math.sqrt(n);\n\t            for (var factor = 2; factor <= sqrtN; factor++) {\n\t                if (!(n % factor)) {\n\t                    return false;\n\t                }\n\t            }\n\n\t            return true;\n\t        }\n\n\t        function getFractionalBits(n) {\n\t            return ((n - (n | 0)) * 0x100000000) | 0;\n\t        }\n\n\t        var n = 2;\n\t        var nPrime = 0;\n\t        while (nPrime < 64) {\n\t            if (isPrime(n)) {\n\t                if (nPrime < 8) {\n\t                    H[nPrime] = getFractionalBits(Math.pow(n, 1 / 2));\n\t                }\n\t                K[nPrime] = getFractionalBits(Math.pow(n, 1 / 3));\n\n\t                nPrime++;\n\t            }\n\n\t            n++;\n\t        }\n\t    }());\n\n\t    // Reusable object\n\t    var W = [];\n\n\t    /**\n\t     * SHA-256 hash algorithm.\n\t     */\n\t    var SHA256 = C_algo.SHA256 = Hasher.extend({\n\t        _doReset: function () {\n\t            this._hash = new WordArray.init(H.slice(0));\n\t        },\n\n\t        _doProcessBlock: function (M, offset) {\n\t            // Shortcut\n\t            var H = this._hash.words;\n\n\t            // Working variables\n\t            var a = H[0];\n\t            var b = H[1];\n\t            var c = H[2];\n\t            var d = H[3];\n\t            var e = H[4];\n\t            var f = H[5];\n\t            var g = H[6];\n\t            var h = H[7];\n\n\t            // Computation\n\t            for (var i = 0; i < 64; i++) {\n\t                if (i < 16) {\n\t                    W[i] = M[offset + i] | 0;\n\t                } else {\n\t                    var gamma0x = W[i - 15];\n\t                    var gamma0  = ((gamma0x << 25) | (gamma0x >>> 7))  ^\n\t                                  ((gamma0x << 14) | (gamma0x >>> 18)) ^\n\t                                   (gamma0x >>> 3);\n\n\t                    var gamma1x = W[i - 2];\n\t                    var gamma1  = ((gamma1x << 15) | (gamma1x >>> 17)) ^\n\t                                  ((gamma1x << 13) | (gamma1x >>> 19)) ^\n\t                                   (gamma1x >>> 10);\n\n\t                    W[i] = gamma0 + W[i - 7] + gamma1 + W[i - 16];\n\t                }\n\n\t                var ch  = (e & f) ^ (~e & g);\n\t                var maj = (a & b) ^ (a & c) ^ (b & c);\n\n\t                var sigma0 = ((a << 30) | (a >>> 2)) ^ ((a << 19) | (a >>> 13)) ^ ((a << 10) | (a >>> 22));\n\t                var sigma1 = ((e << 26) | (e >>> 6)) ^ ((e << 21) | (e >>> 11)) ^ ((e << 7)  | (e >>> 25));\n\n\t                var t1 = h + sigma1 + ch + K[i] + W[i];\n\t                var t2 = sigma0 + maj;\n\n\t                h = g;\n\t                g = f;\n\t                f = e;\n\t                e = (d + t1) | 0;\n\t                d = c;\n\t                c = b;\n\t                b = a;\n\t                a = (t1 + t2) | 0;\n\t            }\n\n\t            // Intermediate hash value\n\t            H[0] = (H[0] + a) | 0;\n\t            H[1] = (H[1] + b) | 0;\n\t            H[2] = (H[2] + c) | 0;\n\t            H[3] = (H[3] + d) | 0;\n\t            H[4] = (H[4] + e) | 0;\n\t            H[5] = (H[5] + f) | 0;\n\t            H[6] = (H[6] + g) | 0;\n\t            H[7] = (H[7] + h) | 0;\n\t        },\n\n\t        _doFinalize: function () {\n\t            // Shortcuts\n\t            var data = this._data;\n\t            var dataWords = data.words;\n\n\t            var nBitsTotal = this._nDataBytes * 8;\n\t            var nBitsLeft = data.sigBytes * 8;\n\n\t            // Add padding\n\t            dataWords[nBitsLeft >>> 5] |= 0x80 << (24 - nBitsLeft % 32);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 14] = Math.floor(nBitsTotal / 0x100000000);\n\t            dataWords[(((nBitsLeft + 64) >>> 9) << 4) + 15] = nBitsTotal;\n\t            data.sigBytes = dataWords.length * 4;\n\n\t            // Hash final blocks\n\t            this._process();\n\n\t            // Return final computed hash\n\t            return this._hash;\n\t        },\n\n\t        clone: function () {\n\t            var clone = Hasher.clone.call(this);\n\t            clone._hash = this._hash.clone();\n\n\t            return clone;\n\t        }\n\t    });\n\n\t    /**\n\t     * Shortcut function to the hasher's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     *\n\t     * @return {WordArray} The hash.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hash = CryptoJS.SHA256('message');\n\t     *     var hash = CryptoJS.SHA256(wordArray);\n\t     */\n\t    C.SHA256 = Hasher._createHelper(SHA256);\n\n\t    /**\n\t     * Shortcut function to the HMAC's object interface.\n\t     *\n\t     * @param {WordArray|string} message The message to hash.\n\t     * @param {WordArray|string} key The secret key.\n\t     *\n\t     * @return {WordArray} The HMAC.\n\t     *\n\t     * @static\n\t     *\n\t     * @example\n\t     *\n\t     *     var hmac = CryptoJS.HmacSHA256(message, key);\n\t     */\n\t    C.HmacSHA256 = Hasher._createHmacHelper(SHA256);\n\t}(Math));\n\n\n\treturn CryptoJS.SHA256;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\t    var C_enc = C.enc;\n\n\t    /**\n\t     * Base64 encoding strategy.\n\t     */\n\t    var Base64 = C_enc.Base64 = {\n\t        /**\n\t         * Converts a word array to a Base64 string.\n\t         *\n\t         * @param {WordArray} wordArray The word array.\n\t         *\n\t         * @return {string} The Base64 string.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var base64String = CryptoJS.enc.Base64.stringify(wordArray);\n\t         */\n\t        stringify: function (wordArray) {\n\t            // Shortcuts\n\t            var words = wordArray.words;\n\t            var sigBytes = wordArray.sigBytes;\n\t            var map = this._map;\n\n\t            // Clamp excess bits\n\t            wordArray.clamp();\n\n\t            // Convert\n\t            var base64Chars = [];\n\t            for (var i = 0; i < sigBytes; i += 3) {\n\t                var byte1 = (words[i >>> 2]       >>> (24 - (i % 4) * 8))       & 0xff;\n\t                var byte2 = (words[(i + 1) >>> 2] >>> (24 - ((i + 1) % 4) * 8)) & 0xff;\n\t                var byte3 = (words[(i + 2) >>> 2] >>> (24 - ((i + 2) % 4) * 8)) & 0xff;\n\n\t                var triplet = (byte1 << 16) | (byte2 << 8) | byte3;\n\n\t                for (var j = 0; (j < 4) && (i + j * 0.75 < sigBytes); j++) {\n\t                    base64Chars.push(map.charAt((triplet >>> (6 * (3 - j))) & 0x3f));\n\t                }\n\t            }\n\n\t            // Add padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                while (base64Chars.length % 4) {\n\t                    base64Chars.push(paddingChar);\n\t                }\n\t            }\n\n\t            return base64Chars.join('');\n\t        },\n\n\t        /**\n\t         * Converts a Base64 string to a word array.\n\t         *\n\t         * @param {string} base64Str The Base64 string.\n\t         *\n\t         * @return {WordArray} The word array.\n\t         *\n\t         * @static\n\t         *\n\t         * @example\n\t         *\n\t         *     var wordArray = CryptoJS.enc.Base64.parse(base64String);\n\t         */\n\t        parse: function (base64Str) {\n\t            // Shortcuts\n\t            var base64StrLength = base64Str.length;\n\t            var map = this._map;\n\t            var reverseMap = this._reverseMap;\n\n\t            if (!reverseMap) {\n\t                    reverseMap = this._reverseMap = [];\n\t                    for (var j = 0; j < map.length; j++) {\n\t                        reverseMap[map.charCodeAt(j)] = j;\n\t                    }\n\t            }\n\n\t            // Ignore padding\n\t            var paddingChar = map.charAt(64);\n\t            if (paddingChar) {\n\t                var paddingIndex = base64Str.indexOf(paddingChar);\n\t                if (paddingIndex !== -1) {\n\t                    base64StrLength = paddingIndex;\n\t                }\n\t            }\n\n\t            // Convert\n\t            return parseLoop(base64Str, base64StrLength, reverseMap);\n\n\t        },\n\n\t        _map: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/='\n\t    };\n\n\t    function parseLoop(base64Str, base64StrLength, reverseMap) {\n\t      var words = [];\n\t      var nBytes = 0;\n\t      for (var i = 0; i < base64StrLength; i++) {\n\t          if (i % 4) {\n\t              var bits1 = reverseMap[base64Str.charCodeAt(i - 1)] << ((i % 4) * 2);\n\t              var bits2 = reverseMap[base64Str.charCodeAt(i)] >>> (6 - (i % 4) * 2);\n\t              words[nBytes >>> 2] |= (bits1 | bits2) << (24 - (nBytes % 4) * 8);\n\t              nBytes++;\n\t          }\n\t      }\n\t      return WordArray.create(words, nBytes);\n\t    }\n\t}());\n\n\n\treturn CryptoJS.enc.Base64;\n\n}));",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Check if typed arrays are supported\n\t    if (typeof ArrayBuffer != 'function') {\n\t        return;\n\t    }\n\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var WordArray = C_lib.WordArray;\n\n\t    // Reference original init\n\t    var superInit = WordArray.init;\n\n\t    // Augment WordArray.init to handle typed arrays\n\t    var subInit = WordArray.init = function (typedArray) {\n\t        // Convert buffers to uint8\n\t        if (typedArray instanceof ArrayBuffer) {\n\t            typedArray = new Uint8Array(typedArray);\n\t        }\n\n\t        // Convert other array views to uint8\n\t        if (\n\t            typedArray instanceof Int8Array ||\n\t            (typeof Uint8ClampedArray !== \"undefined\" && typedArray instanceof Uint8ClampedArray) ||\n\t            typedArray instanceof Int16Array ||\n\t            typedArray instanceof Uint16Array ||\n\t            typedArray instanceof Int32Array ||\n\t            typedArray instanceof Uint32Array ||\n\t            typedArray instanceof Float32Array ||\n\t            typedArray instanceof Float64Array\n\t        ) {\n\t            typedArray = new Uint8Array(typedArray.buffer, typedArray.byteOffset, typedArray.byteLength);\n\t        }\n\n\t        // Handle Uint8Array\n\t        if (typedArray instanceof Uint8Array) {\n\t            // Shortcut\n\t            var typedArrayByteLength = typedArray.byteLength;\n\n\t            // Extract bytes\n\t            var words = [];\n\t            for (var i = 0; i < typedArrayByteLength; i++) {\n\t                words[i >>> 2] |= typedArray[i] << (24 - (i % 4) * 8);\n\t            }\n\n\t            // Initialize this word array\n\t            superInit.call(this, words, typedArrayByteLength);\n\t        } else {\n\t            // Else call normal init\n\t            superInit.apply(this, arguments);\n\t        }\n\t    };\n\n\t    subInit.prototype = WordArray;\n\t}());\n\n\n\treturn CryptoJS.lib.WordArray;\n\n}));","var AWS = require('../core');\nvar util = require('../util');\nvar QueryParamSerializer = require('../query/query_param_serializer');\nvar Shape = require('../model/shape');\nvar populateHostPrefix = require('./helpers').populateHostPrefix;\n\nfunction buildRequest(req) {\n  var operation = req.service.api.operations[req.operation];\n  var httpRequest = req.httpRequest;\n  httpRequest.headers['Content-Type'] =\n    'application/x-www-form-urlencoded; charset=utf-8';\n  httpRequest.params = {\n    Version: req.service.api.apiVersion,\n    Action: operation.name\n  };\n\n  // convert the request parameters into a list of query params,\n  // e.g. Deeply.NestedParam.0.Name=value\n  var builder = new QueryParamSerializer();\n  builder.serialize(req.params, operation.input, function(name, value) {\n    httpRequest.params[name] = value;\n  });\n  httpRequest.body = util.queryParamsToString(httpRequest.params);\n\n  populateHostPrefix(req);\n}\n\nfunction extractError(resp) {\n  var data, body = resp.httpResponse.body.toString();\n  if (body.match('<UnknownOperationException')) {\n    data = {\n      Code: 'UnknownOperation',\n      Message: 'Unknown operation ' + resp.request.operation\n    };\n  } else {\n    try {\n      data = new AWS.XML.Parser().parse(body);\n    } catch (e) {\n      data = {\n        Code: resp.httpResponse.statusCode,\n        Message: resp.httpResponse.statusMessage\n      };\n    }\n  }\n\n  if (data.requestId && !resp.requestId) resp.requestId = data.requestId;\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var shape = operation.output || {};\n  var origRules = shape;\n\n  if (origRules.resultWrapper) {\n    var tmp = Shape.create({type: 'structure'});\n    tmp.members[origRules.resultWrapper] = shape;\n    tmp.memberNames = [origRules.resultWrapper];\n    util.property(shape, 'name', shape.resultWrapper);\n    shape = tmp;\n  }\n\n  var parser = new AWS.XML.Parser();\n\n  // TODO: Refactor XML Parser to parse RequestId from response.\n  if (shape && shape.members && !shape.members._XAMZRequestId) {\n    var requestIdShape = Shape.create(\n      { type: 'string' },\n      { api: { protocol: 'query' } },\n      'requestId'\n    );\n    shape.members._XAMZRequestId = requestIdShape;\n  }\n\n  var data = parser.parse(resp.httpResponse.body.toString(), shape);\n  resp.requestId = data._XAMZRequestId || data.requestId;\n\n  if (data._XAMZRequestId) delete data._XAMZRequestId;\n\n  if (origRules.resultWrapper) {\n    if (data[origRules.resultWrapper]) {\n      util.update(data, data[origRules.resultWrapper]);\n      delete data[origRules.resultWrapper];\n    }\n  }\n\n  resp.data = data;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var memoizedProperty = require('../util').memoizedProperty;\n\nfunction memoize(name, value, factory, nameTr) {\n  memoizedProperty(this, nameTr(name), function() {\n    return factory(name, value);\n  });\n}\n\nfunction Collection(iterable, options, factory, nameTr, callback) {\n  nameTr = nameTr || String;\n  var self = this;\n\n  for (var id in iterable) {\n    if (Object.prototype.hasOwnProperty.call(iterable, id)) {\n      memoize.call(self, id, iterable[id], factory, nameTr);\n      if (callback) callback(id, iterable[id]);\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Collection;\n","var util = require('../util');\nvar Rest = require('./rest');\nvar Json = require('./json');\nvar JsonBuilder = require('../json/builder');\nvar JsonParser = require('../json/parser');\n\nfunction populateBody(req) {\n  var builder = new JsonBuilder();\n  var input = req.service.api.operations[req.operation].input;\n\n  if (input.payload) {\n    var params = {};\n    var payloadShape = input.members[input.payload];\n    params = req.params[input.payload];\n    if (params === undefined) return;\n\n    if (payloadShape.type === 'structure') {\n      req.httpRequest.body = builder.build(params, payloadShape);\n      applyContentTypeHeader(req);\n    } else { // non-JSON payload\n      req.httpRequest.body = params;\n      if (payloadShape.type === 'binary' || payloadShape.isStreaming) {\n        applyContentTypeHeader(req, true);\n      }\n    }\n  } else {\n    var body = builder.build(req.params, input);\n    if (body !== '{}' || req.httpRequest.method !== 'GET') { //don't send empty body for GET method\n      req.httpRequest.body = body;\n    }\n    applyContentTypeHeader(req);\n  }\n}\n\nfunction applyContentTypeHeader(req, isBinary) {\n  var operation = req.service.api.operations[req.operation];\n  var input = operation.input;\n\n  if (!req.httpRequest.headers['Content-Type']) {\n    var type = isBinary ? 'binary/octet-stream' : 'application/json';\n    req.httpRequest.headers['Content-Type'] = type;\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on HEAD/DELETE\n  if (['HEAD', 'DELETE'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Json.extractError(resp);\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var req = resp.request;\n  var operation = req.service.api.operations[req.operation];\n  var rules = req.service.api.operations[req.operation].output || {};\n  var parser;\n  var hasEventOutput = operation.hasEventOutput;\n\n  if (rules.payload) {\n    var payloadMember = rules.members[rules.payload];\n    var body = resp.httpResponse.body;\n    if (payloadMember.isEventStream) {\n      parser = new JsonParser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure' || payloadMember.type === 'list') {\n      var parser = new JsonParser();\n      resp.data[rules.payload] = parser.parse(body, payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[rules.payload] = body;\n    } else {\n      resp.data[rules.payload] = payloadMember.toType(body);\n    }\n  } else {\n    var data = resp.data;\n    Json.extractData(resp);\n    resp.data = util.merge(data, resp.data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var AWS = require('../core');\nvar util = require('../util');\nvar Rest = require('./rest');\n\nfunction populateBody(req) {\n  var input = req.service.api.operations[req.operation].input;\n  var builder = new AWS.XML.Builder();\n  var params = req.params;\n\n  var payload = input.payload;\n  if (payload) {\n    var payloadMember = input.members[payload];\n    params = params[payload];\n    if (params === undefined) return;\n\n    if (payloadMember.type === 'structure') {\n      var rootElement = payloadMember.name;\n      req.httpRequest.body = builder.toXML(params, payloadMember, rootElement, true);\n    } else { // non-xml payload\n      req.httpRequest.body = params;\n    }\n  } else {\n    req.httpRequest.body = builder.toXML(params, input, input.name ||\n      input.shape || util.string.upperFirst(req.operation) + 'Request');\n  }\n}\n\nfunction buildRequest(req) {\n  Rest.buildRequest(req);\n\n  // never send body payload on GET/HEAD\n  if (['GET', 'HEAD'].indexOf(req.httpRequest.method) < 0) {\n    populateBody(req);\n  }\n}\n\nfunction extractError(resp) {\n  Rest.extractError(resp);\n\n  var data;\n  try {\n    data = new AWS.XML.Parser().parse(resp.httpResponse.body.toString());\n  } catch (e) {\n    data = {\n      Code: resp.httpResponse.statusCode,\n      Message: resp.httpResponse.statusMessage\n    };\n  }\n\n  if (data.Errors) data = data.Errors;\n  if (data.Error) data = data.Error;\n  if (data.Code) {\n    resp.error = util.error(new Error(), {\n      code: data.Code,\n      message: data.Message\n    });\n  } else {\n    resp.error = util.error(new Error(), {\n      code: resp.httpResponse.statusCode,\n      message: null\n    });\n  }\n}\n\nfunction extractData(resp) {\n  Rest.extractData(resp);\n\n  var parser;\n  var req = resp.request;\n  var body = resp.httpResponse.body;\n  var operation = req.service.api.operations[req.operation];\n  var output = operation.output;\n\n  var hasEventOutput = operation.hasEventOutput;\n\n  var payload = output.payload;\n  if (payload) {\n    var payloadMember = output.members[payload];\n    if (payloadMember.isEventStream) {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = util.createEventStream(\n        AWS.HttpClient.streamsApiVersion === 2 ? resp.httpResponse.stream : resp.httpResponse.body,\n        parser,\n        payloadMember\n      );\n    } else if (payloadMember.type === 'structure') {\n      parser = new AWS.XML.Parser();\n      resp.data[payload] = parser.parse(body.toString(), payloadMember);\n    } else if (payloadMember.type === 'binary' || payloadMember.isStreaming) {\n      resp.data[payload] = body;\n    } else {\n      resp.data[payload] = payloadMember.toType(body);\n    }\n  } else if (body.length > 0) {\n    parser = new AWS.XML.Parser();\n    var data = parser.parse(body.toString(), output);\n    util.update(resp.data, data);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  buildRequest: buildRequest,\n  extractError: extractError,\n  extractData: extractData\n};\n","var Collection = require('./collection');\nvar Operation = require('./operation');\nvar Shape = require('./shape');\nvar Paginator = require('./paginator');\nvar ResourceWaiter = require('./resource_waiter');\nvar metadata = require('../../apis/metadata.json');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Api(api, options) {\n  var self = this;\n  api = api || {};\n  options = options || {};\n  options.api = this;\n\n  api.metadata = api.metadata || {};\n\n  var serviceIdentifier = options.serviceIdentifier;\n  delete options.serviceIdentifier;\n\n  property(this, 'isApi', true, false);\n  property(this, 'apiVersion', api.metadata.apiVersion);\n  property(this, 'endpointPrefix', api.metadata.endpointPrefix);\n  property(this, 'signingName', api.metadata.signingName);\n  property(this, 'globalEndpoint', api.metadata.globalEndpoint);\n  property(this, 'signatureVersion', api.metadata.signatureVersion);\n  property(this, 'jsonVersion', api.metadata.jsonVersion);\n  property(this, 'targetPrefix', api.metadata.targetPrefix);\n  property(this, 'protocol', api.metadata.protocol);\n  property(this, 'timestampFormat', api.metadata.timestampFormat);\n  property(this, 'xmlNamespaceUri', api.metadata.xmlNamespace);\n  property(this, 'abbreviation', api.metadata.serviceAbbreviation);\n  property(this, 'fullName', api.metadata.serviceFullName);\n  property(this, 'serviceId', api.metadata.serviceId);\n  if (serviceIdentifier && metadata[serviceIdentifier]) {\n      property(this, 'xmlNoDefaultLists', metadata[serviceIdentifier].xmlNoDefaultLists, false);\n  }\n\n  memoizedProperty(this, 'className', function() {\n    var name = api.metadata.serviceAbbreviation || api.metadata.serviceFullName;\n    if (!name) return null;\n\n    name = name.replace(/^Amazon|AWS\\s*|\\(.*|\\s+|\\W+/g, '');\n    if (name === 'ElasticLoadBalancing') name = 'ELB';\n    return name;\n  });\n\n  function addEndpointOperation(name, operation) {\n    if (operation.endpointoperation === true) {\n      property(self, 'endpointOperation', util.string.lowerFirst(name));\n    }\n    if (operation.endpointdiscovery && !self.hasRequiredEndpointDiscovery) {\n      property(\n        self,\n        'hasRequiredEndpointDiscovery',\n        operation.endpointdiscovery.required === true\n      );\n    }\n  }\n\n  property(this, 'operations', new Collection(api.operations, options, function(name, operation) {\n    return new Operation(name, operation, options);\n  }, util.string.lowerFirst, addEndpointOperation));\n\n  property(this, 'shapes', new Collection(api.shapes, options, function(name, shape) {\n    return Shape.create(shape, options);\n  }));\n\n  property(this, 'paginators', new Collection(api.paginators, options, function(name, paginator) {\n    return new Paginator(name, paginator, options);\n  }));\n\n  property(this, 'waiters', new Collection(api.waiters, options, function(name, waiter) {\n    return new ResourceWaiter(name, waiter, options);\n  }, util.string.lowerFirst));\n\n  if (options.documentation) {\n    property(this, 'documentation', api.documentation);\n    property(this, 'documentationUrl', api.documentationUrl);\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = Api;\n","var Shape = require('./shape');\n\nvar util = require('../util');\nvar property = util.property;\nvar memoizedProperty = util.memoizedProperty;\n\nfunction Operation(name, operation, options) {\n  var self = this;\n  options = options || {};\n\n  property(this, 'name', operation.name || name);\n  property(this, 'api', options.api, false);\n\n  operation.http = operation.http || {};\n  property(this, 'endpoint', operation.endpoint);\n  property(this, 'httpMethod', operation.http.method || 'POST');\n  property(this, 'httpPath', operation.http.requestUri || '/');\n  property(this, 'authtype', operation.authtype || '');\n  property(\n    this,\n    'endpointDiscoveryRequired',\n    operation.endpointdiscovery ?\n      (operation.endpointdiscovery.required ? 'REQUIRED' : 'OPTIONAL') :\n    'NULL'\n  );\n\n  memoizedProperty(this, 'input', function() {\n    if (!operation.input) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.input, options);\n  });\n\n  memoizedProperty(this, 'output', function() {\n    if (!operation.output) {\n      return new Shape.create({type: 'structure'}, options);\n    }\n    return Shape.create(operation.output, options);\n  });\n\n  memoizedProperty(this, 'errors', function() {\n    var list = [];\n    if (!operation.errors) return null;\n\n    for (var i = 0; i < operation.errors.length; i++) {\n      list.push(Shape.create(operation.errors[i], options));\n    }\n\n    return list;\n  });\n\n  memoizedProperty(this, 'paginator', function() {\n    return options.api.paginators[name];\n  });\n\n  if (options.documentation) {\n    property(this, 'documentation', operation.documentation);\n    property(this, 'documentationUrl', operation.documentationUrl);\n  }\n\n  // idempotentMembers only tracks top-level input shapes\n  memoizedProperty(this, 'idempotentMembers', function() {\n    var idempotentMembers = [];\n    var input = self.input;\n    var members = input.members;\n    if (!input.members) {\n      return idempotentMembers;\n    }\n    for (var name in members) {\n      if (!members.hasOwnProperty(name)) {\n        continue;\n      }\n      if (members[name].isIdempotent === true) {\n        idempotentMembers.push(name);\n      }\n    }\n    return idempotentMembers;\n  });\n\n  memoizedProperty(this, 'hasEventOutput', function() {\n    var output = self.output;\n    return hasEventStream(output);\n  });\n}\n\nfunction hasEventStream(topLevelShape) {\n  var members = topLevelShape.members;\n  var payload = topLevelShape.payload;\n\n  if (!topLevelShape.members) {\n    return false;\n  }\n\n  if (payload) {\n    var payloadMember = members[payload];\n    return payloadMember.isEventStream;\n  }\n\n  // check if any member is an event stream\n  for (var name in members) {\n    if (!members.hasOwnProperty(name)) {\n      if (members[name].isEventStream === true) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\n\n/**\n * @api private\n */\nmodule.exports = Operation;\n","var property = require('../util').property;\n\nfunction Paginator(name, paginator) {\n  property(this, 'inputToken', paginator.input_token);\n  property(this, 'limitKey', paginator.limit_key);\n  property(this, 'moreResults', paginator.more_results);\n  property(this, 'outputToken', paginator.output_token);\n  property(this, 'resultKey', paginator.result_key);\n}\n\n/**\n * @api private\n */\nmodule.exports = Paginator;\n","var util = require('../util');\nvar property = util.property;\n\nfunction ResourceWaiter(name, waiter, options) {\n  options = options || {};\n  property(this, 'name', name);\n  property(this, 'api', options.api, false);\n\n  if (waiter.operation) {\n    property(this, 'operation', util.string.lowerFirst(waiter.operation));\n  }\n\n  var self = this;\n  var keys = [\n    'type',\n    'description',\n    'delay',\n    'maxAttempts',\n    'acceptors'\n  ];\n\n  keys.forEach(function(key) {\n    var value = waiter[key];\n    if (value) {\n      property(self, key, value);\n    }\n  });\n}\n\n/**\n * @api private\n */\nmodule.exports = ResourceWaiter;\n","var AWS = require('./core');\n\n/**\n * @api private\n * @!method on(eventName, callback)\n *   Registers an event listener callback for the event given by `eventName`.\n *   Parameters passed to the callback function depend on the individual event\n *   being triggered. See the event documentation for those parameters.\n *\n *   @param eventName [String] the event name to register the listener for\n *   @param callback [Function] the listener callback function\n *   @param toHead [Boolean] attach the listener callback to the head of callback array if set to true.\n *     Default to be false.\n *   @return [AWS.SequentialExecutor] the same object for chaining\n */\nAWS.SequentialExecutor = AWS.util.inherit({\n\n  constructor: function SequentialExecutor() {\n    this._events = {};\n  },\n\n  /**\n   * @api private\n   */\n  listeners: function listeners(eventName) {\n    return this._events[eventName] ? this._events[eventName].slice(0) : [];\n  },\n\n  on: function on(eventName, listener, toHead) {\n    if (this._events[eventName]) {\n      toHead ?\n        this._events[eventName].unshift(listener) :\n        this._events[eventName].push(listener);\n    } else {\n      this._events[eventName] = [listener];\n    }\n    return this;\n  },\n\n  onAsync: function onAsync(eventName, listener, toHead) {\n    listener._isAsync = true;\n    return this.on(eventName, listener, toHead);\n  },\n\n  removeListener: function removeListener(eventName, listener) {\n    var listeners = this._events[eventName];\n    if (listeners) {\n      var length = listeners.length;\n      var position = -1;\n      for (var i = 0; i < length; ++i) {\n        if (listeners[i] === listener) {\n          position = i;\n        }\n      }\n      if (position > -1) {\n        listeners.splice(position, 1);\n      }\n    }\n    return this;\n  },\n\n  removeAllListeners: function removeAllListeners(eventName) {\n    if (eventName) {\n      delete this._events[eventName];\n    } else {\n      this._events = {};\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  emit: function emit(eventName, eventArgs, doneCallback) {\n    if (!doneCallback) doneCallback = function() { };\n    var listeners = this.listeners(eventName);\n    var count = listeners.length;\n    this.callListeners(listeners, eventArgs, doneCallback);\n    return count > 0;\n  },\n\n  /**\n   * @api private\n   */\n  callListeners: function callListeners(listeners, args, doneCallback, prevError) {\n    var self = this;\n    var error = prevError || null;\n\n    function callNextListener(err) {\n      if (err) {\n        error = AWS.util.error(error || new Error(), err);\n        if (self._haltHandlersOnError) {\n          return doneCallback.call(self, error);\n        }\n      }\n      self.callListeners(listeners, args, doneCallback, error);\n    }\n\n    while (listeners.length > 0) {\n      var listener = listeners.shift();\n      if (listener._isAsync) { // asynchronous listener\n        listener.apply(self, args.concat([callNextListener]));\n        return; // stop here, callNextListener will continue\n      } else { // synchronous listener\n        try {\n          listener.apply(self, args);\n        } catch (err) {\n          error = AWS.util.error(error || new Error(), err);\n        }\n        if (error && self._haltHandlersOnError) {\n          doneCallback.call(self, error);\n          return;\n        }\n      }\n    }\n    doneCallback.call(self, error);\n  },\n\n  /**\n   * Adds or copies a set of listeners from another list of\n   * listeners or SequentialExecutor object.\n   *\n   * @param listeners [map<String,Array<Function>>, AWS.SequentialExecutor]\n   *   a list of events and callbacks, or an event emitter object\n   *   containing listeners to add to this emitter object.\n   * @return [AWS.SequentialExecutor] the emitter object, for chaining.\n   * @example Adding listeners from a map of listeners\n   *   emitter.addListeners({\n   *     event1: [function() { ... }, function() { ... }],\n   *     event2: [function() { ... }]\n   *   });\n   *   emitter.emit('event1'); // emitter has event1\n   *   emitter.emit('event2'); // emitter has event2\n   * @example Adding listeners from another emitter object\n   *   var emitter1 = new AWS.SequentialExecutor();\n   *   emitter1.on('event1', function() { ... });\n   *   emitter1.on('event2', function() { ... });\n   *   var emitter2 = new AWS.SequentialExecutor();\n   *   emitter2.addListeners(emitter1);\n   *   emitter2.emit('event1'); // emitter2 has event1\n   *   emitter2.emit('event2'); // emitter2 has event2\n   */\n  addListeners: function addListeners(listeners) {\n    var self = this;\n\n    // extract listeners if parameter is an SequentialExecutor object\n    if (listeners._events) listeners = listeners._events;\n\n    AWS.util.each(listeners, function(event, callbacks) {\n      if (typeof callbacks === 'function') callbacks = [callbacks];\n      AWS.util.arrayEach(callbacks, function(callback) {\n        self.on(event, callback);\n      });\n    });\n\n    return self;\n  },\n\n  /**\n   * Registers an event with {on} and saves the callback handle function\n   * as a property on the emitter object using a given `name`.\n   *\n   * @param name [String] the property name to set on this object containing\n   *   the callback function handle so that the listener can be removed in\n   *   the future.\n   * @param (see on)\n   * @return (see on)\n   * @example Adding a named listener DATA_CALLBACK\n   *   var listener = function() { doSomething(); };\n   *   emitter.addNamedListener('DATA_CALLBACK', 'data', listener);\n   *\n   *   // the following prints: true\n   *   console.log(emitter.DATA_CALLBACK == listener);\n   */\n  addNamedListener: function addNamedListener(name, eventName, callback, toHead) {\n    this[name] = callback;\n    this.addListener(eventName, callback, toHead);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  addNamedAsyncListener: function addNamedAsyncListener(name, eventName, callback, toHead) {\n    callback._isAsync = true;\n    return this.addNamedListener(name, eventName, callback, toHead);\n  },\n\n  /**\n   * Helper method to add a set of named listeners using\n   * {addNamedListener}. The callback contains a parameter\n   * with a handle to the `addNamedListener` method.\n   *\n   * @callback callback function(add)\n   *   The callback function is called immediately in order to provide\n   *   the `add` function to the block. This simplifies the addition of\n   *   a large group of named listeners.\n   *   @param add [Function] the {addNamedListener} function to call\n   *     when registering listeners.\n   * @example Adding a set of named listeners\n   *   emitter.addNamedListeners(function(add) {\n   *     add('DATA_CALLBACK', 'data', function() { ... });\n   *     add('OTHER', 'otherEvent', function() { ... });\n   *     add('LAST', 'lastEvent', function() { ... });\n   *   });\n   *\n   *   // these properties are now set:\n   *   emitter.DATA_CALLBACK;\n   *   emitter.OTHER;\n   *   emitter.LAST;\n   */\n  addNamedListeners: function addNamedListeners(callback) {\n    var self = this;\n    callback(\n      function() {\n        self.addNamedListener.apply(self, arguments);\n      },\n      function() {\n        self.addNamedAsyncListener.apply(self, arguments);\n      }\n    );\n    return this;\n  }\n});\n\n/**\n * {on} is the prefered method.\n * @api private\n */\nAWS.SequentialExecutor.prototype.addListener = AWS.SequentialExecutor.prototype.on;\n\n/**\n * @api private\n */\nmodule.exports = AWS.SequentialExecutor;\n","var AWS = require('./core');\n\n/**\n * Represents your AWS security credentials, specifically the\n * {accessKeyId}, {secretAccessKey}, and optional {sessionToken}.\n * Creating a `Credentials` object allows you to pass around your\n * security information to configuration and service objects.\n *\n * Note that this class typically does not need to be constructed manually,\n * as the {AWS.Config} and {AWS.Service} classes both accept simple\n * options hashes with the three keys. These structures will be converted\n * into Credentials objects automatically.\n *\n * ## Expiring and Refreshing Credentials\n *\n * Occasionally credentials can expire in the middle of a long-running\n * application. In this case, the SDK will automatically attempt to\n * refresh the credentials from the storage location if the Credentials\n * class implements the {refresh} method.\n *\n * If you are implementing a credential storage location, you\n * will want to create a subclass of the `Credentials` class and\n * override the {refresh} method. This method allows credentials to be\n * retrieved from the backing store, be it a file system, database, or\n * some network storage. The method should reset the credential attributes\n * on the object.\n *\n * @!attribute expired\n *   @return [Boolean] whether the credentials have been expired and\n *     require a refresh. Used in conjunction with {expireTime}.\n * @!attribute expireTime\n *   @return [Date] a time when credentials should be considered expired. Used\n *     in conjunction with {expired}.\n * @!attribute accessKeyId\n *   @return [String] the AWS access key ID\n * @!attribute secretAccessKey\n *   @return [String] the AWS secret access key\n * @!attribute sessionToken\n *   @return [String] an optional AWS session token\n */\nAWS.Credentials = AWS.util.inherit({\n  /**\n   * A credentials object can be created using positional arguments or an options\n   * hash.\n   *\n   * @overload AWS.Credentials(accessKeyId, secretAccessKey, sessionToken=null)\n   *   Creates a Credentials object with a given set of credential information\n   *   as positional arguments.\n   *   @param accessKeyId [String] the AWS access key ID\n   *   @param secretAccessKey [String] the AWS secret access key\n   *   @param sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials('akid', 'secret', 'session');\n   * @overload AWS.Credentials(options)\n   *   Creates a Credentials object with a given set of credential information\n   *   as an options hash.\n   *   @option options accessKeyId [String] the AWS access key ID\n   *   @option options secretAccessKey [String] the AWS secret access key\n   *   @option options sessionToken [String] the optional AWS session token\n   *   @example Create a credentials object with AWS credentials\n   *     var creds = new AWS.Credentials({\n   *       accessKeyId: 'akid', secretAccessKey: 'secret', sessionToken: 'session'\n   *     });\n   */\n  constructor: function Credentials() {\n    // hide secretAccessKey from being displayed with util.inspect\n    AWS.util.hideProperties(this, ['secretAccessKey']);\n\n    this.expired = false;\n    this.expireTime = null;\n    this.refreshCallbacks = [];\n    if (arguments.length === 1 && typeof arguments[0] === 'object') {\n      var creds = arguments[0].credentials || arguments[0];\n      this.accessKeyId = creds.accessKeyId;\n      this.secretAccessKey = creds.secretAccessKey;\n      this.sessionToken = creds.sessionToken;\n    } else {\n      this.accessKeyId = arguments[0];\n      this.secretAccessKey = arguments[1];\n      this.sessionToken = arguments[2];\n    }\n  },\n\n  /**\n   * @return [Integer] the number of seconds before {expireTime} during which\n   *   the credentials will be considered expired.\n   */\n  expiryWindow: 15,\n\n  /**\n   * @return [Boolean] whether the credentials object should call {refresh}\n   * @note Subclasses should override this method to provide custom refresh\n   *   logic.\n   */\n  needsRefresh: function needsRefresh() {\n    var currentTime = AWS.util.date.getDate().getTime();\n    var adjustedTime = new Date(currentTime + this.expiryWindow * 1000);\n\n    if (this.expireTime && adjustedTime > this.expireTime) {\n      return true;\n    } else {\n      return this.expired || !this.accessKeyId || !this.secretAccessKey;\n    }\n  },\n\n  /**\n   * Gets the existing credentials, refreshing them if they are not yet loaded\n   * or have expired. Users should call this method before using {refresh},\n   * as this will not attempt to reload credentials when they are already\n   * loaded into the object.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means either credentials\n   *   do not need to be refreshed or refreshed credentials information has\n   *   been loaded into the object (as the `accessKeyId`, `secretAccessKey`,\n   *   and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   */\n  get: function get(callback) {\n    var self = this;\n    if (this.needsRefresh()) {\n      this.refresh(function(err) {\n        if (!err) self.expired = false; // reset expired flag\n        if (callback) callback(err);\n      });\n    } else if (callback) {\n      callback();\n    }\n  },\n\n  /**\n   * @!method  getPromise()\n   *   Returns a 'thenable' promise.\n   *   Gets the existing credentials, refreshing them if they are not yet loaded\n   *   or have expired. Users should call this method before using {refresh},\n   *   as this will not attempt to reload credentials when they are already\n   *   loaded into the object.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means either credentials do not need to be refreshed or refreshed\n   *     credentials information has been loaded into the object (as the\n   *     `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `get` call.\n   *   @example Calling the `getPromise` method.\n   *     var promise = credProvider.getPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * @!method  refreshPromise()\n   *   Returns a 'thenable' promise.\n   *   Refreshes the credentials. Users should call {get} before attempting\n   *   to forcibly refresh credentials.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function()\n   *     Called if the promise is fulfilled. When this callback is called, it\n   *     means refreshed credentials information has been loaded into the object\n   *     (as the `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @callback rejectedCallback function(err)\n   *     Called if the promise is rejected.\n   *     @param err [Error] if an error occurred, this value will be filled\n   *   @return [Promise] A promise that represents the state of the `refresh` call.\n   *   @example Calling the `refreshPromise` method.\n   *     var promise = credProvider.refreshPromise();\n   *     promise.then(function() { ... }, function(err) { ... });\n   */\n\n  /**\n   * Refreshes the credentials. Users should call {get} before attempting\n   * to forcibly refresh credentials.\n   *\n   * @callback callback function(err)\n   *   When this callback is called with no error, it means refreshed\n   *   credentials information has been loaded into the object (as the\n   *   `accessKeyId`, `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @note Subclasses should override this class to reset the\n   *   {accessKeyId}, {secretAccessKey} and optional {sessionToken}\n   *   on the credentials object and then call the callback with\n   *   any error information.\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.expired = false;\n    callback();\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  coalesceRefresh: function coalesceRefresh(callback, sync) {\n    var self = this;\n    if (self.refreshCallbacks.push(callback) === 1) {\n      self.load(function onLoad(err) {\n        AWS.util.arrayEach(self.refreshCallbacks, function(callback) {\n          if (sync) {\n            callback(err);\n          } else {\n            // callback could throw, so defer to ensure all callbacks are notified\n            AWS.util.defer(function () {\n              callback(err);\n            });\n          }\n        });\n        self.refreshCallbacks.length = 0;\n      });\n    }\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    callback();\n  }\n});\n\n/**\n * @api private\n */\nAWS.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.getPromise = AWS.util.promisifyMethod('get', PromiseDependency);\n  this.prototype.refreshPromise = AWS.util.promisifyMethod('refresh', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.getPromise;\n  delete this.prototype.refreshPromise;\n};\n\nAWS.util.addPromises(AWS.Credentials);\n","var AWS = require('../core');\n\n/**\n * Creates a credential provider chain that searches for AWS credentials\n * in a list of credential providers specified by the {providers} property.\n *\n * By default, the chain will use the {defaultProviders} to resolve credentials.\n * These providers will look in the environment using the\n * {AWS.EnvironmentCredentials} class with the 'AWS' and 'AMAZON' prefixes.\n *\n * ## Setting Providers\n *\n * Each provider in the {providers} list should be a function that returns\n * a {AWS.Credentials} object, or a hardcoded credentials object. The function\n * form allows for delayed execution of the credential construction.\n *\n * ## Resolving Credentials from a Chain\n *\n * Call {resolve} to return the first valid credential object that can be\n * loaded by the provider chain.\n *\n * For example, to resolve a chain with a custom provider that checks a file\n * on disk after the set of {defaultProviders}:\n *\n * ```javascript\n * var diskProvider = new AWS.FileSystemCredentials('./creds.json');\n * var chain = new AWS.CredentialProviderChain();\n * chain.providers.push(diskProvider);\n * chain.resolve();\n * ```\n *\n * The above code will return the `diskProvider` object if the\n * file contains credentials and the `defaultProviders` do not contain\n * any credential settings.\n *\n * @!attribute providers\n *   @return [Array<AWS.Credentials, Function>]\n *     a list of credentials objects or functions that return credentials\n *     objects. If the provider is a function, the function will be\n *     executed lazily when the provider needs to be checked for valid\n *     credentials. By default, this object will be set to the\n *     {defaultProviders}.\n *   @see defaultProviders\n */\nAWS.CredentialProviderChain = AWS.util.inherit(AWS.Credentials, {\n\n  /**\n   * Creates a new CredentialProviderChain with a default set of providers\n   * specified by {defaultProviders}.\n   */\n  constructor: function CredentialProviderChain(providers) {\n    if (providers) {\n      this.providers = providers;\n    } else {\n      this.providers = AWS.CredentialProviderChain.defaultProviders.slice(0);\n    }\n    this.resolveCallbacks = [];\n  },\n\n  /**\n   * @!method  resolvePromise()\n   *   Returns a 'thenable' promise.\n   *   Resolves the provider chain by searching for the first set of\n   *   credentials in {providers}.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(credentials)\n   *     Called if the promise is fulfilled and the provider resolves the chain\n   *     to a credentials object\n   *     @param credentials [AWS.Credentials] the credentials object resolved\n   *       by the provider chain.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param err [Error] the error object returned if no credentials are found.\n   *   @return [Promise] A promise that represents the state of the `resolve` method call.\n   *   @example Calling the `resolvePromise` method.\n   *     var promise = chain.resolvePromise();\n   *     promise.then(function(credentials) { ... }, function(err) { ... });\n   */\n\n  /**\n   * Resolves the provider chain by searching for the first set of\n   * credentials in {providers}.\n   *\n   * @callback callback function(err, credentials)\n   *   Called when the provider resolves the chain to a credentials object\n   *   or null if no credentials can be found.\n   *\n   *   @param err [Error] the error object returned if no credentials are\n   *     found.\n   *   @param credentials [AWS.Credentials] the credentials object resolved\n   *     by the provider chain.\n   * @return [AWS.CredentialProviderChain] the provider, for chaining.\n   */\n  resolve: function resolve(callback) {\n    var self = this;\n    if (self.providers.length === 0) {\n      callback(new Error('No providers'));\n      return self;\n    }\n\n    if (self.resolveCallbacks.push(callback) === 1) {\n      var index = 0;\n      var providers = self.providers.slice(0);\n\n      function resolveNext(err, creds) {\n        if ((!err && creds) || index === providers.length) {\n          AWS.util.arrayEach(self.resolveCallbacks, function (callback) {\n            callback(err, creds);\n          });\n          self.resolveCallbacks.length = 0;\n          return;\n        }\n\n        var provider = providers[index++];\n        if (typeof provider === 'function') {\n          creds = provider.call();\n        } else {\n          creds = provider;\n        }\n\n        if (creds.get) {\n          creds.get(function (getErr) {\n            resolveNext(getErr, getErr ? null : creds);\n          });\n        } else {\n          resolveNext(null, creds);\n        }\n      }\n\n      resolveNext();\n    }\n\n    return self;\n  }\n});\n\n/**\n * The default set of providers used by a vanilla CredentialProviderChain.\n *\n * In the browser:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = []\n * ```\n *\n * In Node.js:\n *\n * ```javascript\n * AWS.CredentialProviderChain.defaultProviders = [\n *   function () { return new AWS.EnvironmentCredentials('AWS'); },\n *   function () { return new AWS.EnvironmentCredentials('AMAZON'); },\n *   function () { return new AWS.SharedIniFileCredentials(); },\n *   function () { return new AWS.ECSCredentials(); },\n *   function () { return new AWS.ProcessCredentials(); },\n *   function () { return new AWS.TokenFileWebIdentityCredentials(); },\n *   function () { return new AWS.EC2MetadataCredentials() }\n * ]\n * ```\n */\nAWS.CredentialProviderChain.defaultProviders = [];\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.resolvePromise = AWS.util.promisifyMethod('resolve', PromiseDependency);\n};\n\n/**\n * @api private\n */\nAWS.CredentialProviderChain.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.resolvePromise;\n};\n\nAWS.util.addPromises(AWS.CredentialProviderChain);\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\n\n/**\n * The endpoint that a service will talk to, for example,\n * `'https://ec2.ap-southeast-1.amazonaws.com'`. If\n * you need to override an endpoint for a service, you can\n * set the endpoint on a service by passing the endpoint\n * object with the `endpoint` option key:\n *\n * ```javascript\n * var ep = new AWS.Endpoint('awsproxy.example.com');\n * var s3 = new AWS.S3({endpoint: ep});\n * s3.service.endpoint.hostname == 'awsproxy.example.com'\n * ```\n *\n * Note that if you do not specify a protocol, the protocol will\n * be selected based on your current {AWS.config} configuration.\n *\n * @!attribute protocol\n *   @return [String] the protocol (http or https) of the endpoint\n *     URL\n * @!attribute hostname\n *   @return [String] the host portion of the endpoint, e.g.,\n *     example.com\n * @!attribute host\n *   @return [String] the host portion of the endpoint including\n *     the port, e.g., example.com:80\n * @!attribute port\n *   @return [Integer] the port of the endpoint\n * @!attribute href\n *   @return [String] the full URL of the endpoint\n */\nAWS.Endpoint = inherit({\n\n  /**\n   * @overload Endpoint(endpoint)\n   *   Constructs a new endpoint given an endpoint URL. If the\n   *   URL omits a protocol (http or https), the default protocol\n   *   set in the global {AWS.config} will be used.\n   *   @param endpoint [String] the URL to construct an endpoint from\n   */\n  constructor: function Endpoint(endpoint, config) {\n    AWS.util.hideProperties(this, ['slashes', 'auth', 'hash', 'search', 'query']);\n\n    if (typeof endpoint === 'undefined' || endpoint === null) {\n      throw new Error('Invalid endpoint: ' + endpoint);\n    } else if (typeof endpoint !== 'string') {\n      return AWS.util.copy(endpoint);\n    }\n\n    if (!endpoint.match(/^http/)) {\n      var useSSL = config && config.sslEnabled !== undefined ?\n        config.sslEnabled : AWS.config.sslEnabled;\n      endpoint = (useSSL ? 'https' : 'http') + '://' + endpoint;\n    }\n\n    AWS.util.update(this, AWS.util.urlParse(endpoint));\n\n    // Ensure the port property is set as an integer\n    if (this.port) {\n      this.port = parseInt(this.port, 10);\n    } else {\n      this.port = this.protocol === 'https:' ? 443 : 80;\n    }\n  }\n\n});\n\n/**\n * The low level HTTP request object, encapsulating all HTTP header\n * and body data sent by a service request.\n *\n * @!attribute method\n *   @return [String] the HTTP method of the request\n * @!attribute path\n *   @return [String] the path portion of the URI, e.g.,\n *     \"/list/?start=5&num=10\"\n * @!attribute headers\n *   @return [map<String,String>]\n *     a map of header keys and their respective values\n * @!attribute body\n *   @return [String] the request body payload\n * @!attribute endpoint\n *   @return [AWS.Endpoint] the endpoint for the request\n * @!attribute region\n *   @api private\n *   @return [String] the region, for signing purposes only.\n */\nAWS.HttpRequest = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpRequest(endpoint, region) {\n    endpoint = new AWS.Endpoint(endpoint);\n    this.method = 'POST';\n    this.path = endpoint.path || '/';\n    this.headers = {};\n    this.body = '';\n    this.endpoint = endpoint;\n    this.region = region;\n    this._userAgent = '';\n    this.setUserAgent();\n  },\n\n  /**\n   * @api private\n   */\n  setUserAgent: function setUserAgent() {\n    this._userAgent = this.headers[this.getUserAgentHeaderName()] = AWS.util.userAgent();\n  },\n\n  getUserAgentHeaderName: function getUserAgentHeaderName() {\n    var prefix = AWS.util.isBrowser() ? 'X-Amz-' : '';\n    return prefix + 'User-Agent';\n  },\n\n  /**\n   * @api private\n   */\n  appendToUserAgent: function appendToUserAgent(agentPartial) {\n    if (typeof agentPartial === 'string' && agentPartial) {\n      this._userAgent += ' ' + agentPartial;\n    }\n    this.headers[this.getUserAgentHeaderName()] = this._userAgent;\n  },\n\n  /**\n   * @api private\n   */\n  getUserAgent: function getUserAgent() {\n    return this._userAgent;\n  },\n\n  /**\n   * @return [String] the part of the {path} excluding the\n   *   query string\n   */\n  pathname: function pathname() {\n    return this.path.split('?', 1)[0];\n  },\n\n  /**\n   * @return [String] the query string portion of the {path}\n   */\n  search: function search() {\n    var query = this.path.split('?', 2)[1];\n    if (query) {\n      query = AWS.util.queryStringParse(query);\n      return AWS.util.queryParamsToString(query);\n    }\n    return '';\n  },\n\n  /**\n   * @api private\n   * update httpRequest endpoint with endpoint string\n   */\n  updateEndpoint: function updateEndpoint(endpointStr) {\n    var newEndpoint = new AWS.Endpoint(endpointStr);\n    this.endpoint = newEndpoint;\n    this.path = newEndpoint.path || '/';\n    if (this.headers['Host']) {\n      this.headers['Host'] = newEndpoint.host;\n    }\n  }\n});\n\n/**\n * The low level HTTP response object, encapsulating all HTTP header\n * and body data returned from the request.\n *\n * @!attribute statusCode\n *   @return [Integer] the HTTP status code of the response (e.g., 200, 404)\n * @!attribute headers\n *   @return [map<String,String>]\n *      a map of response header keys and their respective values\n * @!attribute body\n *   @return [String] the response body payload\n * @!attribute [r] streaming\n *   @return [Boolean] whether this response is being streamed at a low-level.\n *     Defaults to `false` (buffered reads). Do not modify this manually, use\n *     {createUnbufferedStream} to convert the stream to unbuffered mode\n *     instead.\n */\nAWS.HttpResponse = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function HttpResponse() {\n    this.statusCode = undefined;\n    this.headers = {};\n    this.body = undefined;\n    this.streaming = false;\n    this.stream = null;\n  },\n\n  /**\n   * Disables buffering on the HTTP response and returns the stream for reading.\n   * @return [Stream, XMLHttpRequest, null] the underlying stream object.\n   *   Use this object to directly read data off of the stream.\n   * @note This object is only available after the {AWS.Request~httpHeaders}\n   *   event has fired. This method must be called prior to\n   *   {AWS.Request~httpData}.\n   * @example Taking control of a stream\n   *   request.on('httpHeaders', function(statusCode, headers) {\n   *     if (statusCode < 300) {\n   *       if (headers.etag === 'xyz') {\n   *         // pipe the stream, disabling buffering\n   *         var stream = this.response.httpResponse.createUnbufferedStream();\n   *         stream.pipe(process.stdout);\n   *       } else { // abort this request and set a better error message\n   *         this.abort();\n   *         this.response.error = new Error('Invalid ETag');\n   *       }\n   *     }\n   *   }).send(console.log);\n   */\n  createUnbufferedStream: function createUnbufferedStream() {\n    this.streaming = true;\n    return this.stream;\n  }\n});\n\n\nAWS.HttpClient = inherit({});\n\n/**\n * @api private\n */\nAWS.HttpClient.getInstance = function getInstance() {\n  if (this.singleton === undefined) {\n    this.singleton = new this();\n  }\n  return this.singleton;\n};\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V3 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    var datetime = AWS.util.date.rfc822(date);\n\n    this.request.headers['X-Amz-Date'] = datetime;\n\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    this.request.headers['X-Amzn-Authorization'] =\n      this.authorization(credentials, datetime);\n\n  },\n\n  authorization: function authorization(credentials) {\n    return 'AWS3 ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'SignedHeaders=' + this.signedHeaders() + ',' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  signedHeaders: function signedHeaders() {\n    var headers = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      headers.push(h.toLowerCase());\n    });\n    return headers.sort().join(';');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = this.request.headers;\n    var parts = [];\n    AWS.util.arrayEach(this.headersToSign(), function iterator(h) {\n      parts.push(h.toLowerCase().trim() + ':' + String(headers[h]).trim());\n    });\n    return parts.sort().join('\\n') + '\\n';\n  },\n\n  headersToSign: function headersToSign() {\n    var headers = [];\n    AWS.util.each(this.request.headers, function iterator(k) {\n      if (k === 'Host' || k === 'Content-Encoding' || k.match(/^X-Amz/i)) {\n        headers.push(k);\n      }\n    });\n    return headers;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push('/');\n    parts.push('');\n    parts.push(this.canonicalHeaders());\n    parts.push(this.request.body);\n    return AWS.util.crypto.sha256(parts.join('\\n'));\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n"," \r\n// Modules, e.g. Webpack:\r\nvar AmazonCognitoIdentity = require('amazon-cognito-identity-js');\r\n\r\n\r\n\r\n\r\n//Code\r\n\r\nimport * as AWS from 'aws-sdk/global';\r\n \r\nvar authenticationData = {\r\n    Username: 'Pavan',\r\n    Password: 'Rtba@123',\r\n};\r\nvar authenticationDetails = new AmazonCognitoIdentity.AuthenticationDetails(\r\n    authenticationData\r\n);\r\nvar poolData = {\r\n    UserPoolId: 'ap-northeast-1_hkTEkTQF4', // Your user pool id here\r\n    ClientId: '2gjvot6ugjce7kkmjj51un5no0', // Your client id here\r\n};\r\nvar userPool = new AmazonCognitoIdentity.CognitoUserPool(poolData);\r\nvar userData = {\r\n    Username: 'Pavan',\r\n    Pool: userPool,\r\n};\r\nvar cognitoUser = new AmazonCognitoIdentity.CognitoUser(userData);\r\ncognitoUser.authenticateUser(authenticationDetails, {\r\n    onSuccess: function(session) {\r\n        var accessToken = session.getAccessToken().getJwtToken();\r\n        var refreshToken = session.getRefreshToken().getToken();\r\n        var idToken = session.getIdToken().getJwtToken();\r\n\r\n        var tokens = {\r\n            accessToken:accessToken,\r\n            refreshToken:refreshToken,\r\n            idToken:idToken\r\n        }\r\n        console.log(accessToken);\r\n        console.log(refreshToken);\r\n        console.log(idToken);\r\n        cognitoUser.tokens=tokens;\r\n        resolve(cognitoUser); // Resolve user\r\n        //POTENTIAL: Region needs to be set if not already set previously elsewhere.\r\n        //AWS.config.region = 'ap-northeast-1';\r\n \r\n       \r\n \r\n        // //refreshes credentials using AWS.CognitoIdentity.getCredentialsForIdentity()\r\n        // AWS.config.credentials.refresh(error => {\r\n        //     if (error) {\r\n        //         console.error(error);\r\n        //     } else {\r\n        //         // Instantiate aws sdk service objects now that the credentials have been updated.\r\n        //         // example: var s3 = new AWS.S3();\r\n        //         console.log('Successfully logged!');\r\n        //     }\r\n        // });\r\n    },\r\n \r\n    onFailure: function(err) {\r\n        alert(err.message || JSON.stringify(err));\r\n    },\r\n});","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n",";(function (root, factory) {\n\tif (typeof exports === \"object\") {\n\t\t// CommonJS\n\t\tmodule.exports = exports = factory(require(\"./core\"));\n\t}\n\telse if (typeof define === \"function\" && define.amd) {\n\t\t// AMD\n\t\tdefine([\"./core\"], factory);\n\t}\n\telse {\n\t\t// Global (browser)\n\t\tfactory(root.CryptoJS);\n\t}\n}(this, function (CryptoJS) {\n\n\t(function () {\n\t    // Shortcuts\n\t    var C = CryptoJS;\n\t    var C_lib = C.lib;\n\t    var Base = C_lib.Base;\n\t    var C_enc = C.enc;\n\t    var Utf8 = C_enc.Utf8;\n\t    var C_algo = C.algo;\n\n\t    /**\n\t     * HMAC algorithm.\n\t     */\n\t    var HMAC = C_algo.HMAC = Base.extend({\n\t        /**\n\t         * Initializes a newly created HMAC.\n\t         *\n\t         * @param {Hasher} hasher The hash algorithm to use.\n\t         * @param {WordArray|string} key The secret key.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmacHasher = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA256, key);\n\t         */\n\t        init: function (hasher, key) {\n\t            // Init hasher\n\t            hasher = this._hasher = new hasher.init();\n\n\t            // Convert string to WordArray, else assume WordArray already\n\t            if (typeof key == 'string') {\n\t                key = Utf8.parse(key);\n\t            }\n\n\t            // Shortcuts\n\t            var hasherBlockSize = hasher.blockSize;\n\t            var hasherBlockSizeBytes = hasherBlockSize * 4;\n\n\t            // Allow arbitrary length keys\n\t            if (key.sigBytes > hasherBlockSizeBytes) {\n\t                key = hasher.finalize(key);\n\t            }\n\n\t            // Clamp excess bits\n\t            key.clamp();\n\n\t            // Clone key for inner and outer pads\n\t            var oKey = this._oKey = key.clone();\n\t            var iKey = this._iKey = key.clone();\n\n\t            // Shortcuts\n\t            var oKeyWords = oKey.words;\n\t            var iKeyWords = iKey.words;\n\n\t            // XOR keys with pad constants\n\t            for (var i = 0; i < hasherBlockSize; i++) {\n\t                oKeyWords[i] ^= 0x5c5c5c5c;\n\t                iKeyWords[i] ^= 0x36363636;\n\t            }\n\t            oKey.sigBytes = iKey.sigBytes = hasherBlockSizeBytes;\n\n\t            // Set initial values\n\t            this.reset();\n\t        },\n\n\t        /**\n\t         * Resets this HMAC to its initial state.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.reset();\n\t         */\n\t        reset: function () {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Reset\n\t            hasher.reset();\n\t            hasher.update(this._iKey);\n\t        },\n\n\t        /**\n\t         * Updates this HMAC with a message.\n\t         *\n\t         * @param {WordArray|string} messageUpdate The message to append.\n\t         *\n\t         * @return {HMAC} This HMAC instance.\n\t         *\n\t         * @example\n\t         *\n\t         *     hmacHasher.update('message');\n\t         *     hmacHasher.update(wordArray);\n\t         */\n\t        update: function (messageUpdate) {\n\t            this._hasher.update(messageUpdate);\n\n\t            // Chainable\n\t            return this;\n\t        },\n\n\t        /**\n\t         * Finalizes the HMAC computation.\n\t         * Note that the finalize operation is effectively a destructive, read-once operation.\n\t         *\n\t         * @param {WordArray|string} messageUpdate (Optional) A final message update.\n\t         *\n\t         * @return {WordArray} The HMAC.\n\t         *\n\t         * @example\n\t         *\n\t         *     var hmac = hmacHasher.finalize();\n\t         *     var hmac = hmacHasher.finalize('message');\n\t         *     var hmac = hmacHasher.finalize(wordArray);\n\t         */\n\t        finalize: function (messageUpdate) {\n\t            // Shortcut\n\t            var hasher = this._hasher;\n\n\t            // Compute HMAC\n\t            var innerHash = hasher.finalize(messageUpdate);\n\t            hasher.reset();\n\t            var hmac = hasher.finalize(this._oKey.clone().concat(innerHash));\n\n\t            return hmac;\n\t        }\n\t    });\n\t}());\n\n\n}));","require('./lib/browser_loader');\n\nvar AWS = require('./lib/core');\nif (typeof window !== 'undefined') window.AWS = AWS;\nif (typeof module !== 'undefined') module.exports = AWS;\nif (typeof self !== 'undefined') self.AWS = AWS;","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","var util = require('../util');\n\nfunction QueryParamSerializer() {\n}\n\nQueryParamSerializer.prototype.serialize = function(params, shape, fn) {\n  serializeStructure('', params, shape, fn);\n};\n\nfunction ucfirst(shape) {\n  if (shape.isQueryName || shape.api.protocol !== 'ec2') {\n    return shape.name;\n  } else {\n    return shape.name[0].toUpperCase() + shape.name.substr(1);\n  }\n}\n\nfunction serializeStructure(prefix, struct, rules, fn) {\n  util.each(rules.members, function(name, member) {\n    var value = struct[name];\n    if (value === null || value === undefined) return;\n\n    var memberName = ucfirst(member);\n    memberName = prefix ? prefix + '.' + memberName : memberName;\n    serializeMember(memberName, value, member, fn);\n  });\n}\n\nfunction serializeMap(name, map, rules, fn) {\n  var i = 1;\n  util.each(map, function (key, value) {\n    var prefix = rules.flattened ? '.' : '.entry.';\n    var position = prefix + (i++) + '.';\n    var keyName = position + (rules.key.name || 'key');\n    var valueName = position + (rules.value.name || 'value');\n    serializeMember(name + keyName, key, rules.key, fn);\n    serializeMember(name + valueName, value, rules.value, fn);\n  });\n}\n\nfunction serializeList(name, list, rules, fn) {\n  var memberRules = rules.member || {};\n\n  if (list.length === 0) {\n    fn.call(this, name, null);\n    return;\n  }\n\n  util.arrayEach(list, function (v, n) {\n    var suffix = '.' + (n + 1);\n    if (rules.api.protocol === 'ec2') {\n      // Do nothing for EC2\n      suffix = suffix + ''; // make linter happy\n    } else if (rules.flattened) {\n      if (memberRules.name) {\n        var parts = name.split('.');\n        parts.pop();\n        parts.push(ucfirst(memberRules));\n        name = parts.join('.');\n      }\n    } else {\n      suffix = '.' + (memberRules.name ? memberRules.name : 'member') + suffix;\n    }\n    serializeMember(name + suffix, v, memberRules, fn);\n  });\n}\n\nfunction serializeMember(name, value, rules, fn) {\n  if (value === null || value === undefined) return;\n  if (rules.type === 'structure') {\n    serializeStructure(name, value, rules, fn);\n  } else if (rules.type === 'list') {\n    serializeList(name, value, rules, fn);\n  } else if (rules.type === 'map') {\n    serializeMap(name, value, rules, fn);\n  } else {\n    fn(name, rules.toWireFormat(value).toString());\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = QueryParamSerializer;\n","var util = require('../util');\nvar XmlNode = require('./xml-node').XmlNode;\nvar XmlText = require('./xml-text').XmlText;\n\nfunction XmlBuilder() { }\n\nXmlBuilder.prototype.toXML = function(params, shape, rootElement, noEmpty) {\n  var xml = new XmlNode(rootElement);\n  applyNamespaces(xml, shape, true);\n  serialize(xml, params, shape);\n  return xml.children.length > 0 || noEmpty ? xml.toString() : '';\n};\n\nfunction serialize(xml, value, shape) {\n  switch (shape.type) {\n    case 'structure': return serializeStructure(xml, value, shape);\n    case 'map': return serializeMap(xml, value, shape);\n    case 'list': return serializeList(xml, value, shape);\n    default: return serializeScalar(xml, value, shape);\n  }\n}\n\nfunction serializeStructure(xml, params, shape) {\n  util.arrayEach(shape.memberNames, function(memberName) {\n    var memberShape = shape.members[memberName];\n    if (memberShape.location !== 'body') return;\n\n    var value = params[memberName];\n    var name = memberShape.name;\n    if (value !== undefined && value !== null) {\n      if (memberShape.isXmlAttribute) {\n        xml.addAttribute(name, value);\n      } else if (memberShape.flattened) {\n        serialize(xml, value, memberShape);\n      } else {\n        var element = new XmlNode(name);\n        xml.addChildNode(element);\n        applyNamespaces(element, memberShape);\n        serialize(element, value, memberShape);\n      }\n    }\n  });\n}\n\nfunction serializeMap(xml, map, shape) {\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n\n  util.each(map, function(key, value) {\n    var entry = new XmlNode(shape.flattened ? shape.name : 'entry');\n    xml.addChildNode(entry);\n\n    var entryKey = new XmlNode(xmlKey);\n    var entryValue = new XmlNode(xmlValue);\n    entry.addChildNode(entryKey);\n    entry.addChildNode(entryValue);\n\n    serialize(entryKey, key, shape.key);\n    serialize(entryValue, value, shape.value);\n  });\n}\n\nfunction serializeList(xml, list, shape) {\n  if (shape.flattened) {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || shape.name;\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  } else {\n    util.arrayEach(list, function(value) {\n      var name = shape.member.name || 'member';\n      var element = new XmlNode(name);\n      xml.addChildNode(element);\n      serialize(element, value, shape.member);\n    });\n  }\n}\n\nfunction serializeScalar(xml, value, shape) {\n  xml.addChildNode(\n    new XmlText(shape.toWireFormat(value))\n  );\n}\n\nfunction applyNamespaces(xml, shape, isRoot) {\n  var uri, prefix = 'xmlns';\n  if (shape.xmlNamespaceUri) {\n    uri = shape.xmlNamespaceUri;\n    if (shape.xmlNamespacePrefix) prefix += ':' + shape.xmlNamespacePrefix;\n  } else if (isRoot && shape.api.xmlNamespaceUri) {\n    uri = shape.api.xmlNamespaceUri;\n  }\n\n  if (uri) xml.addAttribute(prefix, uri);\n}\n\n/**\n * @api private\n */\nmodule.exports = XmlBuilder;\n","var escapeAttribute = require('./escape-attribute').escapeAttribute;\n\n/**\n * Represents an XML node.\n * @api private\n */\nfunction XmlNode(name, children) {\n    if (children === void 0) { children = []; }\n    this.name = name;\n    this.children = children;\n    this.attributes = {};\n}\nXmlNode.prototype.addAttribute = function (name, value) {\n    this.attributes[name] = value;\n    return this;\n};\nXmlNode.prototype.addChildNode = function (child) {\n    this.children.push(child);\n    return this;\n};\nXmlNode.prototype.removeAttribute = function (name) {\n    delete this.attributes[name];\n    return this;\n};\nXmlNode.prototype.toString = function () {\n    var hasChildren = Boolean(this.children.length);\n    var xmlText = '<' + this.name;\n    // add attributes\n    var attributes = this.attributes;\n    for (var i = 0, attributeNames = Object.keys(attributes); i < attributeNames.length; i++) {\n        var attributeName = attributeNames[i];\n        var attribute = attributes[attributeName];\n        if (typeof attribute !== 'undefined' && attribute !== null) {\n            xmlText += ' ' + attributeName + '=\\\"' + escapeAttribute('' + attribute) + '\\\"';\n        }\n    }\n    return xmlText += !hasChildren ? '/>' : '>' + this.children.map(function (c) { return c.toString(); }).join('') + '</' + this.name + '>';\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlNode: XmlNode\n};\n","/**\n * Escapes characters that can not be in an XML attribute.\n */\nfunction escapeAttribute(value) {\n    return value.replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeAttribute: escapeAttribute\n};\n","var escapeElement = require('./escape-element').escapeElement;\n\n/**\n * Represents an XML text value.\n * @api private\n */\nfunction XmlText(value) {\n    this.value = value;\n}\n\nXmlText.prototype.toString = function () {\n    return escapeElement('' + this.value);\n};\n\n/**\n * @api private\n */\nmodule.exports = {\n    XmlText: XmlText\n};\n","/**\n * Escapes characters that can not be in an XML element.\n */\nfunction escapeElement(value) {\n    return value.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    escapeElement: escapeElement\n};\n","function apiLoader(svc, version) {\n  if (!apiLoader.services.hasOwnProperty(svc)) {\n    throw new Error('InvalidService: Failed to load api for ' + svc);\n  }\n  return apiLoader.services[svc][version];\n}\n\n/**\n * @api private\n *\n * This member of AWS.apiLoader is private, but changing it will necessitate a\n * change to ../scripts/services-table-generator.ts\n */\napiLoader.services = {};\n\n/**\n * @api private\n */\nmodule.exports = apiLoader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LRU_1 = require(\"./utils/LRU\");\nvar CACHE_SIZE = 1000;\n/**\n * Inspired node-lru-cache[https://github.com/isaacs/node-lru-cache]\n */\nvar EndpointCache = /** @class */ (function () {\n    function EndpointCache(maxSize) {\n        if (maxSize === void 0) { maxSize = CACHE_SIZE; }\n        this.maxSize = maxSize;\n        this.cache = new LRU_1.LRUCache(maxSize);\n    }\n    ;\n    Object.defineProperty(EndpointCache.prototype, \"size\", {\n        get: function () {\n            return this.cache.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    EndpointCache.prototype.put = function (key, value) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        var endpointRecord = this.populateValue(value);\n        this.cache.put(keyString, endpointRecord);\n    };\n    EndpointCache.prototype.get = function (key) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        var now = Date.now();\n        var records = this.cache.get(keyString);\n        if (records) {\n            for (var i = 0; i < records.length; i++) {\n                var record = records[i];\n                if (record.Expire < now) {\n                    this.cache.remove(keyString);\n                    return undefined;\n                }\n            }\n        }\n        return records;\n    };\n    EndpointCache.getKeyString = function (key) {\n        var identifiers = [];\n        var identifierNames = Object.keys(key).sort();\n        for (var i = 0; i < identifierNames.length; i++) {\n            var identifierName = identifierNames[i];\n            if (key[identifierName] === undefined)\n                continue;\n            identifiers.push(key[identifierName]);\n        }\n        return identifiers.join(' ');\n    };\n    EndpointCache.prototype.populateValue = function (endpoints) {\n        var now = Date.now();\n        return endpoints.map(function (endpoint) { return ({\n            Address: endpoint.Address || '',\n            Expire: now + (endpoint.CachePeriodInMinutes || 1) * 60 * 1000\n        }); });\n    };\n    EndpointCache.prototype.empty = function () {\n        this.cache.empty();\n    };\n    EndpointCache.prototype.remove = function (key) {\n      var keyString = typeof key !== 'string' ? EndpointCache.getKeyString(key) : key;\n        this.cache.remove(keyString);\n    };\n    return EndpointCache;\n}());\nexports.EndpointCache = EndpointCache;","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedListNode = /** @class */ (function () {\n    function LinkedListNode(key, value) {\n        this.key = key;\n        this.value = value;\n    }\n    return LinkedListNode;\n}());\nvar LRUCache = /** @class */ (function () {\n    function LRUCache(size) {\n        this.nodeMap = {};\n        this.size = 0;\n        if (typeof size !== 'number' || size < 1) {\n            throw new Error('Cache size can only be positive number');\n        }\n        this.sizeLimit = size;\n    }\n    Object.defineProperty(LRUCache.prototype, \"length\", {\n        get: function () {\n            return this.size;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    LRUCache.prototype.prependToList = function (node) {\n        if (!this.headerNode) {\n            this.tailNode = node;\n        }\n        else {\n            this.headerNode.prev = node;\n            node.next = this.headerNode;\n        }\n        this.headerNode = node;\n        this.size++;\n    };\n    LRUCache.prototype.removeFromTail = function () {\n        if (!this.tailNode) {\n            return undefined;\n        }\n        var node = this.tailNode;\n        var prevNode = node.prev;\n        if (prevNode) {\n            prevNode.next = undefined;\n        }\n        node.prev = undefined;\n        this.tailNode = prevNode;\n        this.size--;\n        return node;\n    };\n    LRUCache.prototype.detachFromList = function (node) {\n        if (this.headerNode === node) {\n            this.headerNode = node.next;\n        }\n        if (this.tailNode === node) {\n            this.tailNode = node.prev;\n        }\n        if (node.prev) {\n            node.prev.next = node.next;\n        }\n        if (node.next) {\n            node.next.prev = node.prev;\n        }\n        node.next = undefined;\n        node.prev = undefined;\n        this.size--;\n    };\n    LRUCache.prototype.get = function (key) {\n        if (this.nodeMap[key]) {\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            this.prependToList(node);\n            return node.value;\n        }\n    };\n    LRUCache.prototype.remove = function (key) {\n        if (this.nodeMap[key]) {\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            delete this.nodeMap[key];\n        }\n    };\n    LRUCache.prototype.put = function (key, value) {\n        if (this.nodeMap[key]) {\n            this.remove(key);\n        }\n        else if (this.size === this.sizeLimit) {\n            var tailNode = this.removeFromTail();\n            var key_1 = tailNode.key;\n            delete this.nodeMap[key_1];\n        }\n        var newNode = new LinkedListNode(key, value);\n        this.nodeMap[key] = newNode;\n        this.prependToList(newNode);\n    };\n    LRUCache.prototype.empty = function () {\n        var keys = Object.keys(this.nodeMap);\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var node = this.nodeMap[key];\n            this.detachFromList(node);\n            delete this.nodeMap[key];\n        }\n    };\n    return LRUCache;\n}());\nexports.LRUCache = LRUCache;","var AWS = require('./core');\nvar Api = require('./model/api');\nvar regionConfig = require('./region_config');\n\nvar inherit = AWS.util.inherit;\nvar clientCount = 0;\n\n/**\n * The service class representing an AWS service.\n *\n * @class_abstract This class is an abstract class.\n *\n * @!attribute apiVersions\n *   @return [Array<String>] the list of API versions supported by this service.\n *   @readonly\n */\nAWS.Service = inherit({\n  /**\n   * Create a new service object with a configuration object\n   *\n   * @param config [map] a map of configuration options\n   */\n  constructor: function Service(config) {\n    if (!this.loadServiceClass) {\n      throw AWS.util.error(new Error(),\n        'Service must be constructed with `new\\' operator');\n    }\n    var ServiceClass = this.loadServiceClass(config || {});\n    if (ServiceClass) {\n      var originalConfig = AWS.util.copy(config);\n      var svc = new ServiceClass(config);\n      Object.defineProperty(svc, '_originalConfig', {\n        get: function() { return originalConfig; },\n        enumerable: false,\n        configurable: true\n      });\n      svc._clientId = ++clientCount;\n      return svc;\n    }\n    this.initialize(config);\n  },\n\n  /**\n   * @api private\n   */\n  initialize: function initialize(config) {\n    var svcConfig = AWS.config[this.serviceIdentifier];\n    this.config = new AWS.Config(AWS.config);\n    if (svcConfig) this.config.update(svcConfig, true);\n    if (config) this.config.update(config, true);\n\n    this.validateService();\n    if (!this.config.endpoint) regionConfig.configureEndpoint(this);\n\n    this.config.endpoint = this.endpointFromTemplate(this.config.endpoint);\n    this.setEndpoint(this.config.endpoint);\n    //enable attaching listeners to service client\n    AWS.SequentialExecutor.call(this);\n    AWS.Service.addDefaultMonitoringListeners(this);\n    if ((this.config.clientSideMonitoring || AWS.Service._clientSideMonitoring) && this.publisher) {\n      var publisher = this.publisher;\n      this.addNamedListener('PUBLISH_API_CALL', 'apiCall', function PUBLISH_API_CALL(event) {\n        process.nextTick(function() {publisher.eventHandler(event);});\n      });\n      this.addNamedListener('PUBLISH_API_ATTEMPT', 'apiCallAttempt', function PUBLISH_API_ATTEMPT(event) {\n        process.nextTick(function() {publisher.eventHandler(event);});\n      });\n    }\n  },\n\n  /**\n   * @api private\n   */\n  validateService: function validateService() {\n  },\n\n  /**\n   * @api private\n   */\n  loadServiceClass: function loadServiceClass(serviceConfig) {\n    var config = serviceConfig;\n    if (!AWS.util.isEmpty(this.api)) {\n      return null;\n    } else if (config.apiConfig) {\n      return AWS.Service.defineServiceApi(this.constructor, config.apiConfig);\n    } else if (!this.constructor.services) {\n      return null;\n    } else {\n      config = new AWS.Config(AWS.config);\n      config.update(serviceConfig, true);\n      var version = config.apiVersions[this.constructor.serviceIdentifier];\n      version = version || config.apiVersion;\n      return this.getLatestServiceClass(version);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceClass: function getLatestServiceClass(version) {\n    version = this.getLatestServiceVersion(version);\n    if (this.constructor.services[version] === null) {\n      AWS.Service.defineServiceApi(this.constructor, version);\n    }\n\n    return this.constructor.services[version];\n  },\n\n  /**\n   * @api private\n   */\n  getLatestServiceVersion: function getLatestServiceVersion(version) {\n    if (!this.constructor.services || this.constructor.services.length === 0) {\n      throw new Error('No services defined on ' +\n                      this.constructor.serviceIdentifier);\n    }\n\n    if (!version) {\n      version = 'latest';\n    } else if (AWS.util.isType(version, Date)) {\n      version = AWS.util.date.iso8601(version).split('T')[0];\n    }\n\n    if (Object.hasOwnProperty(this.constructor.services, version)) {\n      return version;\n    }\n\n    var keys = Object.keys(this.constructor.services).sort();\n    var selectedVersion = null;\n    for (var i = keys.length - 1; i >= 0; i--) {\n      // versions that end in \"*\" are not available on disk and can be\n      // skipped, so do not choose these as selectedVersions\n      if (keys[i][keys[i].length - 1] !== '*') {\n        selectedVersion = keys[i];\n      }\n      if (keys[i].substr(0, 10) <= version) {\n        return selectedVersion;\n      }\n    }\n\n    throw new Error('Could not find ' + this.constructor.serviceIdentifier +\n                    ' API to satisfy version constraint `' + version + '\\'');\n  },\n\n  /**\n   * @api private\n   */\n  api: {},\n\n  /**\n   * @api private\n   */\n  defaultRetryCount: 3,\n\n  /**\n   * @api private\n   */\n  customizeRequests: function customizeRequests(callback) {\n    if (!callback) {\n      this.customRequestHandler = null;\n    } else if (typeof callback === 'function') {\n      this.customRequestHandler = callback;\n    } else {\n      throw new Error('Invalid callback type \\'' + typeof callback + '\\' provided in customizeRequests');\n    }\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeRequest: function makeRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = null;\n    }\n\n    params = params || {};\n    if (this.config.params) { // copy only toplevel bound params\n      var rules = this.api.operations[operation];\n      if (rules) {\n        params = AWS.util.copy(params);\n        AWS.util.each(this.config.params, function(key, value) {\n          if (rules.input.members[key]) {\n            if (params[key] === undefined || params[key] === null) {\n              params[key] = value;\n            }\n          }\n        });\n      }\n    }\n\n    var request = new AWS.Request(this, operation, params);\n    this.addAllRequestListeners(request);\n    this.attachMonitoringEmitter(request);\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  /**\n   * Calls an operation on a service with the given input parameters, without\n   * any authentication data. This method is useful for \"public\" API operations.\n   *\n   * @param operation [String] the name of the operation to call on the service.\n   * @param params [map] a map of input options for the operation\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  makeUnauthenticatedRequest: function makeUnauthenticatedRequest(operation, params, callback) {\n    if (typeof params === 'function') {\n      callback = params;\n      params = {};\n    }\n\n    var request = this.makeRequest(operation, params).toUnauthenticated();\n    return callback ? request.send(callback) : request;\n  },\n\n  /**\n   * Waits for a given state\n   *\n   * @param state [String] the state on the service to wait for\n   * @param params [map] a map of parameters to pass with each request\n   * @option params $waiter [map] a map of configuration options for the waiter\n   * @option params $waiter.delay [Number] The number of seconds to wait between\n   *                                       requests\n   * @option params $waiter.maxAttempts [Number] The maximum number of requests\n   *                                             to send while waiting\n   * @callback callback function(err, data)\n   *   If a callback is supplied, it is called when a response is returned\n   *   from the service.\n   *   @param err [Error] the error object returned from the request.\n   *     Set to `null` if the request is successful.\n   *   @param data [Object] the de-serialized data returned from\n   *     the request. Set to `null` if a request error occurs.\n   */\n  waitFor: function waitFor(state, params, callback) {\n    var waiter = new AWS.ResourceWaiter(this, state);\n    return waiter.wait(params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  addAllRequestListeners: function addAllRequestListeners(request) {\n    var list = [AWS.events, AWS.EventListeners.Core, this.serviceInterface(),\n                AWS.EventListeners.CorePost];\n    for (var i = 0; i < list.length; i++) {\n      if (list[i]) request.addListeners(list[i]);\n    }\n\n    // disable parameter validation\n    if (!this.config.paramValidation) {\n      request.removeListener('validate',\n        AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    }\n\n    if (this.config.logger) { // add logging events\n      request.addListeners(AWS.EventListeners.Logger);\n    }\n\n    this.setupRequestListeners(request);\n    // call prototype's customRequestHandler\n    if (typeof this.constructor.prototype.customRequestHandler === 'function') {\n      this.constructor.prototype.customRequestHandler(request);\n    }\n    // call instance's customRequestHandler\n    if (Object.prototype.hasOwnProperty.call(this, 'customRequestHandler') && typeof this.customRequestHandler === 'function') {\n      this.customRequestHandler(request);\n    }\n  },\n\n  /**\n   * Event recording metrics for a whole API call.\n   * @returns {object} a subset of api call metrics\n   * @api private\n   */\n  apiCallEvent: function apiCallEvent(request) {\n    var api = request.service.api.operations[request.operation];\n    var monitoringEvent = {\n      Type: 'ApiCall',\n      Api: api ? api.name : request.operation,\n      Version: 1,\n      Service: request.service.api.serviceId || request.service.api.endpointPrefix,\n      Region: request.httpRequest.region,\n      MaxRetriesExceeded: 0,\n      UserAgent: request.httpRequest.getUserAgent(),\n    };\n    var response = request.response;\n    if (response.httpResponse.statusCode) {\n      monitoringEvent.FinalHttpStatusCode = response.httpResponse.statusCode;\n    }\n    if (response.error) {\n      var error = response.error;\n      var statusCode = response.httpResponse.statusCode;\n      if (statusCode > 299) {\n        if (error.code) monitoringEvent.FinalAwsException = error.code;\n        if (error.message) monitoringEvent.FinalAwsExceptionMessage = error.message;\n      } else {\n        if (error.code || error.name) monitoringEvent.FinalSdkException = error.code || error.name;\n        if (error.message) monitoringEvent.FinalSdkExceptionMessage = error.message;\n      }\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Event recording metrics for an API call attempt.\n   * @returns {object} a subset of api call attempt metrics\n   * @api private\n   */\n  apiAttemptEvent: function apiAttemptEvent(request) {\n    var api = request.service.api.operations[request.operation];\n    var monitoringEvent = {\n      Type: 'ApiCallAttempt',\n      Api: api ? api.name : request.operation,\n      Version: 1,\n      Service: request.service.api.serviceId || request.service.api.endpointPrefix,\n      Fqdn: request.httpRequest.endpoint.hostname,\n      UserAgent: request.httpRequest.getUserAgent(),\n    };\n    var response = request.response;\n    if (response.httpResponse.statusCode) {\n      monitoringEvent.HttpStatusCode = response.httpResponse.statusCode;\n    }\n    if (\n      !request._unAuthenticated &&\n      request.service.config.credentials &&\n      request.service.config.credentials.accessKeyId\n    ) {\n      monitoringEvent.AccessKey = request.service.config.credentials.accessKeyId;\n    }\n    if (!response.httpResponse.headers) return monitoringEvent;\n    if (request.httpRequest.headers['x-amz-security-token']) {\n      monitoringEvent.SessionToken = request.httpRequest.headers['x-amz-security-token'];\n    }\n    if (response.httpResponse.headers['x-amzn-requestid']) {\n      monitoringEvent.XAmznRequestId = response.httpResponse.headers['x-amzn-requestid'];\n    }\n    if (response.httpResponse.headers['x-amz-request-id']) {\n      monitoringEvent.XAmzRequestId = response.httpResponse.headers['x-amz-request-id'];\n    }\n    if (response.httpResponse.headers['x-amz-id-2']) {\n      monitoringEvent.XAmzId2 = response.httpResponse.headers['x-amz-id-2'];\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Add metrics of failed request.\n   * @api private\n   */\n  attemptFailEvent: function attemptFailEvent(request) {\n    var monitoringEvent = this.apiAttemptEvent(request);\n    var response = request.response;\n    var error = response.error;\n    if (response.httpResponse.statusCode > 299 ) {\n      if (error.code) monitoringEvent.AwsException = error.code;\n      if (error.message) monitoringEvent.AwsExceptionMessage = error.message;\n    } else {\n      if (error.code || error.name) monitoringEvent.SdkException = error.code || error.name;\n      if (error.message) monitoringEvent.SdkExceptionMessage = error.message;\n    }\n    return monitoringEvent;\n  },\n\n  /**\n   * Attach listeners to request object to fetch metrics of each request\n   * and emit data object through \\'ApiCall\\' and \\'ApiCallAttempt\\' events.\n   * @api private\n   */\n  attachMonitoringEmitter: function attachMonitoringEmitter(request) {\n    var attemptTimestamp; //timestamp marking the beginning of a request attempt\n    var attemptStartRealTime; //Start time of request attempt. Used to calculating attemptLatency\n    var attemptLatency; //latency from request sent out to http response reaching SDK\n    var callStartRealTime; //Start time of API call. Used to calculating API call latency\n    var attemptCount = 0; //request.retryCount is not reliable here\n    var region; //region cache region for each attempt since it can be updated in plase (e.g. s3)\n    var callTimestamp; //timestamp when the request is created\n    var self = this;\n    var addToHead = true;\n\n    request.on('validate', function () {\n      callStartRealTime = AWS.util.realClock.now();\n      callTimestamp = Date.now();\n    }, addToHead);\n    request.on('sign', function () {\n      attemptStartRealTime = AWS.util.realClock.now();\n      attemptTimestamp = Date.now();\n      region = request.httpRequest.region;\n      attemptCount++;\n    }, addToHead);\n    request.on('validateResponse', function() {\n      attemptLatency = Math.round(AWS.util.realClock.now() - attemptStartRealTime);\n    });\n    request.addNamedListener('API_CALL_ATTEMPT', 'success', function API_CALL_ATTEMPT() {\n      var apiAttemptEvent = self.apiAttemptEvent(request);\n      apiAttemptEvent.Timestamp = attemptTimestamp;\n      apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;\n      apiAttemptEvent.Region = region;\n      self.emit('apiCallAttempt', [apiAttemptEvent]);\n    });\n    request.addNamedListener('API_CALL_ATTEMPT_RETRY', 'retry', function API_CALL_ATTEMPT_RETRY() {\n      var apiAttemptEvent = self.attemptFailEvent(request);\n      apiAttemptEvent.Timestamp = attemptTimestamp;\n      //attemptLatency may not be available if fail before response\n      attemptLatency = attemptLatency ||\n        Math.round(AWS.util.realClock.now() - attemptStartRealTime);\n      apiAttemptEvent.AttemptLatency = attemptLatency >= 0 ? attemptLatency : 0;\n      apiAttemptEvent.Region = region;\n      self.emit('apiCallAttempt', [apiAttemptEvent]);\n    });\n    request.addNamedListener('API_CALL', 'complete', function API_CALL() {\n      var apiCallEvent = self.apiCallEvent(request);\n      apiCallEvent.AttemptCount = attemptCount;\n      if (apiCallEvent.AttemptCount <= 0) return;\n      apiCallEvent.Timestamp = callTimestamp;\n      var latency = Math.round(AWS.util.realClock.now() - callStartRealTime);\n      apiCallEvent.Latency = latency >= 0 ? latency : 0;\n      var response = request.response;\n      if (\n        response.error &&\n        response.error.retryable &&\n        typeof response.retryCount === 'number' &&\n        typeof response.maxRetries === 'number' &&\n        (response.retryCount >= response.maxRetries)\n      ) {\n        apiCallEvent.MaxRetriesExceeded = 1;\n      }\n      self.emit('apiCall', [apiCallEvent]);\n    });\n  },\n\n  /**\n   * Override this method to setup any custom request listeners for each\n   * new request to the service.\n   *\n   * @method_abstract This is an abstract method.\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n  },\n\n  /**\n   * Gets the signer class for a given request\n   * @api private\n   */\n  getSignerClass: function getSignerClass(request) {\n    var version;\n    // get operation authtype if present\n    var operation = null;\n    var authtype = '';\n    if (request) {\n      var operations = request.service.api.operations || {};\n      operation = operations[request.operation] || null;\n      authtype = operation ? operation.authtype : '';\n    }\n    if (this.config.signatureVersion) {\n      version = this.config.signatureVersion;\n    } else if (authtype === 'v4' || authtype === 'v4-unsigned-body') {\n      version = 'v4';\n    } else {\n      version = this.api.signatureVersion;\n    }\n    return AWS.Signers.RequestSigner.getVersion(version);\n  },\n\n  /**\n   * @api private\n   */\n  serviceInterface: function serviceInterface() {\n    switch (this.api.protocol) {\n      case 'ec2': return AWS.EventListeners.Query;\n      case 'query': return AWS.EventListeners.Query;\n      case 'json': return AWS.EventListeners.Json;\n      case 'rest-json': return AWS.EventListeners.RestJson;\n      case 'rest-xml': return AWS.EventListeners.RestXml;\n    }\n    if (this.api.protocol) {\n      throw new Error('Invalid service `protocol\\' ' +\n        this.api.protocol + ' in API config');\n    }\n  },\n\n  /**\n   * @api private\n   */\n  successfulResponse: function successfulResponse(resp) {\n    return resp.httpResponse.statusCode < 300;\n  },\n\n  /**\n   * How many times a failed request should be retried before giving up.\n   * the defaultRetryCount can be overriden by service classes.\n   *\n   * @api private\n   */\n  numRetries: function numRetries() {\n    if (this.config.maxRetries !== undefined) {\n      return this.config.maxRetries;\n    } else {\n      return this.defaultRetryCount;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  retryDelays: function retryDelays(retryCount, err) {\n    return AWS.util.calculateRetryDelay(retryCount, this.config.retryDelayOptions, err);\n  },\n\n  /**\n   * @api private\n   */\n  retryableError: function retryableError(error) {\n    if (this.timeoutError(error)) return true;\n    if (this.networkingError(error)) return true;\n    if (this.expiredCredentialsError(error)) return true;\n    if (this.throttledError(error)) return true;\n    if (error.statusCode >= 500) return true;\n    return false;\n  },\n\n  /**\n   * @api private\n   */\n  networkingError: function networkingError(error) {\n    return error.code === 'NetworkingError';\n  },\n\n  /**\n   * @api private\n   */\n  timeoutError: function timeoutError(error) {\n    return error.code === 'TimeoutError';\n  },\n\n  /**\n   * @api private\n   */\n  expiredCredentialsError: function expiredCredentialsError(error) {\n    // TODO : this only handles *one* of the expired credential codes\n    return (error.code === 'ExpiredTokenException');\n  },\n\n  /**\n   * @api private\n   */\n  clockSkewError: function clockSkewError(error) {\n    switch (error.code) {\n      case 'RequestTimeTooSkewed':\n      case 'RequestExpired':\n      case 'InvalidSignatureException':\n      case 'SignatureDoesNotMatch':\n      case 'AuthFailure':\n      case 'RequestInTheFuture':\n        return true;\n      default: return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getSkewCorrectedDate: function getSkewCorrectedDate() {\n    return new Date(Date.now() + this.config.systemClockOffset);\n  },\n\n  /**\n   * @api private\n   */\n  applyClockOffset: function applyClockOffset(newServerTime) {\n    if (newServerTime) {\n      this.config.systemClockOffset = newServerTime - Date.now();\n    }\n  },\n\n  /**\n   * @api private\n   */\n  isClockSkewed: function isClockSkewed(newServerTime) {\n    if (newServerTime) {\n      return Math.abs(this.getSkewCorrectedDate().getTime() - newServerTime) >= 300000;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  throttledError: function throttledError(error) {\n    // this logic varies between services\n    if (error.statusCode === 429) return true;\n    switch (error.code) {\n      case 'ProvisionedThroughputExceededException':\n      case 'Throttling':\n      case 'ThrottlingException':\n      case 'RequestLimitExceeded':\n      case 'RequestThrottled':\n      case 'RequestThrottledException':\n      case 'TooManyRequestsException':\n      case 'TransactionInProgressException': //dynamodb\n      case 'EC2ThrottledException':\n        return true;\n      default:\n        return false;\n    }\n  },\n\n  /**\n   * @api private\n   */\n  endpointFromTemplate: function endpointFromTemplate(endpoint) {\n    if (typeof endpoint !== 'string') return endpoint;\n\n    var e = endpoint;\n    e = e.replace(/\\{service\\}/g, this.api.endpointPrefix);\n    e = e.replace(/\\{region\\}/g, this.config.region);\n    e = e.replace(/\\{scheme\\}/g, this.config.sslEnabled ? 'https' : 'http');\n    return e;\n  },\n\n  /**\n   * @api private\n   */\n  setEndpoint: function setEndpoint(endpoint) {\n    this.endpoint = new AWS.Endpoint(endpoint, this.config);\n  },\n\n  /**\n   * @api private\n   */\n  paginationConfig: function paginationConfig(operation, throwException) {\n    var paginator = this.api.operations[operation].paginator;\n    if (!paginator) {\n      if (throwException) {\n        var e = new Error();\n        throw AWS.util.error(e, 'No pagination configuration for ' + operation);\n      }\n      return null;\n    }\n\n    return paginator;\n  }\n});\n\nAWS.util.update(AWS.Service, {\n\n  /**\n   * Adds one method for each operation described in the api configuration\n   *\n   * @api private\n   */\n  defineMethods: function defineMethods(svc) {\n    AWS.util.each(svc.prototype.api.operations, function iterator(method) {\n      if (svc.prototype[method]) return;\n      var operation = svc.prototype.api.operations[method];\n      if (operation.authtype === 'none') {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeUnauthenticatedRequest(method, params, callback);\n        };\n      } else {\n        svc.prototype[method] = function (params, callback) {\n          return this.makeRequest(method, params, callback);\n        };\n      }\n    });\n  },\n\n  /**\n   * Defines a new Service class using a service identifier and list of versions\n   * including an optional set of features (functions) to apply to the class\n   * prototype.\n   *\n   * @param serviceIdentifier [String] the identifier for the service\n   * @param versions [Array<String>] a list of versions that work with this\n   *   service\n   * @param features [Object] an object to attach to the prototype\n   * @return [Class<Service>] the service class defined by this function.\n   */\n  defineService: function defineService(serviceIdentifier, versions, features) {\n    AWS.Service._serviceMap[serviceIdentifier] = true;\n    if (!Array.isArray(versions)) {\n      features = versions;\n      versions = [];\n    }\n\n    var svc = inherit(AWS.Service, features || {});\n\n    if (typeof serviceIdentifier === 'string') {\n      AWS.Service.addVersions(svc, versions);\n\n      var identifier = svc.serviceIdentifier || serviceIdentifier;\n      svc.serviceIdentifier = identifier;\n    } else { // defineService called with an API\n      svc.prototype.api = serviceIdentifier;\n      AWS.Service.defineMethods(svc);\n    }\n    AWS.SequentialExecutor.call(this.prototype);\n    //util.clientSideMonitoring is only available in node\n    if (!this.prototype.publisher && AWS.util.clientSideMonitoring) {\n      var Publisher = AWS.util.clientSideMonitoring.Publisher;\n      var configProvider = AWS.util.clientSideMonitoring.configProvider;\n      var publisherConfig = configProvider();\n      this.prototype.publisher = new Publisher(publisherConfig);\n      if (publisherConfig.enabled) {\n        //if csm is enabled in environment, SDK should send all metrics\n        AWS.Service._clientSideMonitoring = true;\n      }\n    }\n    AWS.SequentialExecutor.call(svc.prototype);\n    AWS.Service.addDefaultMonitoringListeners(svc.prototype);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  addVersions: function addVersions(svc, versions) {\n    if (!Array.isArray(versions)) versions = [versions];\n\n    svc.services = svc.services || {};\n    for (var i = 0; i < versions.length; i++) {\n      if (svc.services[versions[i]] === undefined) {\n        svc.services[versions[i]] = null;\n      }\n    }\n\n    svc.apiVersions = Object.keys(svc.services).sort();\n  },\n\n  /**\n   * @api private\n   */\n  defineServiceApi: function defineServiceApi(superclass, version, apiConfig) {\n    var svc = inherit(superclass, {\n      serviceIdentifier: superclass.serviceIdentifier\n    });\n\n    function setApi(api) {\n      if (api.isApi) {\n        svc.prototype.api = api;\n      } else {\n        svc.prototype.api = new Api(api, {\n          serviceIdentifier: superclass.serviceIdentifier\n        });\n      }\n    }\n\n    if (typeof version === 'string') {\n      if (apiConfig) {\n        setApi(apiConfig);\n      } else {\n        try {\n          setApi(AWS.apiLoader(superclass.serviceIdentifier, version));\n        } catch (err) {\n          throw AWS.util.error(err, {\n            message: 'Could not find API configuration ' +\n              superclass.serviceIdentifier + '-' + version\n          });\n        }\n      }\n      if (!Object.prototype.hasOwnProperty.call(superclass.services, version)) {\n        superclass.apiVersions = superclass.apiVersions.concat(version).sort();\n      }\n      superclass.services[version] = svc;\n    } else {\n      setApi(version);\n    }\n\n    AWS.Service.defineMethods(svc);\n    return svc;\n  },\n\n  /**\n   * @api private\n   */\n  hasService: function(identifier) {\n    return Object.prototype.hasOwnProperty.call(AWS.Service._serviceMap, identifier);\n  },\n\n  /**\n   * @param attachOn attach default monitoring listeners to object\n   *\n   * Each monitoring event should be emitted from service client to service constructor prototype and then\n   * to global service prototype like bubbling up. These default monitoring events listener will transfer\n   * the monitoring events to the upper layer.\n   * @api private\n   */\n  addDefaultMonitoringListeners: function addDefaultMonitoringListeners(attachOn) {\n    attachOn.addNamedListener('MONITOR_EVENTS_BUBBLE', 'apiCallAttempt', function EVENTS_BUBBLE(event) {\n      var baseClass = Object.getPrototypeOf(attachOn);\n      if (baseClass._events) baseClass.emit('apiCallAttempt', [event]);\n    });\n    attachOn.addNamedListener('CALL_EVENTS_BUBBLE', 'apiCall', function CALL_EVENTS_BUBBLE(event) {\n      var baseClass = Object.getPrototypeOf(attachOn);\n      if (baseClass._events) baseClass.emit('apiCall', [event]);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  _serviceMap: {}\n});\n\nAWS.util.mixin(AWS.Service, AWS.SequentialExecutor);\n\n/**\n * @api private\n */\nmodule.exports = AWS.Service;\n","var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\n\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\n\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n\n  return [\n    [region, endpointPrefix],\n    [regionPrefix, endpointPrefix],\n    [region, '*'],\n    [regionPrefix, '*'],\n    ['*', endpointPrefix],\n    ['*', '*']\n  ].map(function(item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\n\nfunction applyConfig(service, config) {\n  util.each(config, function(key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\n\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = config.endpoint.replace(\n          /{service}\\.({region}\\.)?/,\n          '{service}.dualstack.{region}.'\n        );\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\nfunction getEndpointSuffix(region) {\n  var regionRegexes = {\n    '^(us|eu|ap|sa|ca|me)\\\\-\\\\w+\\\\-\\\\d+$': 'amazonaws.com',\n    '^cn\\\\-\\\\w+\\\\-\\\\d+$': 'amazonaws.com.cn',\n    '^us\\\\-gov\\\\-\\\\w+\\\\-\\\\d+$': 'amazonaws.com',\n    '^us\\\\-iso\\\\-\\\\w+\\\\-\\\\d+$': 'c2s.ic.gov',\n    '^us\\\\-isob\\\\-\\\\w+\\\\-\\\\d+$': 'sc2s.sgov.gov'\n  };\n  var defaultSuffix = 'amazonaws.com';\n  var regexes = Object.keys(regionRegexes);\n  for (var i = 0; i < regexes.length; i++) {\n    var regionPattern = RegExp(regexes[i]);\n    var dnsSuffix = regionRegexes[regexes[i]];\n    if (regionPattern.test(region)) return dnsSuffix;\n  }\n  return defaultSuffix;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  configureEndpoint: configureEndpoint,\n  getEndpointSuffix: getEndpointSuffix\n};\n","var AWS = require('./core');\nrequire('./credentials');\nrequire('./credentials/credential_provider_chain');\nvar PromisesDependency;\n\n/**\n * The main configuration class used by all service objects to set\n * the region, credentials, and other options for requests.\n *\n * By default, credentials and region settings are left unconfigured.\n * This should be configured by the application before using any\n * AWS service APIs.\n *\n * In order to set global configuration options, properties should\n * be assigned to the global {AWS.config} object.\n *\n * @see AWS.config\n *\n * @!group General Configuration Options\n *\n * @!attribute credentials\n *   @return [AWS.Credentials] the AWS credentials to sign requests with.\n *\n * @!attribute region\n *   @example Set the global region setting to us-west-2\n *     AWS.config.update({region: 'us-west-2'});\n *   @return [AWS.Credentials] The region to send service requests to.\n *   @see http://docs.amazonwebservices.com/general/latest/gr/rande.html\n *     A list of available endpoints for each AWS service\n *\n * @!attribute maxRetries\n *   @return [Integer] the maximum amount of retries to perform for a\n *     service request. By default this value is calculated by the specific\n *     service object that the request is being made to.\n *\n * @!attribute maxRedirects\n *   @return [Integer] the maximum amount of redirects to follow for a\n *     service request. Defaults to 10.\n *\n * @!attribute paramValidation\n *   @return [Boolean|map] whether input parameters should be validated against\n *     the operation description before sending the request. Defaults to true.\n *     Pass a map to enable any of the following specific validation features:\n *\n *     * **min** [Boolean] &mdash; Validates that a value meets the min\n *       constraint. This is enabled by default when paramValidation is set\n *       to `true`.\n *     * **max** [Boolean] &mdash; Validates that a value meets the max\n *       constraint.\n *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n *       regular expression.\n *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n *       of the allowable enum values.\n *\n * @!attribute computeChecksums\n *   @return [Boolean] whether to compute checksums for payload bodies when\n *     the service accepts it (currently supported in S3 only).\n *\n * @!attribute convertResponseTypes\n *   @return [Boolean] whether types are converted when parsing response data.\n *     Currently only supported for JSON based services. Turning this off may\n *     improve performance on large response payloads. Defaults to `true`.\n *\n * @!attribute correctClockSkew\n *   @return [Boolean] whether to apply a clock skew correction and retry\n *     requests that fail because of an skewed client clock. Defaults to\n *     `false`.\n *\n * @!attribute sslEnabled\n *   @return [Boolean] whether SSL is enabled for requests\n *\n * @!attribute s3ForcePathStyle\n *   @return [Boolean] whether to force path style URLs for S3 objects\n *\n * @!attribute s3BucketEndpoint\n *   @note Setting this configuration option requires an `endpoint` to be\n *     provided explicitly to the service constructor.\n *   @return [Boolean] whether the provided endpoint addresses an individual\n *     bucket (false if it addresses the root API endpoint).\n *\n * @!attribute s3DisableBodySigning\n *   @return [Boolean] whether to disable S3 body signing when using signature version `v4`.\n *     Body signing can only be disabled when using https. Defaults to `true`.\n *\n * @!attribute s3UsEast1RegionalEndpoint\n *   @return ['legacy'|'regional'] when region is set to 'us-east-1', whether to send s3\n *     request to global endpoints or 'us-east-1' regional endpoints. This config is only\n *     applicable to S3 client;\n *     Defaults to 'legacy'\n * @!attribute s3UseArnRegion\n *   @return [Boolean] whether to override the request region with the region inferred\n *     from requested resource's ARN. Only available for S3 buckets\n *     Defaults to `true`\n *\n * @!attribute useAccelerateEndpoint\n *   @note This configuration option is only compatible with S3 while accessing\n *     dns-compatible buckets.\n *   @return [Boolean] Whether to use the Accelerate endpoint with the S3 service.\n *     Defaults to `false`.\n *\n * @!attribute retryDelayOptions\n *   @example Set the base retry delay for all services to 300 ms\n *     AWS.config.update({retryDelayOptions: {base: 300}});\n *     // Delays with maxRetries = 3: 300, 600, 1200\n *   @example Set a custom backoff function to provide delay values on retries\n *     AWS.config.update({retryDelayOptions: {customBackoff: function(retryCount, err) {\n *       // returns delay in ms\n *     }}});\n *   @return [map] A set of options to configure the retry delay on retryable errors.\n *     Currently supported options are:\n *\n *     * **base** [Integer] &mdash; The base number of milliseconds to use in the\n *       exponential backoff for operation retries. Defaults to 100 ms for all services except\n *       DynamoDB, where it defaults to 50ms.\n *\n *     * **customBackoff ** [function] &mdash; A custom function that accepts a\n *       retry count and error and returns the amount of time to delay in\n *       milliseconds. If the result is a non-zero negative value, no further\n *       retry attempts will be made. The `base` option will be ignored if this\n *       option is supplied.\n *\n * @!attribute httpOptions\n *   @return [map] A set of options to pass to the low-level HTTP request.\n *     Currently supported options are:\n *\n *     * **proxy** [String] &mdash; the URL to proxy requests through\n *     * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n *       HTTP requests with. Used for connection pooling. Note that for\n *       SSL connections, a special Agent object is used in order to enable\n *       peer certificate verification. This feature is only supported in the\n *       Node.js environment.\n *     * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n *       failing to establish a connection with the server after\n *       `connectTimeout` milliseconds. This timeout has no effect once a socket\n *       connection has been established.\n *     * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n *       milliseconds of inactivity on the socket. Defaults to two minutes\n *       (120000)\n *     * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n *       HTTP requests. Used in the browser environment only. Set to false to\n *       send requests synchronously. Defaults to true (async on).\n *     * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n *       property of an XMLHttpRequest object. Used in the browser environment\n *       only. Defaults to false.\n * @!attribute logger\n *   @return [#write,#log] an object that responds to .write() (like a stream)\n *     or .log() (like the console object) in order to log information about\n *     requests\n *\n * @!attribute systemClockOffset\n *   @return [Number] an offset value in milliseconds to apply to all signing\n *     times. Use this to compensate for clock skew when your system may be\n *     out of sync with the service time. Note that this configuration option\n *     can only be applied to the global `AWS.config` object and cannot be\n *     overridden in service-specific configuration. Defaults to 0 milliseconds.\n *\n * @!attribute signatureVersion\n *   @return [String] the signature version to sign requests with (overriding\n *     the API configuration). Possible values are: 'v2', 'v3', 'v4'.\n *\n * @!attribute signatureCache\n *   @return [Boolean] whether the signature to sign requests with (overriding\n *     the API configuration) is cached. Only applies to the signature version 'v4'.\n *     Defaults to `true`.\n *\n * @!attribute endpointDiscoveryEnabled\n *   @return [Boolean|undefined] whether to call operations with endpoints\n *     given by service dynamically. Setting this config to `true` will enable\n *     endpoint discovery for all applicable operations. Setting it to `false`\n *     will explicitly disable endpoint discovery even though operations that\n *     require endpoint discovery will presumably fail. Leaving it to\n *     `undefined` means SDK only do endpoint discovery when it's required.\n *     Defaults to `undefined`\n *\n * @!attribute endpointCacheSize\n *   @return [Number] the size of the global cache storing endpoints from endpoint\n *     discovery operations. Once endpoint cache is created, updating this setting\n *     cannot change existing cache size.\n *     Defaults to 1000\n *\n * @!attribute hostPrefixEnabled\n *   @return [Boolean] whether to marshal request parameters to the prefix of\n *     hostname. Defaults to `true`.\n *\n * @!attribute stsRegionalEndpoints\n *   @return ['legacy'|'regional'] whether to send sts request to global endpoints or\n *     regional endpoints.\n *     Defaults to 'legacy'\n */\nAWS.Config = AWS.util.inherit({\n  /**\n   * @!endgroup\n   */\n\n  /**\n   * Creates a new configuration object. This is the object that passes\n   * option data along to service requests, including credentials, security,\n   * region information, and some service specific settings.\n   *\n   * @example Creating a new configuration object with credentials and region\n   *   var config = new AWS.Config({\n   *     accessKeyId: 'AKID', secretAccessKey: 'SECRET', region: 'us-west-2'\n   *   });\n   * @option options accessKeyId [String] your AWS access key ID.\n   * @option options secretAccessKey [String] your AWS secret access key.\n   * @option options sessionToken [AWS.Credentials] the optional AWS\n   *   session token to sign requests with.\n   * @option options credentials [AWS.Credentials] the AWS credentials\n   *   to sign requests with. You can either specify this object, or\n   *   specify the accessKeyId and secretAccessKey options directly.\n   * @option options credentialProvider [AWS.CredentialProviderChain] the\n   *   provider chain used to resolve credentials if no static `credentials`\n   *   property is set.\n   * @option options region [String] the region to send service requests to.\n   *   See {region} for more information.\n   * @option options maxRetries [Integer] the maximum amount of retries to\n   *   attempt with a request. See {maxRetries} for more information.\n   * @option options maxRedirects [Integer] the maximum amount of redirects to\n   *   follow with a request. See {maxRedirects} for more information.\n   * @option options sslEnabled [Boolean] whether to enable SSL for\n   *   requests.\n   * @option options paramValidation [Boolean|map] whether input parameters\n   *   should be validated against the operation description before sending\n   *   the request. Defaults to true. Pass a map to enable any of the\n   *   following specific validation features:\n   *\n   *   * **min** [Boolean] &mdash; Validates that a value meets the min\n   *     constraint. This is enabled by default when paramValidation is set\n   *     to `true`.\n   *   * **max** [Boolean] &mdash; Validates that a value meets the max\n   *     constraint.\n   *   * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *     regular expression.\n   *   * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *     of the allowable enum values.\n   * @option options computeChecksums [Boolean] whether to compute checksums\n   *   for payload bodies when the service accepts it (currently supported\n   *   in S3 only)\n   * @option options convertResponseTypes [Boolean] whether types are converted\n   *     when parsing response data. Currently only supported for JSON based\n   *     services. Turning this off may improve performance on large response\n   *     payloads. Defaults to `true`.\n   * @option options correctClockSkew [Boolean] whether to apply a clock skew\n   *     correction and retry requests that fail because of an skewed client\n   *     clock. Defaults to `false`.\n   * @option options s3ForcePathStyle [Boolean] whether to force path\n   *   style URLs for S3 objects.\n   * @option options s3BucketEndpoint [Boolean] whether the provided endpoint\n   *   addresses an individual bucket (false if it addresses the root API\n   *   endpoint). Note that setting this configuration option requires an\n   *   `endpoint` to be provided explicitly to the service constructor.\n   * @option options s3DisableBodySigning [Boolean] whether S3 body signing\n   *   should be disabled when using signature version `v4`. Body signing\n   *   can only be disabled when using https. Defaults to `true`.\n   * @option options s3UsEast1RegionalEndpoint ['legacy'|'regional'] when region\n   *   is set to 'us-east-1', whether to send s3 request to global endpoints or\n   *   'us-east-1' regional endpoints. This config is only applicable to S3 client.\n   *   Defaults to `legacy`\n   * @option options s3UseArnRegion [Boolean] whether to override the request region\n   *   with the region inferred from requested resource's ARN. Only available for S3 buckets\n   *   Defaults to `true`\n   *\n   * @option options retryDelayOptions [map] A set of options to configure\n   *   the retry delay on retryable errors. Currently supported options are:\n   *\n   *   * **base** [Integer] &mdash; The base number of milliseconds to use in the\n   *     exponential backoff for operation retries. Defaults to 100 ms for all\n   *     services except DynamoDB, where it defaults to 50ms.\n   *   * **customBackoff ** [function] &mdash; A custom function that accepts a\n   *     retry count and error and returns the amount of time to delay in\n   *     milliseconds. If the result is a non-zero negative value, no further\n   *     retry attempts will be made. The `base` option will be ignored if this\n   *     option is supplied.\n   * @option options httpOptions [map] A set of options to pass to the low-level\n   *   HTTP request. Currently supported options are:\n   *\n   *   * **proxy** [String] &mdash; the URL to proxy requests through\n   *   * **agent** [http.Agent, https.Agent] &mdash; the Agent object to perform\n   *     HTTP requests with. Used for connection pooling. Defaults to the global\n   *     agent (`http.globalAgent`) for non-SSL connections. Note that for\n   *     SSL connections, a special Agent object is used in order to enable\n   *     peer certificate verification. This feature is only available in the\n   *     Node.js environment.\n   *   * **connectTimeout** [Integer] &mdash; Sets the socket to timeout after\n   *     failing to establish a connection with the server after\n   *     `connectTimeout` milliseconds. This timeout has no effect once a socket\n   *     connection has been established.\n   *   * **timeout** [Integer] &mdash; Sets the socket to timeout after timeout\n   *     milliseconds of inactivity on the socket. Defaults to two minutes\n   *     (120000).\n   *   * **xhrAsync** [Boolean] &mdash; Whether the SDK will send asynchronous\n   *     HTTP requests. Used in the browser environment only. Set to false to\n   *     send requests synchronously. Defaults to true (async on).\n   *   * **xhrWithCredentials** [Boolean] &mdash; Sets the \"withCredentials\"\n   *     property of an XMLHttpRequest object. Used in the browser environment\n   *     only. Defaults to false.\n   * @option options apiVersion [String, Date] a String in YYYY-MM-DD format\n   *   (or a date) that represents the latest possible API version that can be\n   *   used in all services (unless overridden by `apiVersions`). Specify\n   *   'latest' to use the latest possible version.\n   * @option options apiVersions [map<String, String|Date>] a map of service\n   *   identifiers (the lowercase service class name) with the API version to\n   *   use when instantiating a service. Specify 'latest' for each individual\n   *   that can use the latest available version.\n   * @option options logger [#write,#log] an object that responds to .write()\n   *   (like a stream) or .log() (like the console object) in order to log\n   *   information about requests\n   * @option options systemClockOffset [Number] an offset value in milliseconds\n   *   to apply to all signing times. Use this to compensate for clock skew\n   *   when your system may be out of sync with the service time. Note that\n   *   this configuration option can only be applied to the global `AWS.config`\n   *   object and cannot be overridden in service-specific configuration.\n   *   Defaults to 0 milliseconds.\n   * @option options signatureVersion [String] the signature version to sign\n   *   requests with (overriding the API configuration). Possible values are:\n   *   'v2', 'v3', 'v4'.\n   * @option options signatureCache [Boolean] whether the signature to sign\n   *   requests with (overriding the API configuration) is cached. Only applies\n   *   to the signature version 'v4'. Defaults to `true`.\n   * @option options dynamoDbCrc32 [Boolean] whether to validate the CRC32\n   *   checksum of HTTP response bodies returned by DynamoDB. Default: `true`.\n   * @option options useAccelerateEndpoint [Boolean] Whether to use the\n   *   S3 Transfer Acceleration endpoint with the S3 service. Default: `false`.\n   * @option options clientSideMonitoring [Boolean] whether to collect and\n   *   publish this client's performance metrics of all its API requests.\n   * @option options endpointDiscoveryEnabled [Boolean|undefined] whether to\n   *   call operations with endpoints given by service dynamically. Setting this\n   * config to `true` will enable endpoint discovery for all applicable operations.\n   *   Setting it to `false` will explicitly disable endpoint discovery even though\n   *   operations that require endpoint discovery will presumably fail. Leaving it\n   *   to `undefined` means SDK will only do endpoint discovery when it's required.\n   *   Defaults to `undefined`\n   * @option options endpointCacheSize [Number] the size of the global cache storing\n   *   endpoints from endpoint discovery operations. Once endpoint cache is created,\n   *   updating this setting cannot change existing cache size.\n   *   Defaults to 1000\n   * @option options hostPrefixEnabled [Boolean] whether to marshal request\n   *   parameters to the prefix of hostname.\n   *   Defaults to `true`.\n   * @option options stsRegionalEndpoints ['legacy'|'regional'] whether to send sts request\n   *   to global endpoints or regional endpoints.\n   *   Defaults to 'legacy'.\n   */\n  constructor: function Config(options) {\n    if (options === undefined) options = {};\n    options = this.extractCredentials(options);\n\n    AWS.util.each.call(this, this.keys, function (key, value) {\n      this.set(key, options[key], value);\n    });\n  },\n\n  /**\n   * @!group Managing Credentials\n   */\n\n  /**\n   * Loads credentials from the configuration object. This is used internally\n   * by the SDK to ensure that refreshable {Credentials} objects are properly\n   * refreshed and loaded when sending a request. If you want to ensure that\n   * your credentials are loaded prior to a request, you can use this method\n   * directly to provide accurate credential data stored in the object.\n   *\n   * @note If you configure the SDK with static or environment credentials,\n   *   the credential data should already be present in {credentials} attribute.\n   *   This method is primarily necessary to load credentials from asynchronous\n   *   sources, or sources that can refresh credentials periodically.\n   * @example Getting your access key\n   *   AWS.config.getCredentials(function(err) {\n   *     if (err) console.log(err.stack); // credentials not loaded\n   *     else console.log(\"Access Key:\", AWS.config.credentials.accessKeyId);\n   *   })\n   * @callback callback function(err)\n   *   Called when the {credentials} have been properly set on the configuration\n   *   object.\n   *\n   *   @param err [Error] if this is set, credentials were not successfully\n   *     loaded and this error provides information why.\n   * @see credentials\n   * @see Credentials\n   */\n  getCredentials: function getCredentials(callback) {\n    var self = this;\n\n    function finish(err) {\n      callback(err, err ? null : self.credentials);\n    }\n\n    function credError(msg, err) {\n      return new AWS.util.error(err || new Error(), {\n        code: 'CredentialsError',\n        message: msg,\n        name: 'CredentialsError'\n      });\n    }\n\n    function getAsyncCredentials() {\n      self.credentials.get(function(err) {\n        if (err) {\n          var msg = 'Could not load credentials from ' +\n            self.credentials.constructor.name;\n          err = credError(msg, err);\n        }\n        finish(err);\n      });\n    }\n\n    function getStaticCredentials() {\n      var err = null;\n      if (!self.credentials.accessKeyId || !self.credentials.secretAccessKey) {\n        err = credError('Missing credentials');\n      }\n      finish(err);\n    }\n\n    if (self.credentials) {\n      if (typeof self.credentials.get === 'function') {\n        getAsyncCredentials();\n      } else { // static credentials\n        getStaticCredentials();\n      }\n    } else if (self.credentialProvider) {\n      self.credentialProvider.resolve(function(err, creds) {\n        if (err) {\n          err = credError('Could not load credentials from any providers', err);\n        }\n        self.credentials = creds;\n        finish(err);\n      });\n    } else {\n      finish(credError('No credentials to load'));\n    }\n  },\n\n  /**\n   * @!group Loading and Setting Configuration Options\n   */\n\n  /**\n   * @overload update(options, allowUnknownKeys = false)\n   *   Updates the current configuration object with new options.\n   *\n   *   @example Update maxRetries property of a configuration object\n   *     config.update({maxRetries: 10});\n   *   @param [Object] options a map of option keys and values.\n   *   @param [Boolean] allowUnknownKeys whether unknown keys can be set on\n   *     the configuration object. Defaults to `false`.\n   *   @see constructor\n   */\n  update: function update(options, allowUnknownKeys) {\n    allowUnknownKeys = allowUnknownKeys || false;\n    options = this.extractCredentials(options);\n    AWS.util.each.call(this, options, function (key, value) {\n      if (allowUnknownKeys || Object.prototype.hasOwnProperty.call(this.keys, key) ||\n          AWS.Service.hasService(key)) {\n        this.set(key, value);\n      }\n    });\n  },\n\n  /**\n   * Loads configuration data from a JSON file into this config object.\n   * @note Loading configuration will reset all existing configuration\n   *   on the object.\n   * @!macro nobrowser\n   * @param path [String] the path relative to your process's current\n   *    working directory to load configuration from.\n   * @return [AWS.Config] the same configuration object\n   */\n  loadFromPath: function loadFromPath(path) {\n    this.clear();\n\n    var options = JSON.parse(AWS.util.readFileSync(path));\n    var fileSystemCreds = new AWS.FileSystemCredentials(path);\n    var chain = new AWS.CredentialProviderChain();\n    chain.providers.unshift(fileSystemCreds);\n    chain.resolve(function (err, creds) {\n      if (err) throw err;\n      else options.credentials = creds;\n    });\n\n    this.constructor(options);\n\n    return this;\n  },\n\n  /**\n   * Clears configuration data on this object\n   *\n   * @api private\n   */\n  clear: function clear() {\n    /*jshint forin:false */\n    AWS.util.each.call(this, this.keys, function (key) {\n      delete this[key];\n    });\n\n    // reset credential provider\n    this.set('credentials', undefined);\n    this.set('credentialProvider', undefined);\n  },\n\n  /**\n   * Sets a property on the configuration object, allowing for a\n   * default value\n   * @api private\n   */\n  set: function set(property, value, defaultValue) {\n    if (value === undefined) {\n      if (defaultValue === undefined) {\n        defaultValue = this.keys[property];\n      }\n      if (typeof defaultValue === 'function') {\n        this[property] = defaultValue.call(this);\n      } else {\n        this[property] = defaultValue;\n      }\n    } else if (property === 'httpOptions' && this[property]) {\n      // deep merge httpOptions\n      this[property] = AWS.util.merge(this[property], value);\n    } else {\n      this[property] = value;\n    }\n  },\n\n  /**\n   * All of the keys with their default values.\n   *\n   * @constant\n   * @api private\n   */\n  keys: {\n    credentials: null,\n    credentialProvider: null,\n    region: null,\n    logger: null,\n    apiVersions: {},\n    apiVersion: null,\n    endpoint: undefined,\n    httpOptions: {\n      timeout: 120000\n    },\n    maxRetries: undefined,\n    maxRedirects: 10,\n    paramValidation: true,\n    sslEnabled: true,\n    s3ForcePathStyle: false,\n    s3BucketEndpoint: false,\n    s3DisableBodySigning: true,\n    s3UsEast1RegionalEndpoint: 'legacy',\n    s3UseArnRegion: undefined,\n    computeChecksums: true,\n    convertResponseTypes: true,\n    correctClockSkew: false,\n    customUserAgent: null,\n    dynamoDbCrc32: true,\n    systemClockOffset: 0,\n    signatureVersion: null,\n    signatureCache: true,\n    retryDelayOptions: {},\n    useAccelerateEndpoint: false,\n    clientSideMonitoring: false,\n    endpointDiscoveryEnabled: undefined,\n    endpointCacheSize: 1000,\n    hostPrefixEnabled: true,\n    stsRegionalEndpoints: 'legacy'\n  },\n\n  /**\n   * Extracts accessKeyId, secretAccessKey and sessionToken\n   * from a configuration hash.\n   *\n   * @api private\n   */\n  extractCredentials: function extractCredentials(options) {\n    if (options.accessKeyId && options.secretAccessKey) {\n      options = AWS.util.copy(options);\n      options.credentials = new AWS.Credentials(options);\n    }\n    return options;\n  },\n\n  /**\n   * Sets the promise dependency the SDK will use wherever Promises are returned.\n   * Passing `null` will force the SDK to use native Promises if they are available.\n   * If native Promises are not available, passing `null` will have no effect.\n   * @param [Constructor] dep A reference to a Promise constructor\n   */\n  setPromisesDependency: function setPromisesDependency(dep) {\n    PromisesDependency = dep;\n    // if null was passed in, we should try to use native promises\n    if (dep === null && typeof Promise === 'function') {\n      PromisesDependency = Promise;\n    }\n    var constructors = [AWS.Request, AWS.Credentials, AWS.CredentialProviderChain];\n    if (AWS.S3) {\n      constructors.push(AWS.S3);\n      if (AWS.S3.ManagedUpload) {\n        constructors.push(AWS.S3.ManagedUpload);\n      }\n    }\n    AWS.util.addPromises(constructors, PromisesDependency);\n  },\n\n  /**\n   * Gets the promise dependency set by `AWS.config.setPromisesDependency`.\n   */\n  getPromisesDependency: function getPromisesDependency() {\n    return PromisesDependency;\n  }\n});\n\n/**\n * @return [AWS.Config] The global configuration object singleton instance\n * @readonly\n * @see AWS.Config\n */\nAWS.config = new AWS.Config();\n","var AWS = require('./core');\nvar SequentialExecutor = require('./sequential_executor');\nvar DISCOVER_ENDPOINT = require('./discover_endpoint').discoverEndpoint;\n/**\n * The namespace used to register global event listeners for request building\n * and sending.\n */\nAWS.EventListeners = {\n  /**\n   * @!attribute VALIDATE_CREDENTIALS\n   *   A request listener that validates whether the request is being\n   *   sent with credentials.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating credentials\n   *     var listener = AWS.EventListeners.Core.VALIDATE_CREDENTIALS;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_REGION\n   *   A request listener that validates whether the region is set\n   *   for a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating region configuration\n   *     var listener = AWS.EventListeners.Core.VALIDATE_REGION;\n   *     request.removeListener('validate', listener);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute VALIDATE_PARAMETERS\n   *   A request listener that validates input parameters in a request.\n   *   Handles the {AWS.Request~validate 'validate' Request event}\n   *   @example Sending a request without validating parameters\n   *     var listener = AWS.EventListeners.Core.VALIDATE_PARAMETERS;\n   *     request.removeListener('validate', listener);\n   *   @example Disable parameter validation globally\n   *     AWS.EventListeners.Core.removeListener('validate',\n   *       AWS.EventListeners.Core.VALIDATE_REGION);\n   *   @readonly\n   *   @return [Function]\n   * @!attribute SEND\n   *   A request listener that initiates the HTTP connection for a\n   *   request being sent. Handles the {AWS.Request~send 'send' Request event}\n   *   @example Replacing the HTTP handler\n   *     var listener = AWS.EventListeners.Core.SEND;\n   *     request.removeListener('send', listener);\n   *     request.on('send', function(response) {\n   *       customHandler.send(response);\n   *     });\n   *   @return [Function]\n   *   @readonly\n   * @!attribute HTTP_DATA\n   *   A request listener that reads data from the HTTP connection in order\n   *   to build the response data.\n   *   Handles the {AWS.Request~httpData 'httpData' Request event}.\n   *   Remove this handler if you are overriding the 'httpData' event and\n   *   do not want extra data processing and buffering overhead.\n   *   @example Disabling default data processing\n   *     var listener = AWS.EventListeners.Core.HTTP_DATA;\n   *     request.removeListener('httpData', listener);\n   *   @return [Function]\n   *   @readonly\n   */\n  Core: {} /* doc hack */\n};\n\n/**\n * @api private\n */\nfunction getOperationAuthtype(req) {\n  if (!req.service.api.operations) {\n    return '';\n  }\n  var operation = req.service.api.operations[req.operation];\n  return operation ? operation.authtype : '';\n}\n\nAWS.EventListeners = {\n  Core: new SequentialExecutor().addNamedListeners(function(add, addAsync) {\n    addAsync('VALIDATE_CREDENTIALS', 'validate',\n        function VALIDATE_CREDENTIALS(req, done) {\n      if (!req.service.api.signatureVersion && !req.service.config.signatureVersion) return done(); // none\n      req.service.config.getCredentials(function(err) {\n        if (err) {\n          req.response.error = AWS.util.error(err,\n            {code: 'CredentialsError', message: 'Missing credentials in config, if using AWS_CONFIG_FILE, set AWS_SDK_LOAD_CONFIG=1'});\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_REGION', 'validate', function VALIDATE_REGION(req) {\n      if (!req.service.config.region && !req.service.isGlobalEndpoint) {\n        req.response.error = AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n    });\n\n    add('BUILD_IDEMPOTENCY_TOKENS', 'validate', function BUILD_IDEMPOTENCY_TOKENS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      if (!operation) {\n        return;\n      }\n      var idempotentMembers = operation.idempotentMembers;\n      if (!idempotentMembers.length) {\n        return;\n      }\n      // creates a copy of params so user's param object isn't mutated\n      var params = AWS.util.copy(req.params);\n      for (var i = 0, iLen = idempotentMembers.length; i < iLen; i++) {\n        if (!params[idempotentMembers[i]]) {\n          // add the member\n          params[idempotentMembers[i]] = AWS.util.uuid.v4();\n        }\n      }\n      req.params = params;\n    });\n\n    add('VALIDATE_PARAMETERS', 'validate', function VALIDATE_PARAMETERS(req) {\n      if (!req.service.api.operations) {\n        return;\n      }\n      var rules = req.service.api.operations[req.operation].input;\n      var validation = req.service.config.paramValidation;\n      new AWS.ParamValidator(validation).validate(rules, req.params);\n    });\n\n    addAsync('COMPUTE_SHA256', 'afterBuild', function COMPUTE_SHA256(req, done) {\n      req.haltHandlersOnError();\n      if (!req.service.api.operations) {\n        return;\n      }\n      var operation = req.service.api.operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!req.service.api.signatureVersion && !authtype && !req.service.config.signatureVersion) return done(); // none\n      if (req.service.getSignerClass(req) === AWS.Signers.V4) {\n        var body = req.httpRequest.body || '';\n        if (authtype.indexOf('unsigned-body') >= 0) {\n          req.httpRequest.headers['X-Amz-Content-Sha256'] = 'UNSIGNED-PAYLOAD';\n          return done();\n        }\n        AWS.util.computeSha256(body, function(err, sha) {\n          if (err) {\n            done(err);\n          }\n          else {\n            req.httpRequest.headers['X-Amz-Content-Sha256'] = sha;\n            done();\n          }\n        });\n      } else {\n        done();\n      }\n    });\n\n    add('SET_CONTENT_LENGTH', 'afterBuild', function SET_CONTENT_LENGTH(req) {\n      var authtype = getOperationAuthtype(req);\n      var payloadMember = AWS.util.getRequestPayloadShape(req);\n      if (req.httpRequest.headers['Content-Length'] === undefined) {\n        try {\n          var length = AWS.util.string.byteLength(req.httpRequest.body);\n          req.httpRequest.headers['Content-Length'] = length;\n        } catch (err) {\n          if (payloadMember && payloadMember.isStreaming) {\n            if (payloadMember.requiresLength) {\n              //streaming payload requires length(s3, glacier)\n              throw err;\n            } else if (authtype.indexOf('unsigned-body') >= 0) {\n              //unbounded streaming payload(lex, mediastore)\n              req.httpRequest.headers['Transfer-Encoding'] = 'chunked';\n              return;\n            } else {\n              throw err;\n            }\n          }\n          throw err;\n        }\n      }\n    });\n\n    add('SET_HTTP_HOST', 'afterBuild', function SET_HTTP_HOST(req) {\n      req.httpRequest.headers['Host'] = req.httpRequest.endpoint.host;\n    });\n\n    add('RESTART', 'restart', function RESTART() {\n      var err = this.response.error;\n      if (!err || !err.retryable) return;\n\n      this.httpRequest = new AWS.HttpRequest(\n        this.service.endpoint,\n        this.service.region\n      );\n\n      if (this.response.retryCount < this.service.config.maxRetries) {\n        this.response.retryCount++;\n      } else {\n        this.response.error = null;\n      }\n    });\n\n    var addToHead = true;\n    addAsync('DISCOVER_ENDPOINT', 'sign', DISCOVER_ENDPOINT, addToHead);\n\n    addAsync('SIGN', 'sign', function SIGN(req, done) {\n      var service = req.service;\n      var operations = req.service.api.operations || {};\n      var operation = operations[req.operation];\n      var authtype = operation ? operation.authtype : '';\n      if (!service.api.signatureVersion && !authtype && !service.config.signatureVersion) return done(); // none\n\n      service.config.getCredentials(function (err, credentials) {\n        if (err) {\n          req.response.error = err;\n          return done();\n        }\n\n        try {\n          var date = service.getSkewCorrectedDate();\n          var SignerClass = service.getSignerClass(req);\n          var signer = new SignerClass(req.httpRequest,\n            service.api.signingName || service.api.endpointPrefix,\n            {\n              signatureCache: service.config.signatureCache,\n              operation: operation,\n              signatureVersion: service.api.signatureVersion\n            });\n          signer.setServiceClientId(service._clientId);\n\n          // clear old authorization headers\n          delete req.httpRequest.headers['Authorization'];\n          delete req.httpRequest.headers['Date'];\n          delete req.httpRequest.headers['X-Amz-Date'];\n\n          // add new authorization\n          signer.addAuthorization(credentials, date);\n          req.signedAt = date;\n        } catch (e) {\n          req.response.error = e;\n        }\n        done();\n      });\n    });\n\n    add('VALIDATE_RESPONSE', 'validateResponse', function VALIDATE_RESPONSE(resp) {\n      if (this.service.successfulResponse(resp, this)) {\n        resp.data = {};\n        resp.error = null;\n      } else {\n        resp.data = null;\n        resp.error = AWS.util.error(new Error(),\n          {code: 'UnknownError', message: 'An unknown error occurred.'});\n      }\n    });\n\n    addAsync('SEND', 'send', function SEND(resp, done) {\n      resp.httpResponse._abortCallback = done;\n      resp.error = null;\n      resp.data = null;\n\n      function callback(httpResp) {\n        resp.httpResponse.stream = httpResp;\n        var stream = resp.request.httpRequest.stream;\n        var service = resp.request.service;\n        var api = service.api;\n        var operationName = resp.request.operation;\n        var operation = api.operations[operationName] || {};\n\n        httpResp.on('headers', function onHeaders(statusCode, headers, statusMessage) {\n          resp.request.emit(\n            'httpHeaders',\n            [statusCode, headers, resp, statusMessage]\n          );\n\n          if (!resp.httpResponse.streaming) {\n            if (AWS.HttpClient.streamsApiVersion === 2) { // streams2 API check\n              // if we detect event streams, we're going to have to\n              // return the stream immediately\n              if (operation.hasEventOutput && service.successfulResponse(resp)) {\n                // skip reading the IncomingStream\n                resp.request.emit('httpDone');\n                done();\n                return;\n              }\n\n              httpResp.on('readable', function onReadable() {\n                var data = httpResp.read();\n                if (data !== null) {\n                  resp.request.emit('httpData', [data, resp]);\n                }\n              });\n            } else { // legacy streams API\n              httpResp.on('data', function onData(data) {\n                resp.request.emit('httpData', [data, resp]);\n              });\n            }\n          }\n        });\n\n        httpResp.on('end', function onEnd() {\n          if (!stream || !stream.didCallback) {\n            if (AWS.HttpClient.streamsApiVersion === 2 && (operation.hasEventOutput && service.successfulResponse(resp))) {\n              // don't concatenate response chunks when streaming event stream data when response is successful\n              return;\n            }\n            resp.request.emit('httpDone');\n            done();\n          }\n        });\n      }\n\n      function progress(httpResp) {\n        httpResp.on('sendProgress', function onSendProgress(value) {\n          resp.request.emit('httpUploadProgress', [value, resp]);\n        });\n\n        httpResp.on('receiveProgress', function onReceiveProgress(value) {\n          resp.request.emit('httpDownloadProgress', [value, resp]);\n        });\n      }\n\n      function error(err) {\n        if (err.code !== 'RequestAbortedError') {\n          var errCode = err.code === 'TimeoutError' ? err.code : 'NetworkingError';\n          err = AWS.util.error(err, {\n            code: errCode,\n            region: resp.request.httpRequest.region,\n            hostname: resp.request.httpRequest.endpoint.hostname,\n            retryable: true\n          });\n        }\n        resp.error = err;\n        resp.request.emit('httpError', [resp.error, resp], function() {\n          done();\n        });\n      }\n\n      function executeSend() {\n        var http = AWS.HttpClient.getInstance();\n        var httpOptions = resp.request.service.config.httpOptions || {};\n        try {\n          var stream = http.handleRequest(resp.request.httpRequest, httpOptions,\n                                          callback, error);\n          progress(stream);\n        } catch (err) {\n          error(err);\n        }\n      }\n      var timeDiff = (resp.request.service.getSkewCorrectedDate() - this.signedAt) / 1000;\n      if (timeDiff >= 60 * 10) { // if we signed 10min ago, re-sign\n        this.emit('sign', [this], function(err) {\n          if (err) done(err);\n          else executeSend();\n        });\n      } else {\n        executeSend();\n      }\n    });\n\n    add('HTTP_HEADERS', 'httpHeaders',\n        function HTTP_HEADERS(statusCode, headers, resp, statusMessage) {\n      resp.httpResponse.statusCode = statusCode;\n      resp.httpResponse.statusMessage = statusMessage;\n      resp.httpResponse.headers = headers;\n      resp.httpResponse.body = AWS.util.buffer.toBuffer('');\n      resp.httpResponse.buffers = [];\n      resp.httpResponse.numBytes = 0;\n      var dateHeader = headers.date || headers.Date;\n      var service = resp.request.service;\n      if (dateHeader) {\n        var serverTime = Date.parse(dateHeader);\n        if (service.config.correctClockSkew\n            && service.isClockSkewed(serverTime)) {\n          service.applyClockOffset(serverTime);\n        }\n      }\n    });\n\n    add('HTTP_DATA', 'httpData', function HTTP_DATA(chunk, resp) {\n      if (chunk) {\n        if (AWS.util.isNode()) {\n          resp.httpResponse.numBytes += chunk.length;\n\n          var total = resp.httpResponse.headers['content-length'];\n          var progress = { loaded: resp.httpResponse.numBytes, total: total };\n          resp.request.emit('httpDownloadProgress', [progress, resp]);\n        }\n\n        resp.httpResponse.buffers.push(AWS.util.buffer.toBuffer(chunk));\n      }\n    });\n\n    add('HTTP_DONE', 'httpDone', function HTTP_DONE(resp) {\n      // convert buffers array into single buffer\n      if (resp.httpResponse.buffers && resp.httpResponse.buffers.length > 0) {\n        var body = AWS.util.buffer.concat(resp.httpResponse.buffers);\n        resp.httpResponse.body = body;\n      }\n      delete resp.httpResponse.numBytes;\n      delete resp.httpResponse.buffers;\n    });\n\n    add('FINALIZE_ERROR', 'retry', function FINALIZE_ERROR(resp) {\n      if (resp.httpResponse.statusCode) {\n        resp.error.statusCode = resp.httpResponse.statusCode;\n        if (resp.error.retryable === undefined) {\n          resp.error.retryable = this.service.retryableError(resp.error, this);\n        }\n      }\n    });\n\n    add('INVALIDATE_CREDENTIALS', 'retry', function INVALIDATE_CREDENTIALS(resp) {\n      if (!resp.error) return;\n      switch (resp.error.code) {\n        case 'RequestExpired': // EC2 only\n        case 'ExpiredTokenException':\n        case 'ExpiredToken':\n          resp.error.retryable = true;\n          resp.request.service.config.credentials.expired = true;\n      }\n    });\n\n    add('EXPIRED_SIGNATURE', 'retry', function EXPIRED_SIGNATURE(resp) {\n      var err = resp.error;\n      if (!err) return;\n      if (typeof err.code === 'string' && typeof err.message === 'string') {\n        if (err.code.match(/Signature/) && err.message.match(/expired/)) {\n          resp.error.retryable = true;\n        }\n      }\n    });\n\n    add('CLOCK_SKEWED', 'retry', function CLOCK_SKEWED(resp) {\n      if (!resp.error) return;\n      if (this.service.clockSkewError(resp.error)\n          && this.service.config.correctClockSkew) {\n        resp.error.retryable = true;\n      }\n    });\n\n    add('REDIRECT', 'retry', function REDIRECT(resp) {\n      if (resp.error && resp.error.statusCode >= 300 &&\n          resp.error.statusCode < 400 && resp.httpResponse.headers['location']) {\n        this.httpRequest.endpoint =\n          new AWS.Endpoint(resp.httpResponse.headers['location']);\n        this.httpRequest.headers['Host'] = this.httpRequest.endpoint.host;\n        resp.error.redirect = true;\n        resp.error.retryable = true;\n      }\n    });\n\n    add('RETRY_CHECK', 'retry', function RETRY_CHECK(resp) {\n      if (resp.error) {\n        if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.error.retryDelay = 0;\n        } else if (resp.retryCount < resp.maxRetries) {\n          resp.error.retryDelay = this.service.retryDelays(resp.retryCount, resp.error) || 0;\n        }\n      }\n    });\n\n    addAsync('RESET_RETRY_STATE', 'afterRetry', function RESET_RETRY_STATE(resp, done) {\n      var delay, willRetry = false;\n\n      if (resp.error) {\n        delay = resp.error.retryDelay || 0;\n        if (resp.error.retryable && resp.retryCount < resp.maxRetries) {\n          resp.retryCount++;\n          willRetry = true;\n        } else if (resp.error.redirect && resp.redirectCount < resp.maxRedirects) {\n          resp.redirectCount++;\n          willRetry = true;\n        }\n      }\n\n      // delay < 0 is a signal from customBackoff to skip retries\n      if (willRetry && delay >= 0) {\n        resp.error = null;\n        setTimeout(done, delay);\n      } else {\n        done();\n      }\n    });\n  }),\n\n  CorePost: new SequentialExecutor().addNamedListeners(function(add) {\n    add('EXTRACT_REQUEST_ID', 'extractData', AWS.util.extractRequestId);\n    add('EXTRACT_REQUEST_ID', 'extractError', AWS.util.extractRequestId);\n\n    add('ENOTFOUND_ERROR', 'httpError', function ENOTFOUND_ERROR(err) {\n      if (err.code === 'NetworkingError' && err.errno === 'ENOTFOUND') {\n        var message = 'Inaccessible host: `' + err.hostname +\n          '\\'. This service may not be available in the `' + err.region +\n          '\\' region.';\n        this.response.error = AWS.util.error(new Error(message), {\n          code: 'UnknownEndpoint',\n          region: err.region,\n          hostname: err.hostname,\n          retryable: true,\n          originalError: err\n        });\n      }\n    });\n  }),\n\n  Logger: new SequentialExecutor().addNamedListeners(function(add) {\n    add('LOG_REQUEST', 'complete', function LOG_REQUEST(resp) {\n      var req = resp.request;\n      var logger = req.service.config.logger;\n      if (!logger) return;\n      function filterSensitiveLog(inputShape, shape) {\n        if (!shape) {\n          return shape;\n        }\n        switch (inputShape.type) {\n          case 'structure':\n            var struct = {};\n            AWS.util.each(shape, function(subShapeName, subShape) {\n              if (Object.prototype.hasOwnProperty.call(inputShape.members, subShapeName)) {\n                struct[subShapeName] = filterSensitiveLog(inputShape.members[subShapeName], subShape);\n              } else {\n                struct[subShapeName] = subShape;\n              }\n            });\n            return struct;\n          case 'list':\n            var list = [];\n            AWS.util.arrayEach(shape, function(subShape, index) {\n              list.push(filterSensitiveLog(inputShape.member, subShape));\n            });\n            return list;\n          case 'map':\n            var map = {};\n            AWS.util.each(shape, function(key, value) {\n              map[key] = filterSensitiveLog(inputShape.value, value);\n            });\n            return map;\n          default:\n            if (inputShape.isSensitive) {\n              return '***SensitiveInformation***';\n            } else {\n              return shape;\n            }\n        }\n      }\n\n      function buildMessage() {\n        var time = resp.request.service.getSkewCorrectedDate().getTime();\n        var delta = (time - req.startTime.getTime()) / 1000;\n        var ansi = logger.isTTY ? true : false;\n        var status = resp.httpResponse.statusCode;\n        var censoredParams = req.params;\n        if (\n          req.service.api.operations &&\n              req.service.api.operations[req.operation] &&\n              req.service.api.operations[req.operation].input\n        ) {\n          var inputShape = req.service.api.operations[req.operation].input;\n          censoredParams = filterSensitiveLog(inputShape, req.params);\n        }\n        var params = require('util').inspect(censoredParams, true, null);\n        var message = '';\n        if (ansi) message += '\\x1B[33m';\n        message += '[AWS ' + req.service.serviceIdentifier + ' ' + status;\n        message += ' ' + delta.toString() + 's ' + resp.retryCount + ' retries]';\n        if (ansi) message += '\\x1B[0;1m';\n        message += ' ' + AWS.util.string.lowerFirst(req.operation);\n        message += '(' + params + ')';\n        if (ansi) message += '\\x1B[0m';\n        return message;\n      }\n\n      var line = buildMessage();\n      if (typeof logger.log === 'function') {\n        logger.log(line);\n      } else if (typeof logger.write === 'function') {\n        logger.write(line + '\\n');\n      }\n    });\n  }),\n\n  Json: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Rest: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestJson: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_json');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  RestXml: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/rest_xml');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  }),\n\n  Query: new SequentialExecutor().addNamedListeners(function(add) {\n    var svc = require('./protocol/query');\n    add('BUILD', 'build', svc.buildRequest);\n    add('EXTRACT_DATA', 'extractData', svc.extractData);\n    add('EXTRACT_ERROR', 'extractError', svc.extractError);\n  })\n};\n","var AWS = require('./core');\nvar util = require('./util');\nvar endpointDiscoveryEnabledEnvs = ['AWS_ENABLE_ENDPOINT_DISCOVERY', 'AWS_ENDPOINT_DISCOVERY_ENABLED'];\n\n/**\n * Generate key (except resources and operation part) to index the endpoints in the cache\n * If input shape has endpointdiscoveryid trait then use\n *   accessKey + operation + resources + region + service as cache key\n * If input shape doesn't have endpointdiscoveryid trait then use\n *   accessKey + region + service as cache key\n * @return [map<String,String>] object with keys to index endpoints.\n * @api private\n */\nfunction getCacheKey(request) {\n  var service = request.service;\n  var api = service.api || {};\n  var operations = api.operations;\n  var identifiers = {};\n  if (service.config.region) {\n    identifiers.region = service.config.region;\n  }\n  if (api.serviceId) {\n    identifiers.serviceId = api.serviceId;\n  }\n  if (service.config.credentials.accessKeyId) {\n    identifiers.accessKeyId = service.config.credentials.accessKeyId;\n  }\n  return identifiers;\n}\n\n/**\n * Recursive helper for marshallCustomIdentifiers().\n * Looks for required string input members that have 'endpointdiscoveryid' trait.\n * @api private\n */\nfunction marshallCustomIdentifiersHelper(result, params, shape) {\n  if (!shape || params === undefined || params === null) return;\n  if (shape.type === 'structure' && shape.required && shape.required.length > 0) {\n    util.arrayEach(shape.required, function(name) {\n      var memberShape = shape.members[name];\n      if (memberShape.endpointDiscoveryId === true) {\n        var locationName = memberShape.isLocationName ? memberShape.name : name;\n        result[locationName] = String(params[name]);\n      } else {\n        marshallCustomIdentifiersHelper(result, params[name], memberShape);\n      }\n    });\n  }\n}\n\n/**\n * Get custom identifiers for cache key.\n * Identifies custom identifiers by checking each shape's `endpointDiscoveryId` trait.\n * @param [object] request object\n * @param [object] input shape of the given operation's api\n * @api private\n */\nfunction marshallCustomIdentifiers(request, shape) {\n  var identifiers = {};\n  marshallCustomIdentifiersHelper(identifiers, request.params, shape);\n  return identifiers;\n}\n\n/**\n * Call endpoint discovery operation when it's optional.\n * When endpoint is available in cache then use the cached endpoints. If endpoints\n * are unavailable then use regional endpoints and call endpoint discovery operation\n * asynchronously. This is turned off by default.\n * @param [object] request object\n * @api private\n */\nfunction optionalDiscoverEndpoint(request) {\n  var service = request.service;\n  var api = service.api;\n  var operationModel = api.operations ? api.operations[request.operation] : undefined;\n  var inputShape = operationModel ? operationModel.input : undefined;\n\n  var identifiers = marshallCustomIdentifiers(request, inputShape);\n  var cacheKey = getCacheKey(request);\n  if (Object.keys(identifiers).length > 0) {\n    cacheKey = util.update(cacheKey, identifiers);\n    if (operationModel) cacheKey.operation = operationModel.name;\n  }\n  var endpoints = AWS.endpointCache.get(cacheKey);\n  if (endpoints && endpoints.length === 1 && endpoints[0].Address === '') {\n    //endpoint operation is being made but response not yet received\n    //or endpoint operation just failed in 1 minute\n    return;\n  } else if (endpoints && endpoints.length > 0) {\n    //found endpoint record from cache\n    request.httpRequest.updateEndpoint(endpoints[0].Address);\n  } else {\n    //endpoint record not in cache or outdated. make discovery operation\n    var endpointRequest = service.makeRequest(api.endpointOperation, {\n      Operation: operationModel.name,\n      Identifiers: identifiers,\n    });\n    addApiVersionHeader(endpointRequest);\n    endpointRequest.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    endpointRequest.removeListener('retry', AWS.EventListeners.Core.RETRY_CHECK);\n    //put in a placeholder for endpoints already requested, prevent\n    //too much in-flight calls\n    AWS.endpointCache.put(cacheKey, [{\n      Address: '',\n      CachePeriodInMinutes: 1\n    }]);\n    endpointRequest.send(function(err, data) {\n      if (data && data.Endpoints) {\n        AWS.endpointCache.put(cacheKey, data.Endpoints);\n      } else if (err) {\n        AWS.endpointCache.put(cacheKey, [{\n          Address: '',\n          CachePeriodInMinutes: 1 //not to make more endpoint operation in next 1 minute\n        }]);\n      }\n    });\n  }\n}\n\nvar requestQueue = {};\n\n/**\n * Call endpoint discovery operation when it's required.\n * When endpoint is available in cache then use cached ones. If endpoints are\n * unavailable then SDK should call endpoint operation then use returned new\n * endpoint for the api call. SDK will automatically attempt to do endpoint\n * discovery. This is turned off by default\n * @param [object] request object\n * @api private\n */\nfunction requiredDiscoverEndpoint(request, done) {\n  var service = request.service;\n  var api = service.api;\n  var operationModel = api.operations ? api.operations[request.operation] : undefined;\n  var inputShape = operationModel ? operationModel.input : undefined;\n\n  var identifiers = marshallCustomIdentifiers(request, inputShape);\n  var cacheKey = getCacheKey(request);\n  if (Object.keys(identifiers).length > 0) {\n    cacheKey = util.update(cacheKey, identifiers);\n    if (operationModel) cacheKey.operation = operationModel.name;\n  }\n  var cacheKeyStr = AWS.EndpointCache.getKeyString(cacheKey);\n  var endpoints = AWS.endpointCache.get(cacheKeyStr); //endpoint cache also accepts string keys\n  if (endpoints && endpoints.length === 1 && endpoints[0].Address === '') {\n    //endpoint operation is being made but response not yet received\n    //push request object to a pending queue\n    if (!requestQueue[cacheKeyStr]) requestQueue[cacheKeyStr] = [];\n    requestQueue[cacheKeyStr].push({request: request, callback: done});\n    return;\n  } else if (endpoints && endpoints.length > 0) {\n    request.httpRequest.updateEndpoint(endpoints[0].Address);\n    done();\n  } else {\n    var endpointRequest = service.makeRequest(api.endpointOperation, {\n      Operation: operationModel.name,\n      Identifiers: identifiers,\n    });\n    endpointRequest.removeListener('validate', AWS.EventListeners.Core.VALIDATE_PARAMETERS);\n    addApiVersionHeader(endpointRequest);\n\n    //put in a placeholder for endpoints already requested, prevent\n    //too much in-flight calls\n    AWS.endpointCache.put(cacheKeyStr, [{\n      Address: '',\n      CachePeriodInMinutes: 60 //long-live cache\n    }]);\n    endpointRequest.send(function(err, data) {\n      if (err) {\n        request.response.error = util.error(err, { retryable: false });\n        AWS.endpointCache.remove(cacheKey);\n\n        //fail all the pending requests in batch\n        if (requestQueue[cacheKeyStr]) {\n          var pendingRequests = requestQueue[cacheKeyStr];\n          util.arrayEach(pendingRequests, function(requestContext) {\n            requestContext.request.response.error = util.error(err, { retryable: false });\n            requestContext.callback();\n          });\n          delete requestQueue[cacheKeyStr];\n        }\n      } else if (data) {\n        AWS.endpointCache.put(cacheKeyStr, data.Endpoints);\n        request.httpRequest.updateEndpoint(data.Endpoints[0].Address);\n\n        //update the endpoint for all the pending requests in batch\n        if (requestQueue[cacheKeyStr]) {\n          var pendingRequests = requestQueue[cacheKeyStr];\n          util.arrayEach(pendingRequests, function(requestContext) {\n            requestContext.request.httpRequest.updateEndpoint(data.Endpoints[0].Address);\n            requestContext.callback();\n          });\n          delete requestQueue[cacheKeyStr];\n        }\n      }\n      done();\n    });\n  }\n}\n\n/**\n * add api version header to endpoint operation\n * @api private\n */\nfunction addApiVersionHeader(endpointRequest) {\n  var api = endpointRequest.service.api;\n  var apiVersion = api.apiVersion;\n  if (apiVersion && !endpointRequest.httpRequest.headers['x-amz-api-version']) {\n    endpointRequest.httpRequest.headers['x-amz-api-version'] = apiVersion;\n  }\n}\n\n/**\n * If api call gets invalid endpoint exception, SDK should attempt to remove the invalid\n * endpoint from cache.\n * @api private\n */\nfunction invalidateCachedEndpoints(response) {\n  var error = response.error;\n  var httpResponse = response.httpResponse;\n  if (error &&\n    (error.code === 'InvalidEndpointException' || httpResponse.statusCode === 421)\n  ) {\n    var request = response.request;\n    var operations = request.service.api.operations || {};\n    var inputShape = operations[request.operation] ? operations[request.operation].input : undefined;\n    var identifiers = marshallCustomIdentifiers(request, inputShape);\n    var cacheKey = getCacheKey(request);\n    if (Object.keys(identifiers).length > 0) {\n      cacheKey = util.update(cacheKey, identifiers);\n      if (operations[request.operation]) cacheKey.operation = operations[request.operation].name;\n    }\n    AWS.endpointCache.remove(cacheKey);\n  }\n}\n\n/**\n * If endpoint is explicitly configured, SDK should not do endpoint discovery in anytime.\n * @param [object] client Service client object.\n * @api private\n */\nfunction hasCustomEndpoint(client) {\n  //if set endpoint is set for specific client, enable endpoint discovery will raise an error.\n  if (client._originalConfig && client._originalConfig.endpoint && client._originalConfig.endpointDiscoveryEnabled === true) {\n    throw util.error(new Error(), {\n      code: 'ConfigurationException',\n      message: 'Custom endpoint is supplied; endpointDiscoveryEnabled must not be true.'\n    });\n  };\n  var svcConfig = AWS.config[client.serviceIdentifier] || {};\n  return Boolean(AWS.config.endpoint || svcConfig.endpoint || (client._originalConfig && client._originalConfig.endpoint));\n}\n\n/**\n * @api private\n */\nfunction isFalsy(value) {\n  return ['false', '0'].indexOf(value) >= 0;\n}\n\n/**\n * If endpoint discovery should perform for this request when no operation requires endpoint\n * discovery for the given service.\n * SDK performs config resolution in order like below:\n * 1. If set in client configuration.\n * 2. If set in env AWS_ENABLE_ENDPOINT_DISCOVERY.\n * 3. If set in shared ini config file with key 'endpoint_discovery_enabled'.\n * @param [object] request request object.\n * @returns [boolean|undefined] if endpoint discovery config is not set in any source, this\n *  function returns undefined\n * @api private\n */\nfunction resolveEndpointDiscoveryConfig(request) {\n  var service = request.service || {};\n  if (service.config.endpointDiscoveryEnabled !== undefined) {\n    return service.config.endpointDiscoveryEnabled;\n  }\n\n  //shared ini file is only available in Node\n  //not to check env in browser\n  if (util.isBrowser()) return undefined;\n\n  // If any of recognized endpoint discovery config env is set\n  for (var i = 0; i < endpointDiscoveryEnabledEnvs.length; i++) {\n    var env = endpointDiscoveryEnabledEnvs[i];\n    if (Object.prototype.hasOwnProperty.call(process.env, env)) {\n      if (process.env[env] === '' || process.env[env] === undefined) {\n        throw util.error(new Error(), {\n          code: 'ConfigurationException',\n          message: 'environmental variable ' + env + ' cannot be set to nothing'\n        });\n      }\n      return !isFalsy(process.env[env]);\n    }\n  }\n\n  var configFile = {};\n  try {\n    configFile = AWS.util.iniLoader ? AWS.util.iniLoader.loadFrom({\n      isConfig: true,\n      filename: process.env[AWS.util.sharedConfigFileEnv]\n    }) : {};\n  } catch (e) {}\n  var sharedFileConfig = configFile[\n    process.env.AWS_PROFILE || AWS.util.defaultProfile\n  ] || {};\n  if (Object.prototype.hasOwnProperty.call(sharedFileConfig, 'endpoint_discovery_enabled')) {\n    if (sharedFileConfig.endpoint_discovery_enabled === undefined) {\n      throw util.error(new Error(), {\n        code: 'ConfigurationException',\n        message: 'config file entry \\'endpoint_discovery_enabled\\' cannot be set to nothing'\n      });\n    }\n    return !isFalsy(sharedFileConfig.endpoint_discovery_enabled);\n  }\n  return undefined;\n}\n\n/**\n * attach endpoint discovery logic to request object\n * @param [object] request\n * @api private\n */\nfunction discoverEndpoint(request, done) {\n  var service = request.service || {};\n  if (hasCustomEndpoint(service) || request.isPresigned()) return done();\n\n  var operations = service.api.operations || {};\n  var operationModel = operations[request.operation];\n  var isEndpointDiscoveryRequired = operationModel ? operationModel.endpointDiscoveryRequired : 'NULL';\n  var isEnabled = resolveEndpointDiscoveryConfig(request);\n  var hasRequiredEndpointDiscovery = service.api.hasRequiredEndpointDiscovery;\n  if (isEnabled || hasRequiredEndpointDiscovery) {\n    // Once a customer enables endpoint discovery, the SDK should start appending\n    // the string endpoint-discovery to the user-agent on all requests.\n    request.httpRequest.appendToUserAgent('endpoint-discovery');\n  }\n  switch (isEndpointDiscoveryRequired) {\n    case 'OPTIONAL':\n      if (isEnabled || hasRequiredEndpointDiscovery) {\n        // For a given service; if at least one operation requires endpoint discovery then the SDK must enable endpoint discovery\n        // by default for all operations of that service, including operations where endpoint discovery is optional.\n        optionalDiscoverEndpoint(request);\n        request.addNamedListener('INVALIDATE_CACHED_ENDPOINTS', 'extractError', invalidateCachedEndpoints);\n      }\n      done();\n      break;\n    case 'REQUIRED':\n      if (isEnabled === false) {\n        // For a given operation; if endpoint discovery is required and it has been disabled on the SDK client,\n        // then the SDK must return a clear and actionable exception.\n        request.response.error = util.error(new Error(), {\n          code: 'ConfigurationException',\n          message: 'Endpoint Discovery is disabled but ' + service.api.className + '.' + request.operation +\n                    '() requires it. Please check your configurations.'\n        });\n        done();\n        break;\n      }\n      request.addNamedListener('INVALIDATE_CACHED_ENDPOINTS', 'extractError', invalidateCachedEndpoints);\n      requiredDiscoverEndpoint(request, done);\n      break;\n    case 'NULL':\n    default:\n      done();\n      break;\n  }\n}\n\nmodule.exports = {\n  discoverEndpoint: discoverEndpoint,\n  requiredDiscoverEndpoint: requiredDiscoverEndpoint,\n  optionalDiscoverEndpoint: optionalDiscoverEndpoint,\n  marshallCustomIdentifiers: marshallCustomIdentifiers,\n  getCacheKey: getCacheKey,\n  invalidateCachedEndpoint: invalidateCachedEndpoints,\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar getOwnPropertyDescriptors = Object.getOwnPropertyDescriptors ||\n  function getOwnPropertyDescriptors(obj) {\n    var keys = Object.keys(obj);\n    var descriptors = {};\n    for (var i = 0; i < keys.length; i++) {\n      descriptors[keys[i]] = Object.getOwnPropertyDescriptor(obj, keys[i]);\n    }\n    return descriptors;\n  };\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  if (typeof process !== 'undefined' && process.noDeprecation === true) {\n    return fn;\n  }\n\n  // Allow for deprecating things in the process of starting up.\n  if (typeof process === 'undefined') {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nvar kCustomPromisifiedSymbol = typeof Symbol !== 'undefined' ? Symbol('util.promisify.custom') : undefined;\n\nexports.promisify = function promisify(original) {\n  if (typeof original !== 'function')\n    throw new TypeError('The \"original\" argument must be of type Function');\n\n  if (kCustomPromisifiedSymbol && original[kCustomPromisifiedSymbol]) {\n    var fn = original[kCustomPromisifiedSymbol];\n    if (typeof fn !== 'function') {\n      throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');\n    }\n    Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n      value: fn, enumerable: false, writable: false, configurable: true\n    });\n    return fn;\n  }\n\n  function fn() {\n    var promiseResolve, promiseReject;\n    var promise = new Promise(function (resolve, reject) {\n      promiseResolve = resolve;\n      promiseReject = reject;\n    });\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n    args.push(function (err, value) {\n      if (err) {\n        promiseReject(err);\n      } else {\n        promiseResolve(value);\n      }\n    });\n\n    try {\n      original.apply(this, args);\n    } catch (err) {\n      promiseReject(err);\n    }\n\n    return promise;\n  }\n\n  Object.setPrototypeOf(fn, Object.getPrototypeOf(original));\n\n  if (kCustomPromisifiedSymbol) Object.defineProperty(fn, kCustomPromisifiedSymbol, {\n    value: fn, enumerable: false, writable: false, configurable: true\n  });\n  return Object.defineProperties(\n    fn,\n    getOwnPropertyDescriptors(original)\n  );\n}\n\nexports.promisify.custom = kCustomPromisifiedSymbol\n\nfunction callbackifyOnRejected(reason, cb) {\n  // `!reason` guard inspired by bluebird (Ref: https://goo.gl/t5IS6M).\n  // Because `null` is a special error value in callbacks which means \"no error\n  // occurred\", we error-wrap so the callback consumer can distinguish between\n  // \"the promise rejected with null\" or \"the promise fulfilled with undefined\".\n  if (!reason) {\n    var newReason = new Error('Promise was rejected with a falsy value');\n    newReason.reason = reason;\n    reason = newReason;\n  }\n  return cb(reason);\n}\n\nfunction callbackify(original) {\n  if (typeof original !== 'function') {\n    throw new TypeError('The \"original\" argument must be of type Function');\n  }\n\n  // We DO NOT return the promise as it gives the user a false sense that\n  // the promise is actually somehow related to the callback's execution\n  // and that the callback throwing will reject the promise.\n  function callbackified() {\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args.push(arguments[i]);\n    }\n\n    var maybeCb = args.pop();\n    if (typeof maybeCb !== 'function') {\n      throw new TypeError('The last argument must be of type Function');\n    }\n    var self = this;\n    var cb = function() {\n      return maybeCb.apply(self, arguments);\n    };\n    // In true node style we process the callback on `nextTick` with all the\n    // implications (stack, `uncaughtException`, `async_hooks`)\n    original.apply(this, args)\n      .then(function(ret) { process.nextTick(cb, null, ret) },\n            function(rej) { process.nextTick(callbackifyOnRejected, rej, cb) });\n  }\n\n  Object.setPrototypeOf(callbackified, Object.getPrototypeOf(original));\n  Object.defineProperties(callbackified,\n                          getOwnPropertyDescriptors(original));\n  return callbackified;\n}\nexports.callbackify = callbackify;\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","var AWS = require('./core');\nvar AcceptorStateMachine = require('./state_machine');\nvar inherit = AWS.util.inherit;\nvar domain = AWS.util.domain;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nvar hardErrorStates = {success: 1, error: 1, complete: 1};\n\nfunction isTerminalState(machine) {\n  return Object.prototype.hasOwnProperty.call(hardErrorStates, machine._asm.currentState);\n}\n\nvar fsm = new AcceptorStateMachine();\nfsm.setupStates = function() {\n  var transition = function(_, done) {\n    var self = this;\n    self._haltHandlersOnError = false;\n\n    self.emit(self._asm.currentState, function(err) {\n      if (err) {\n        if (isTerminalState(self)) {\n          if (domain && self.domain instanceof domain.Domain) {\n            err.domainEmitter = self;\n            err.domain = self.domain;\n            err.domainThrown = false;\n            self.domain.emit('error', err);\n          } else {\n            throw err;\n          }\n        } else {\n          self.response.error = err;\n          done(err);\n        }\n      } else {\n        done(self.response.error);\n      }\n    });\n\n  };\n\n  this.addState('validate', 'build', 'error', transition);\n  this.addState('build', 'afterBuild', 'restart', transition);\n  this.addState('afterBuild', 'sign', 'restart', transition);\n  this.addState('sign', 'send', 'retry', transition);\n  this.addState('retry', 'afterRetry', 'afterRetry', transition);\n  this.addState('afterRetry', 'sign', 'error', transition);\n  this.addState('send', 'validateResponse', 'retry', transition);\n  this.addState('validateResponse', 'extractData', 'extractError', transition);\n  this.addState('extractError', 'extractData', 'retry', transition);\n  this.addState('extractData', 'success', 'retry', transition);\n  this.addState('restart', 'build', 'error', transition);\n  this.addState('success', 'complete', 'complete', transition);\n  this.addState('error', 'complete', 'complete', transition);\n  this.addState('complete', null, null, transition);\n};\nfsm.setupStates();\n\n/**\n * ## Asynchronous Requests\n *\n * All requests made through the SDK are asynchronous and use a\n * callback interface. Each service method that kicks off a request\n * returns an `AWS.Request` object that you can use to register\n * callbacks.\n *\n * For example, the following service method returns the request\n * object as \"request\", which can be used to register callbacks:\n *\n * ```javascript\n * // request is an AWS.Request object\n * var request = ec2.describeInstances();\n *\n * // register callbacks on request to retrieve response data\n * request.on('success', function(response) {\n *   console.log(response.data);\n * });\n * ```\n *\n * When a request is ready to be sent, the {send} method should\n * be called:\n *\n * ```javascript\n * request.send();\n * ```\n *\n * Since registered callbacks may or may not be idempotent, requests should only\n * be sent once. To perform the same operation multiple times, you will need to\n * create multiple request objects, each with its own registered callbacks.\n *\n * ## Removing Default Listeners for Events\n *\n * Request objects are built with default listeners for the various events,\n * depending on the service type. In some cases, you may want to remove\n * some built-in listeners to customize behaviour. Doing this requires\n * access to the built-in listener functions, which are exposed through\n * the {AWS.EventListeners.Core} namespace. For instance, you may\n * want to customize the HTTP handler used when sending a request. In this\n * case, you can remove the built-in listener associated with the 'send'\n * event, the {AWS.EventListeners.Core.SEND} listener and add your own.\n *\n * ## Multiple Callbacks and Chaining\n *\n * You can register multiple callbacks on any request object. The\n * callbacks can be registered for different events, or all for the\n * same event. In addition, you can chain callback registration, for\n * example:\n *\n * ```javascript\n * request.\n *   on('success', function(response) {\n *     console.log(\"Success!\");\n *   }).\n *   on('error', function(error, response) {\n *     console.log(\"Error!\");\n *   }).\n *   on('complete', function(response) {\n *     console.log(\"Always!\");\n *   }).\n *   send();\n * ```\n *\n * The above example will print either \"Success! Always!\", or \"Error! Always!\",\n * depending on whether the request succeeded or not.\n *\n * @!attribute httpRequest\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpRequest] the raw HTTP request object\n *     containing request headers and body information\n *     sent by the service.\n *\n * @!attribute startTime\n *   @readonly\n *   @!group Operation Properties\n *   @return [Date] the time that the request started\n *\n * @!group Request Building Events\n *\n * @!event validate(request)\n *   Triggered when a request is being validated. Listeners\n *   should throw an error if the request should not be sent.\n *   @param request [Request] the request object being sent\n *   @see AWS.EventListeners.Core.VALIDATE_CREDENTIALS\n *   @see AWS.EventListeners.Core.VALIDATE_REGION\n *   @example Ensuring that a certain parameter is set before sending a request\n *     var req = s3.putObject(params);\n *     req.on('validate', function() {\n *       if (!req.params.Body.match(/^Hello\\s/)) {\n *         throw new Error('Body must start with \"Hello \"');\n *       }\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event build(request)\n *   Triggered when the request payload is being built. Listeners\n *   should fill the necessary information to send the request\n *   over HTTP.\n *   @param (see AWS.Request~validate)\n *   @example Add a custom HTTP header to a request\n *     var req = s3.putObject(params);\n *     req.on('build', function() {\n *       req.httpRequest.headers['Custom-Header'] = 'value';\n *     });\n *     req.send(function(err, data) { ... });\n *\n * @!event sign(request)\n *   Triggered when the request is being signed. Listeners should\n *   add the correct authentication headers and/or adjust the body,\n *   depending on the authentication mechanism being used.\n *   @param (see AWS.Request~validate)\n *\n * @!group Request Sending Events\n *\n * @!event send(response)\n *   Triggered when the request is ready to be sent. Listeners\n *   should call the underlying transport layer to initiate\n *   the sending of the request.\n *   @param response [Response] the response object\n *   @context [Request] the request object that was sent\n *   @see AWS.EventListeners.Core.SEND\n *\n * @!event retry(response)\n *   Triggered when a request failed and might need to be retried or redirected.\n *   If the response is retryable, the listener should set the\n *   `response.error.retryable` property to `true`, and optionally set\n *   `response.error.retryDelay` to the millisecond delay for the next attempt.\n *   In the case of a redirect, `response.error.redirect` should be set to\n *   `true` with `retryDelay` set to an optional delay on the next request.\n *\n *   If a listener decides that a request should not be retried,\n *   it should set both `retryable` and `redirect` to false.\n *\n *   Note that a retryable error will be retried at most\n *   {AWS.Config.maxRetries} times (based on the service object's config).\n *   Similarly, a request that is redirected will only redirect at most\n *   {AWS.Config.maxRedirects} times.\n *\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @example Adding a custom retry for a 404 response\n *     request.on('retry', function(response) {\n *       // this resource is not yet available, wait 10 seconds to get it again\n *       if (response.httpResponse.statusCode === 404 && response.error) {\n *         response.error.retryable = true;   // retry this error\n *         response.error.retryDelay = 10000; // wait 10 seconds\n *       }\n *     });\n *\n * @!group Data Parsing Events\n *\n * @!event extractError(response)\n *   Triggered on all non-2xx requests so that listeners can extract\n *   error details from the response body. Listeners to this event\n *   should set the `response.error` property.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event extractData(response)\n *   Triggered in successful requests to allow listeners to\n *   de-serialize the response body into `response.data`.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group Completion Events\n *\n * @!event success(response)\n *   Triggered when the request completed successfully.\n *   `response.data` will contain the response data and\n *   `response.error` will be null.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event error(error, response)\n *   Triggered when an error occurs at any point during the\n *   request. `response.error` will contain details about the error\n *   that occurred. `response.data` will be null.\n *   @param error [Error] the error object containing details about\n *     the error that occurred.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event complete(response)\n *   Triggered whenever a request cycle completes. `response.error`\n *   should be checked, since the request may have failed.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!group HTTP Events\n *\n * @!event httpHeaders(statusCode, headers, response, statusMessage)\n *   Triggered when headers are sent by the remote server\n *   @param statusCode [Integer] the HTTP response code\n *   @param headers [map<String,String>] the response headers\n *   @param (see AWS.Request~send)\n *   @param statusMessage [String] A status message corresponding to the HTTP\n *                                 response code\n *   @context (see AWS.Request~send)\n *\n * @!event httpData(chunk, response)\n *   Triggered when data is sent by the remote server\n *   @param chunk [Buffer] the buffer data containing the next data chunk\n *     from the server\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @see AWS.EventListeners.Core.HTTP_DATA\n *\n * @!event httpUploadProgress(progress, response)\n *   Triggered when the HTTP request has uploaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpDownloadProgress(progress, response)\n *   Triggered when the HTTP request has downloaded more data\n *   @param progress [map] An object containing the `loaded` and `total` bytes\n *     of the request.\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *   @note This event will not be emitted in Node.js 0.8.x.\n *\n * @!event httpError(error, response)\n *   Triggered when the HTTP request failed\n *   @param error [Error] the error object that was thrown\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @!event httpDone(response)\n *   Triggered when the server is finished sending data\n *   @param (see AWS.Request~send)\n *   @context (see AWS.Request~send)\n *\n * @see AWS.Response\n */\nAWS.Request = inherit({\n\n  /**\n   * Creates a request for an operation on a given service with\n   * a set of input parameters.\n   *\n   * @param service [AWS.Service] the service to perform the operation on\n   * @param operation [String] the operation to perform on the service\n   * @param params [Object] parameters to send to the operation.\n   *   See the operation's documentation for the format of the\n   *   parameters.\n   */\n  constructor: function Request(service, operation, params) {\n    var endpoint = service.endpoint;\n    var region = service.config.region;\n    var customUserAgent = service.config.customUserAgent;\n\n    // global endpoints sign as us-east-1\n    if (service.isGlobalEndpoint) region = 'us-east-1';\n\n    this.domain = domain && domain.active;\n    this.service = service;\n    this.operation = operation;\n    this.params = params || {};\n    this.httpRequest = new AWS.HttpRequest(endpoint, region);\n    this.httpRequest.appendToUserAgent(customUserAgent);\n    this.startTime = service.getSkewCorrectedDate();\n\n    this.response = new AWS.Response(this);\n    this._asm = new AcceptorStateMachine(fsm.states, 'validate');\n    this._haltHandlersOnError = false;\n\n    AWS.SequentialExecutor.call(this);\n    this.emit = this.emitEvent;\n  },\n\n  /**\n   * @!group Sending a Request\n   */\n\n  /**\n   * @overload send(callback = null)\n   *   Sends the request object.\n   *\n   *   @callback callback function(err, data)\n   *     If a callback is supplied, it is called when a response is returned\n   *     from the service.\n   *     @context [AWS.Request] the request object being sent.\n   *     @param err [Error] the error object returned from the request.\n   *       Set to `null` if the request is successful.\n   *     @param data [Object] the de-serialized data returned from\n   *       the request. Set to `null` if a request error occurs.\n   *   @example Sending a request with a callback\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.send(function(err, data) { console.log(err, data); });\n   *   @example Sending a request with no callback (using event handlers)\n   *     request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     request.on('complete', function(response) { ... }); // register a callback\n   *     request.send();\n   */\n  send: function send(callback) {\n    if (callback) {\n      // append to user agent\n      this.httpRequest.appendToUserAgent('callback');\n      this.on('complete', function (resp) {\n        callback.call(resp, resp.error, resp.data);\n      });\n    }\n    this.runTo();\n\n    return this.response;\n  },\n\n  /**\n   * @!method  promise()\n   *   Sends the request and returns a 'thenable' promise.\n   *\n   *   Two callbacks can be provided to the `then` method on the returned promise.\n   *   The first callback will be called if the promise is fulfilled, and the second\n   *   callback will be called if the promise is rejected.\n   *   @callback fulfilledCallback function(data)\n   *     Called if the promise is fulfilled.\n   *     @param data [Object] the de-serialized data returned from the request.\n   *   @callback rejectedCallback function(error)\n   *     Called if the promise is rejected.\n   *     @param error [Error] the error object returned from the request.\n   *   @return [Promise] A promise that represents the state of the request.\n   *   @example Sending a request using promises.\n   *     var request = s3.putObject({Bucket: 'bucket', Key: 'key'});\n   *     var result = request.promise();\n   *     result.then(function(data) { ... }, function(error) { ... });\n   */\n\n  /**\n   * @api private\n   */\n  build: function build(callback) {\n    return this.runTo('send', callback);\n  },\n\n  /**\n   * @api private\n   */\n  runTo: function runTo(state, done) {\n    this._asm.runTo(state, done, this);\n    return this;\n  },\n\n  /**\n   * Aborts a request, emitting the error and complete events.\n   *\n   * @!macro nobrowser\n   * @example Aborting a request after sending\n   *   var params = {\n   *     Bucket: 'bucket', Key: 'key',\n   *     Body: Buffer.alloc(1024 * 1024 * 5) // 5MB payload\n   *   };\n   *   var request = s3.putObject(params);\n   *   request.send(function (err, data) {\n   *     if (err) console.log(\"Error:\", err.code, err.message);\n   *     else console.log(data);\n   *   });\n   *\n   *   // abort request in 1 second\n   *   setTimeout(request.abort.bind(request), 1000);\n   *\n   *   // prints \"Error: RequestAbortedError Request aborted by user\"\n   * @return [AWS.Request] the same request object, for chaining.\n   * @since v1.4.0\n   */\n  abort: function abort() {\n    this.removeAllListeners('validateResponse');\n    this.removeAllListeners('extractError');\n    this.on('validateResponse', function addAbortedError(resp) {\n      resp.error = AWS.util.error(new Error('Request aborted by user'), {\n         code: 'RequestAbortedError', retryable: false\n      });\n    });\n\n    if (this.httpRequest.stream && !this.httpRequest.stream.didCallback) { // abort HTTP stream\n      this.httpRequest.stream.abort();\n      if (this.httpRequest._abortCallback) {\n         this.httpRequest._abortCallback();\n      } else {\n        this.removeAllListeners('send'); // haven't sent yet, so let's not\n      }\n    }\n\n    return this;\n  },\n\n  /**\n   * Iterates over each page of results given a pageable request, calling\n   * the provided callback with each page of data. After all pages have been\n   * retrieved, the callback is called with `null` data.\n   *\n   * @note This operation can generate multiple requests to a service.\n   * @example Iterating over multiple pages of objects in an S3 bucket\n   *   var pages = 1;\n   *   s3.listObjects().eachPage(function(err, data) {\n   *     if (err) return;\n   *     console.log(\"Page\", pages++);\n   *     console.log(data);\n   *   });\n   * @example Iterating over multiple pages with an asynchronous callback\n   *   s3.listObjects(params).eachPage(function(err, data, done) {\n   *     doSomethingAsyncAndOrExpensive(function() {\n   *       // The next page of results isn't fetched until done is called\n   *       done();\n   *     });\n   *   });\n   * @callback callback function(err, data, [doneCallback])\n   *   Called with each page of resulting data from the request. If the\n   *   optional `doneCallback` is provided in the function, it must be called\n   *   when the callback is complete.\n   *\n   *   @param err [Error] an error object, if an error occurred.\n   *   @param data [Object] a single page of response data. If there is no\n   *     more data, this object will be `null`.\n   *   @param doneCallback [Function] an optional done callback. If this\n   *     argument is defined in the function declaration, it should be called\n   *     when the next page is ready to be retrieved. This is useful for\n   *     controlling serial pagination across asynchronous operations.\n   *   @return [Boolean] if the callback returns `false`, pagination will\n   *     stop.\n   *\n   * @see AWS.Request.eachItem\n   * @see AWS.Response.nextPage\n   * @since v1.4.0\n   */\n  eachPage: function eachPage(callback) {\n    // Make all callbacks async-ish\n    callback = AWS.util.fn.makeAsync(callback, 3);\n\n    function wrappedCallback(response) {\n      callback.call(response, response.error, response.data, function (result) {\n        if (result === false) return;\n\n        if (response.hasNextPage()) {\n          response.nextPage().on('complete', wrappedCallback).send();\n        } else {\n          callback.call(response, null, null, AWS.util.fn.noop);\n        }\n      });\n    }\n\n    this.on('complete', wrappedCallback).send();\n  },\n\n  /**\n   * Enumerates over individual items of a request, paging the responses if\n   * necessary.\n   *\n   * @api experimental\n   * @since v1.4.0\n   */\n  eachItem: function eachItem(callback) {\n    var self = this;\n    function wrappedCallback(err, data) {\n      if (err) return callback(err, null);\n      if (data === null) return callback(null, null);\n\n      var config = self.service.paginationConfig(self.operation);\n      var resultKey = config.resultKey;\n      if (Array.isArray(resultKey)) resultKey = resultKey[0];\n      var items = jmespath.search(data, resultKey);\n      var continueIteration = true;\n      AWS.util.arrayEach(items, function(item) {\n        continueIteration = callback(null, item);\n        if (continueIteration === false) {\n          return AWS.util.abort;\n        }\n      });\n      return continueIteration;\n    }\n\n    this.eachPage(wrappedCallback);\n  },\n\n  /**\n   * @return [Boolean] whether the operation can return multiple pages of\n   *   response data.\n   * @see AWS.Response.eachPage\n   * @since v1.4.0\n   */\n  isPageable: function isPageable() {\n    return this.service.paginationConfig(this.operation) ? true : false;\n  },\n\n  /**\n   * Sends the request and converts the request object into a readable stream\n   * that can be read from or piped into a writable stream.\n   *\n   * @note The data read from a readable stream contains only\n   *   the raw HTTP body contents.\n   * @example Manually reading from a stream\n   *   request.createReadStream().on('data', function(data) {\n   *     console.log(\"Got data:\", data.toString());\n   *   });\n   * @example Piping a request body into a file\n   *   var out = fs.createWriteStream('/path/to/outfile.jpg');\n   *   s3.service.getObject(params).createReadStream().pipe(out);\n   * @return [Stream] the readable stream object that can be piped\n   *   or read from (by registering 'data' event listeners).\n   * @!macro nobrowser\n   */\n  createReadStream: function createReadStream() {\n    var streams = AWS.util.stream;\n    var req = this;\n    var stream = null;\n\n    if (AWS.HttpClient.streamsApiVersion === 2) {\n      stream = new streams.PassThrough();\n      process.nextTick(function() { req.send(); });\n    } else {\n      stream = new streams.Stream();\n      stream.readable = true;\n\n      stream.sent = false;\n      stream.on('newListener', function(event) {\n        if (!stream.sent && event === 'data') {\n          stream.sent = true;\n          process.nextTick(function() { req.send(); });\n        }\n      });\n    }\n\n    this.on('error', function(err) {\n      stream.emit('error', err);\n    });\n\n    this.on('httpHeaders', function streamHeaders(statusCode, headers, resp) {\n      if (statusCode < 300) {\n        req.removeListener('httpData', AWS.EventListeners.Core.HTTP_DATA);\n        req.removeListener('httpError', AWS.EventListeners.Core.HTTP_ERROR);\n        req.on('httpError', function streamHttpError(error) {\n          resp.error = error;\n          resp.error.retryable = false;\n        });\n\n        var shouldCheckContentLength = false;\n        var expectedLen;\n        if (req.httpRequest.method !== 'HEAD') {\n          expectedLen = parseInt(headers['content-length'], 10);\n        }\n        if (expectedLen !== undefined && !isNaN(expectedLen) && expectedLen >= 0) {\n          shouldCheckContentLength = true;\n          var receivedLen = 0;\n        }\n\n        var checkContentLengthAndEmit = function checkContentLengthAndEmit() {\n          if (shouldCheckContentLength && receivedLen !== expectedLen) {\n            stream.emit('error', AWS.util.error(\n              new Error('Stream content length mismatch. Received ' +\n                receivedLen + ' of ' + expectedLen + ' bytes.'),\n              { code: 'StreamContentLengthMismatch' }\n            ));\n          } else if (AWS.HttpClient.streamsApiVersion === 2) {\n            stream.end();\n          } else {\n            stream.emit('end');\n          }\n        };\n\n        var httpStream = resp.httpResponse.createUnbufferedStream();\n\n        if (AWS.HttpClient.streamsApiVersion === 2) {\n          if (shouldCheckContentLength) {\n            var lengthAccumulator = new streams.PassThrough();\n            lengthAccumulator._write = function(chunk) {\n              if (chunk && chunk.length) {\n                receivedLen += chunk.length;\n              }\n              return streams.PassThrough.prototype._write.apply(this, arguments);\n            };\n\n            lengthAccumulator.on('end', checkContentLengthAndEmit);\n            stream.on('error', function(err) {\n              shouldCheckContentLength = false;\n              httpStream.unpipe(lengthAccumulator);\n              lengthAccumulator.emit('end');\n              lengthAccumulator.end();\n            });\n            httpStream.pipe(lengthAccumulator).pipe(stream, { end: false });\n          } else {\n            httpStream.pipe(stream);\n          }\n        } else {\n\n          if (shouldCheckContentLength) {\n            httpStream.on('data', function(arg) {\n              if (arg && arg.length) {\n                receivedLen += arg.length;\n              }\n            });\n          }\n\n          httpStream.on('data', function(arg) {\n            stream.emit('data', arg);\n          });\n          httpStream.on('end', checkContentLengthAndEmit);\n        }\n\n        httpStream.on('error', function(err) {\n          shouldCheckContentLength = false;\n          stream.emit('error', err);\n        });\n      }\n    });\n\n    return stream;\n  },\n\n  /**\n   * @param [Array,Response] args This should be the response object,\n   *   or an array of args to send to the event.\n   * @api private\n   */\n  emitEvent: function emit(eventName, args, done) {\n    if (typeof args === 'function') { done = args; args = null; }\n    if (!done) done = function() { };\n    if (!args) args = this.eventParameters(eventName, this.response);\n\n    var origEmit = AWS.SequentialExecutor.prototype.emit;\n    origEmit.call(this, eventName, args, function (err) {\n      if (err) this.response.error = err;\n      done.call(this, err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  eventParameters: function eventParameters(eventName) {\n    switch (eventName) {\n      case 'restart':\n      case 'validate':\n      case 'sign':\n      case 'build':\n      case 'afterValidate':\n      case 'afterBuild':\n        return [this];\n      case 'error':\n        return [this.response.error, this.response];\n      default:\n        return [this.response];\n    }\n  },\n\n  /**\n   * @api private\n   */\n  presign: function presign(expires, callback) {\n    if (!callback && typeof expires === 'function') {\n      callback = expires;\n      expires = null;\n    }\n    return new AWS.Signers.Presign().sign(this.toGet(), expires, callback);\n  },\n\n  /**\n   * @api private\n   */\n  isPresigned: function isPresigned() {\n    return Object.prototype.hasOwnProperty.call(this.httpRequest.headers, 'presigned-expires');\n  },\n\n  /**\n   * @api private\n   */\n  toUnauthenticated: function toUnauthenticated() {\n    this._unAuthenticated = true;\n    this.removeListener('validate', AWS.EventListeners.Core.VALIDATE_CREDENTIALS);\n    this.removeListener('sign', AWS.EventListeners.Core.SIGN);\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  toGet: function toGet() {\n    if (this.service.api.protocol === 'query' ||\n        this.service.api.protocol === 'ec2') {\n      this.removeListener('build', this.buildAsGet);\n      this.addListener('build', this.buildAsGet);\n    }\n    return this;\n  },\n\n  /**\n   * @api private\n   */\n  buildAsGet: function buildAsGet(request) {\n    request.httpRequest.method = 'GET';\n    request.httpRequest.path = request.service.endpoint.path +\n                               '?' + request.httpRequest.body;\n    request.httpRequest.body = '';\n\n    // don't need these headers on a GET request\n    delete request.httpRequest.headers['Content-Length'];\n    delete request.httpRequest.headers['Content-Type'];\n  },\n\n  /**\n   * @api private\n   */\n  haltHandlersOnError: function haltHandlersOnError() {\n    this._haltHandlersOnError = true;\n  }\n});\n\n/**\n * @api private\n */\nAWS.Request.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n  this.prototype.promise = function promise() {\n    var self = this;\n    // append to user agent\n    this.httpRequest.appendToUserAgent('promise');\n    return new PromiseDependency(function(resolve, reject) {\n      self.on('complete', function(resp) {\n        if (resp.error) {\n          reject(resp.error);\n        } else {\n          // define $response property so that it is not enumberable\n          // this prevents circular reference errors when stringifying the JSON object\n          resolve(Object.defineProperty(\n            resp.data || {},\n            '$response',\n            {value: resp}\n          ));\n        }\n      });\n      self.runTo();\n    });\n  };\n};\n\n/**\n * @api private\n */\nAWS.Request.deletePromisesFromClass = function deletePromisesFromClass() {\n  delete this.prototype.promise;\n};\n\nAWS.util.addPromises(AWS.Request);\n\nAWS.util.mixin(AWS.Request, AWS.SequentialExecutor);\n","function AcceptorStateMachine(states, state) {\n  this.currentState = state || null;\n  this.states = states || {};\n}\n\nAcceptorStateMachine.prototype.runTo = function runTo(finalState, done, bindObject, inputError) {\n  if (typeof finalState === 'function') {\n    inputError = bindObject; bindObject = done;\n    done = finalState; finalState = null;\n  }\n\n  var self = this;\n  var state = self.states[self.currentState];\n  state.fn.call(bindObject || self, inputError, function(err) {\n    if (err) {\n      if (state.fail) self.currentState = state.fail;\n      else return done ? done.call(bindObject, err) : null;\n    } else {\n      if (state.accept) self.currentState = state.accept;\n      else return done ? done.call(bindObject) : null;\n    }\n    if (self.currentState === finalState) {\n      return done ? done.call(bindObject, err) : null;\n    }\n\n    self.runTo(finalState, done, bindObject, err);\n  });\n};\n\nAcceptorStateMachine.prototype.addState = function addState(name, acceptState, failState, fn) {\n  if (typeof acceptState === 'function') {\n    fn = acceptState; acceptState = null; failState = null;\n  } else if (typeof failState === 'function') {\n    fn = failState; failState = null;\n  }\n\n  if (!this.currentState) this.currentState = name;\n  this.states[name] = { accept: acceptState, fail: failState, fn: fn };\n  return this;\n};\n\n/**\n * @api private\n */\nmodule.exports = AcceptorStateMachine;\n","var AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * This class encapsulates the response information\n * from a service request operation sent through {AWS.Request}.\n * The response object has two main properties for getting information\n * back from a request:\n *\n * ## The `data` property\n *\n * The `response.data` property contains the serialized object data\n * retrieved from the service request. For instance, for an\n * Amazon DynamoDB `listTables` method call, the response data might\n * look like:\n *\n * ```\n * > resp.data\n * { TableNames:\n *    [ 'table1', 'table2', ... ] }\n * ```\n *\n * The `data` property can be null if an error occurs (see below).\n *\n * ## The `error` property\n *\n * In the event of a service error (or transfer error), the\n * `response.error` property will be filled with the given\n * error data in the form:\n *\n * ```\n * { code: 'SHORT_UNIQUE_ERROR_CODE',\n *   message: 'Some human readable error message' }\n * ```\n *\n * In the case of an error, the `data` property will be `null`.\n * Note that if you handle events that can be in a failure state,\n * you should always check whether `response.error` is set\n * before attempting to access the `response.data` property.\n *\n * @!attribute data\n *   @readonly\n *   @!group Data Properties\n *   @note Inside of a {AWS.Request~httpData} event, this\n *     property contains a single raw packet instead of the\n *     full de-serialized service response.\n *   @return [Object] the de-serialized response data\n *     from the service.\n *\n * @!attribute error\n *   An structure containing information about a service\n *   or networking error.\n *   @readonly\n *   @!group Data Properties\n *   @note This attribute is only filled if a service or\n *     networking error occurs.\n *   @return [Error]\n *     * code [String] a unique short code representing the\n *       error that was emitted.\n *     * message [String] a longer human readable error message\n *     * retryable [Boolean] whether the error message is\n *       retryable.\n *     * statusCode [Numeric] in the case of a request that reached the service,\n *       this value contains the response status code.\n *     * time [Date] the date time object when the error occurred.\n *     * hostname [String] set when a networking error occurs to easily\n *       identify the endpoint of the request.\n *     * region [String] set when a networking error occurs to easily\n *       identify the region of the request.\n *\n * @!attribute requestId\n *   @readonly\n *   @!group Data Properties\n *   @return [String] the unique request ID associated with the response.\n *     Log this value when debugging requests for AWS support.\n *\n * @!attribute retryCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of retries that were\n *     attempted before the request was completed.\n *\n * @!attribute redirectCount\n *   @readonly\n *   @!group Operation Properties\n *   @return [Integer] the number of redirects that were\n *     followed before the request was completed.\n *\n * @!attribute httpResponse\n *   @readonly\n *   @!group HTTP Properties\n *   @return [AWS.HttpResponse] the raw HTTP response object\n *     containing the response headers and body information\n *     from the server.\n *\n * @see AWS.Request\n */\nAWS.Response = inherit({\n\n  /**\n   * @api private\n   */\n  constructor: function Response(request) {\n    this.request = request;\n    this.data = null;\n    this.error = null;\n    this.retryCount = 0;\n    this.redirectCount = 0;\n    this.httpResponse = new AWS.HttpResponse();\n    if (request) {\n      this.maxRetries = request.service.numRetries();\n      this.maxRedirects = request.service.config.maxRedirects;\n    }\n  },\n\n  /**\n   * Creates a new request for the next page of response data, calling the\n   * callback with the page data if a callback is provided.\n   *\n   * @callback callback function(err, data)\n   *   Called when a page of data is returned from the next request.\n   *\n   *   @param err [Error] an error object, if an error occurred in the request\n   *   @param data [Object] the next page of data, or null, if there are no\n   *     more pages left.\n   * @return [AWS.Request] the request object for the next page of data\n   * @return [null] if no callback is provided and there are no pages left\n   *   to retrieve.\n   * @since v1.4.0\n   */\n  nextPage: function nextPage(callback) {\n    var config;\n    var service = this.request.service;\n    var operation = this.request.operation;\n    try {\n      config = service.paginationConfig(operation, true);\n    } catch (e) { this.error = e; }\n\n    if (!this.hasNextPage()) {\n      if (callback) callback(this.error, null);\n      else if (this.error) throw this.error;\n      return null;\n    }\n\n    var params = AWS.util.copy(this.request.params);\n    if (!this.nextPageTokens) {\n      return callback ? callback(null, null) : null;\n    } else {\n      var inputTokens = config.inputToken;\n      if (typeof inputTokens === 'string') inputTokens = [inputTokens];\n      for (var i = 0; i < inputTokens.length; i++) {\n        params[inputTokens[i]] = this.nextPageTokens[i];\n      }\n      return service.makeRequest(this.request.operation, params, callback);\n    }\n  },\n\n  /**\n   * @return [Boolean] whether more pages of data can be returned by further\n   *   requests\n   * @since v1.4.0\n   */\n  hasNextPage: function hasNextPage() {\n    this.cacheNextPageTokens();\n    if (this.nextPageTokens) return true;\n    if (this.nextPageTokens === undefined) return undefined;\n    else return false;\n  },\n\n  /**\n   * @api private\n   */\n  cacheNextPageTokens: function cacheNextPageTokens() {\n    if (Object.prototype.hasOwnProperty.call(this, 'nextPageTokens')) return this.nextPageTokens;\n    this.nextPageTokens = undefined;\n\n    var config = this.request.service.paginationConfig(this.request.operation);\n    if (!config) return this.nextPageTokens;\n\n    this.nextPageTokens = null;\n    if (config.moreResults) {\n      if (!jmespath.search(this.data, config.moreResults)) {\n        return this.nextPageTokens;\n      }\n    }\n\n    var exprs = config.outputToken;\n    if (typeof exprs === 'string') exprs = [exprs];\n    AWS.util.arrayEach.call(this, exprs, function (expr) {\n      var output = jmespath.search(this.data, expr);\n      if (output) {\n        this.nextPageTokens = this.nextPageTokens || [];\n        this.nextPageTokens.push(output);\n      }\n    });\n\n    return this.nextPageTokens;\n  }\n\n});\n","/**\n * Copyright 2012-2013 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"). You\n * may not use this file except in compliance with the License. A copy of\n * the License is located at\n *\n *     http://aws.amazon.com/apache2.0/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific\n * language governing permissions and limitations under the License.\n */\n\nvar AWS = require('./core');\nvar inherit = AWS.util.inherit;\nvar jmespath = require('jmespath');\n\n/**\n * @api private\n */\nfunction CHECK_ACCEPTORS(resp) {\n  var waiter = resp.request._waiter;\n  var acceptors = waiter.config.acceptors;\n  var acceptorMatched = false;\n  var state = 'retry';\n\n  acceptors.forEach(function(acceptor) {\n    if (!acceptorMatched) {\n      var matcher = waiter.matchers[acceptor.matcher];\n      if (matcher && matcher(resp, acceptor.expected, acceptor.argument)) {\n        acceptorMatched = true;\n        state = acceptor.state;\n      }\n    }\n  });\n\n  if (!acceptorMatched && resp.error) state = 'failure';\n\n  if (state === 'success') {\n    waiter.setSuccess(resp);\n  } else {\n    waiter.setError(resp, state === 'retry');\n  }\n}\n\n/**\n * @api private\n */\nAWS.ResourceWaiter = inherit({\n  /**\n   * Waits for a given state on a service object\n   * @param service [Service] the service object to wait on\n   * @param state [String] the state (defined in waiter configuration) to wait\n   *   for.\n   * @example Create a waiter for running EC2 instances\n   *   var ec2 = new AWS.EC2;\n   *   var waiter = new AWS.ResourceWaiter(ec2, 'instanceRunning');\n   */\n  constructor: function constructor(service, state) {\n    this.service = service;\n    this.state = state;\n    this.loadWaiterConfig(this.state);\n  },\n\n  service: null,\n\n  state: null,\n\n  config: null,\n\n  matchers: {\n    path: function(resp, expected, argument) {\n      try {\n        var result = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      return jmespath.strictDeepEqual(result,expected);\n    },\n\n    pathAll: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      if (!numResults) return false;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (!jmespath.strictDeepEqual(results[ind], expected)) {\n          return false;\n        }\n      }\n      return true;\n    },\n\n    pathAny: function(resp, expected, argument) {\n      try {\n        var results = jmespath.search(resp.data, argument);\n      } catch (err) {\n        return false;\n      }\n\n      if (!Array.isArray(results)) results = [results];\n      var numResults = results.length;\n      for (var ind = 0 ; ind < numResults; ind++) {\n        if (jmespath.strictDeepEqual(results[ind], expected)) {\n          return true;\n        }\n      }\n      return false;\n    },\n\n    status: function(resp, expected) {\n      var statusCode = resp.httpResponse.statusCode;\n      return (typeof statusCode === 'number') && (statusCode === expected);\n    },\n\n    error: function(resp, expected) {\n      if (typeof expected === 'string' && resp.error) {\n        return expected === resp.error.code;\n      }\n      // if expected is not string, can be boolean indicating presence of error\n      return expected === !!resp.error;\n    }\n  },\n\n  listeners: new AWS.SequentialExecutor().addNamedListeners(function(add) {\n    add('RETRY_CHECK', 'retry', function(resp) {\n      var waiter = resp.request._waiter;\n      if (resp.error && resp.error.code === 'ResourceNotReady') {\n        resp.error.retryDelay = (waiter.config.delay || 0) * 1000;\n      }\n    });\n\n    add('CHECK_OUTPUT', 'extractData', CHECK_ACCEPTORS);\n\n    add('CHECK_ERROR', 'extractError', CHECK_ACCEPTORS);\n  }),\n\n  /**\n   * @return [AWS.Request]\n   */\n  wait: function wait(params, callback) {\n    if (typeof params === 'function') {\n      callback = params; params = undefined;\n    }\n\n    if (params && params.$waiter) {\n      params = AWS.util.copy(params);\n      if (typeof params.$waiter.delay === 'number') {\n        this.config.delay = params.$waiter.delay;\n      }\n      if (typeof params.$waiter.maxAttempts === 'number') {\n        this.config.maxAttempts = params.$waiter.maxAttempts;\n      }\n      delete params.$waiter;\n    }\n\n    var request = this.service.makeRequest(this.config.operation, params);\n    request._waiter = this;\n    request.response.maxRetries = this.config.maxAttempts;\n    request.addListeners(this.listeners);\n\n    if (callback) request.send(callback);\n    return request;\n  },\n\n  setSuccess: function setSuccess(resp) {\n    resp.error = null;\n    resp.data = resp.data || {};\n    resp.request.removeAllListeners('extractData');\n  },\n\n  setError: function setError(resp, retryable) {\n    resp.data = null;\n    resp.error = AWS.util.error(resp.error || new Error(), {\n      code: 'ResourceNotReady',\n      message: 'Resource is not in the state ' + this.state,\n      retryable: retryable\n    });\n  },\n\n  /**\n   * Loads waiter configuration from API configuration\n   *\n   * @api private\n   */\n  loadWaiterConfig: function loadWaiterConfig(state) {\n    if (!this.service.api.waiters[state]) {\n      throw new AWS.util.error(new Error(), {\n        code: 'StateNotFoundError',\n        message: 'State ' + state + ' not found.'\n      });\n    }\n\n    this.config = AWS.util.copy(this.service.api.waiters[state]);\n  }\n});\n","var AWS = require('../core');\n\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.RequestSigner = inherit({\n  constructor: function RequestSigner(request) {\n    this.request = request;\n  },\n\n  setServiceClientId: function setServiceClientId(id) {\n    this.serviceClientId = id;\n  },\n\n  getServiceClientId: function getServiceClientId() {\n    return this.serviceClientId;\n  }\n});\n\nAWS.Signers.RequestSigner.getVersion = function getVersion(version) {\n  switch (version) {\n    case 'v2': return AWS.Signers.V2;\n    case 'v3': return AWS.Signers.V3;\n    case 's3v4': return AWS.Signers.V4;\n    case 'v4': return AWS.Signers.V4;\n    case 's3': return AWS.Signers.S3;\n    case 'v3https': return AWS.Signers.V3Https;\n  }\n  throw new Error('Unknown signing version ' + version);\n};\n\nrequire('./v2');\nrequire('./v3');\nrequire('./v3https');\nrequire('./v4');\nrequire('./s3');\nrequire('./presign');\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.V2 = inherit(AWS.Signers.RequestSigner, {\n  addAuthorization: function addAuthorization(credentials, date) {\n\n    if (!date) date = AWS.util.date.getDate();\n\n    var r = this.request;\n\n    r.params.Timestamp = AWS.util.date.iso8601(date);\n    r.params.SignatureVersion = '2';\n    r.params.SignatureMethod = 'HmacSHA256';\n    r.params.AWSAccessKeyId = credentials.accessKeyId;\n\n    if (credentials.sessionToken) {\n      r.params.SecurityToken = credentials.sessionToken;\n    }\n\n    delete r.params.Signature; // delete old Signature for re-signing\n    r.params.Signature = this.signature(credentials);\n\n    r.body = AWS.util.queryParamsToString(r.params);\n    r.headers['Content-Length'] = r.body.length;\n  },\n\n  signature: function signature(credentials) {\n    return AWS.util.crypto.hmac(credentials.secretAccessKey, this.stringToSign(), 'base64');\n  },\n\n  stringToSign: function stringToSign() {\n    var parts = [];\n    parts.push(this.request.method);\n    parts.push(this.request.endpoint.host.toLowerCase());\n    parts.push(this.request.pathname());\n    parts.push(AWS.util.queryParamsToString(this.request.params));\n    return parts.join('\\n');\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V2;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\nrequire('./v3');\n\n/**\n * @api private\n */\nAWS.Signers.V3Https = inherit(AWS.Signers.V3, {\n  authorization: function authorization(credentials) {\n    return 'AWS3-HTTPS ' +\n      'AWSAccessKeyId=' + credentials.accessKeyId + ',' +\n      'Algorithm=HmacSHA256,' +\n      'Signature=' + this.signature(credentials);\n  },\n\n  stringToSign: function stringToSign() {\n    return this.request.headers['X-Amz-Date'];\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V3Https;\n","var AWS = require('../core');\nvar v4Credentials = require('./v4_credentials');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nAWS.Signers.V4 = inherit(AWS.Signers.RequestSigner, {\n  constructor: function V4(request, serviceName, options) {\n    AWS.Signers.RequestSigner.call(this, request);\n    this.serviceName = serviceName;\n    options = options || {};\n    this.signatureCache = typeof options.signatureCache === 'boolean' ? options.signatureCache : true;\n    this.operation = options.operation;\n    this.signatureVersion = options.signatureVersion;\n  },\n\n  algorithm: 'AWS4-HMAC-SHA256',\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    var datetime = AWS.util.date.iso8601(date).replace(/[:\\-]|\\.\\d{3}/g, '');\n\n    if (this.isPresigned()) {\n      this.updateForPresigned(credentials, datetime);\n    } else {\n      this.addHeaders(credentials, datetime);\n    }\n\n    this.request.headers['Authorization'] =\n      this.authorization(credentials, datetime);\n  },\n\n  addHeaders: function addHeaders(credentials, datetime) {\n    this.request.headers['X-Amz-Date'] = datetime;\n    if (credentials.sessionToken) {\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n  },\n\n  updateForPresigned: function updateForPresigned(credentials, datetime) {\n    var credString = this.credentialString(datetime);\n    var qs = {\n      'X-Amz-Date': datetime,\n      'X-Amz-Algorithm': this.algorithm,\n      'X-Amz-Credential': credentials.accessKeyId + '/' + credString,\n      'X-Amz-Expires': this.request.headers[expiresHeader],\n      'X-Amz-SignedHeaders': this.signedHeaders()\n    };\n\n    if (credentials.sessionToken) {\n      qs['X-Amz-Security-Token'] = credentials.sessionToken;\n    }\n\n    if (this.request.headers['Content-Type']) {\n      qs['Content-Type'] = this.request.headers['Content-Type'];\n    }\n    if (this.request.headers['Content-MD5']) {\n      qs['Content-MD5'] = this.request.headers['Content-MD5'];\n    }\n    if (this.request.headers['Cache-Control']) {\n      qs['Cache-Control'] = this.request.headers['Cache-Control'];\n    }\n\n    // need to pull in any other X-Amz-* headers\n    AWS.util.each.call(this, this.request.headers, function(key, value) {\n      if (key === expiresHeader) return;\n      if (this.isSignableHeader(key)) {\n        var lowerKey = key.toLowerCase();\n        // Metadata should be normalized\n        if (lowerKey.indexOf('x-amz-meta-') === 0) {\n          qs[lowerKey] = value;\n        } else if (lowerKey.indexOf('x-amz-') === 0) {\n          qs[key] = value;\n        }\n      }\n    });\n\n    var sep = this.request.path.indexOf('?') >= 0 ? '&' : '?';\n    this.request.path += sep + AWS.util.queryParamsToString(qs);\n  },\n\n  authorization: function authorization(credentials, datetime) {\n    var parts = [];\n    var credString = this.credentialString(datetime);\n    parts.push(this.algorithm + ' Credential=' +\n      credentials.accessKeyId + '/' + credString);\n    parts.push('SignedHeaders=' + this.signedHeaders());\n    parts.push('Signature=' + this.signature(credentials, datetime));\n    return parts.join(', ');\n  },\n\n  signature: function signature(credentials, datetime) {\n    var signingKey = v4Credentials.getSigningKey(\n      credentials,\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName,\n      this.signatureCache\n    );\n    return AWS.util.crypto.hmac(signingKey, this.stringToSign(datetime), 'hex');\n  },\n\n  stringToSign: function stringToSign(datetime) {\n    var parts = [];\n    parts.push('AWS4-HMAC-SHA256');\n    parts.push(datetime);\n    parts.push(this.credentialString(datetime));\n    parts.push(this.hexEncodedHash(this.canonicalString()));\n    return parts.join('\\n');\n  },\n\n  canonicalString: function canonicalString() {\n    var parts = [], pathname = this.request.pathname();\n    if (this.serviceName !== 's3' && this.signatureVersion !== 's3v4') pathname = AWS.util.uriEscapePath(pathname);\n\n    parts.push(this.request.method);\n    parts.push(pathname);\n    parts.push(this.request.search());\n    parts.push(this.canonicalHeaders() + '\\n');\n    parts.push(this.signedHeaders());\n    parts.push(this.hexEncodedBodyHash());\n    return parts.join('\\n');\n  },\n\n  canonicalHeaders: function canonicalHeaders() {\n    var headers = [];\n    AWS.util.each.call(this, this.request.headers, function (key, item) {\n      headers.push([key, item]);\n    });\n    headers.sort(function (a, b) {\n      return a[0].toLowerCase() < b[0].toLowerCase() ? -1 : 1;\n    });\n    var parts = [];\n    AWS.util.arrayEach.call(this, headers, function (item) {\n      var key = item[0].toLowerCase();\n      if (this.isSignableHeader(key)) {\n        var value = item[1];\n        if (typeof value === 'undefined' || value === null || typeof value.toString !== 'function') {\n          throw AWS.util.error(new Error('Header ' + key + ' contains invalid value'), {\n            code: 'InvalidHeader'\n          });\n        }\n        parts.push(key + ':' +\n          this.canonicalHeaderValues(value.toString()));\n      }\n    });\n    return parts.join('\\n');\n  },\n\n  canonicalHeaderValues: function canonicalHeaderValues(values) {\n    return values.replace(/\\s+/g, ' ').replace(/^\\s+|\\s+$/g, '');\n  },\n\n  signedHeaders: function signedHeaders() {\n    var keys = [];\n    AWS.util.each.call(this, this.request.headers, function (key) {\n      key = key.toLowerCase();\n      if (this.isSignableHeader(key)) keys.push(key);\n    });\n    return keys.sort().join(';');\n  },\n\n  credentialString: function credentialString(datetime) {\n    return v4Credentials.createScope(\n      datetime.substr(0, 8),\n      this.request.region,\n      this.serviceName\n    );\n  },\n\n  hexEncodedHash: function hash(string) {\n    return AWS.util.crypto.sha256(string, 'hex');\n  },\n\n  hexEncodedBodyHash: function hexEncodedBodyHash() {\n    var request = this.request;\n    if (this.isPresigned() && this.serviceName === 's3' && !request.body) {\n      return 'UNSIGNED-PAYLOAD';\n    } else if (request.headers['X-Amz-Content-Sha256']) {\n      return request.headers['X-Amz-Content-Sha256'];\n    } else {\n      return this.hexEncodedHash(this.request.body || '');\n    }\n  },\n\n  unsignableHeaders: [\n    'authorization',\n    'content-type',\n    'content-length',\n    'user-agent',\n    expiresHeader,\n    'expect',\n    'x-amzn-trace-id'\n  ],\n\n  isSignableHeader: function isSignableHeader(key) {\n    if (key.toLowerCase().indexOf('x-amz-') === 0) return true;\n    return this.unsignableHeaders.indexOf(key) < 0;\n  },\n\n  isPresigned: function isPresigned() {\n    return this.request.headers[expiresHeader] ? true : false;\n  }\n\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.V4;\n","var AWS = require('../core');\n\n/**\n * @api private\n */\nvar cachedSecret = {};\n\n/**\n * @api private\n */\nvar cacheQueue = [];\n\n/**\n * @api private\n */\nvar maxCacheEntries = 50;\n\n/**\n * @api private\n */\nvar v4Identifier = 'aws4_request';\n\n/**\n * @api private\n */\nmodule.exports = {\n  /**\n   * @api private\n   *\n   * @param date [String]\n   * @param region [String]\n   * @param serviceName [String]\n   * @return [String]\n   */\n  createScope: function createScope(date, region, serviceName) {\n    return [\n      date.substr(0, 8),\n      region,\n      serviceName,\n      v4Identifier\n    ].join('/');\n  },\n\n  /**\n   * @api private\n   *\n   * @param credentials [Credentials]\n   * @param date [String]\n   * @param region [String]\n   * @param service [String]\n   * @param shouldCache [Boolean]\n   * @return [String]\n   */\n  getSigningKey: function getSigningKey(\n    credentials,\n    date,\n    region,\n    service,\n    shouldCache\n  ) {\n    var credsIdentifier = AWS.util.crypto\n      .hmac(credentials.secretAccessKey, credentials.accessKeyId, 'base64');\n    var cacheKey = [credsIdentifier, date, region, service].join('_');\n    shouldCache = shouldCache !== false;\n    if (shouldCache && (cacheKey in cachedSecret)) {\n      return cachedSecret[cacheKey];\n    }\n\n    var kDate = AWS.util.crypto.hmac(\n      'AWS4' + credentials.secretAccessKey,\n      date,\n      'buffer'\n    );\n    var kRegion = AWS.util.crypto.hmac(kDate, region, 'buffer');\n    var kService = AWS.util.crypto.hmac(kRegion, service, 'buffer');\n\n    var signingKey = AWS.util.crypto.hmac(kService, v4Identifier, 'buffer');\n    if (shouldCache) {\n      cachedSecret[cacheKey] = signingKey;\n      cacheQueue.push(cacheKey);\n      if (cacheQueue.length > maxCacheEntries) {\n        // remove the oldest entry (not the least recently used)\n        delete cachedSecret[cacheQueue.shift()];\n      }\n    }\n\n    return signingKey;\n  },\n\n  /**\n   * @api private\n   *\n   * Empties the derived signing key cache. Made available for testing purposes\n   * only.\n   */\n  emptyCache: function emptyCache() {\n    cachedSecret = {};\n    cacheQueue = [];\n  }\n};\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nAWS.Signers.S3 = inherit(AWS.Signers.RequestSigner, {\n  /**\n   * When building the stringToSign, these sub resource params should be\n   * part of the canonical resource string with their NON-decoded values\n   */\n  subResources: {\n    'acl': 1,\n    'accelerate': 1,\n    'analytics': 1,\n    'cors': 1,\n    'lifecycle': 1,\n    'delete': 1,\n    'inventory': 1,\n    'location': 1,\n    'logging': 1,\n    'metrics': 1,\n    'notification': 1,\n    'partNumber': 1,\n    'policy': 1,\n    'requestPayment': 1,\n    'replication': 1,\n    'restore': 1,\n    'tagging': 1,\n    'torrent': 1,\n    'uploadId': 1,\n    'uploads': 1,\n    'versionId': 1,\n    'versioning': 1,\n    'versions': 1,\n    'website': 1\n  },\n\n  // when building the stringToSign, these querystring params should be\n  // part of the canonical resource string with their NON-encoded values\n  responseHeaders: {\n    'response-content-type': 1,\n    'response-content-language': 1,\n    'response-expires': 1,\n    'response-cache-control': 1,\n    'response-content-disposition': 1,\n    'response-content-encoding': 1\n  },\n\n  addAuthorization: function addAuthorization(credentials, date) {\n    if (!this.request.headers['presigned-expires']) {\n      this.request.headers['X-Amz-Date'] = AWS.util.date.rfc822(date);\n    }\n\n    if (credentials.sessionToken) {\n      // presigned URLs require this header to be lowercased\n      this.request.headers['x-amz-security-token'] = credentials.sessionToken;\n    }\n\n    var signature = this.sign(credentials.secretAccessKey, this.stringToSign());\n    var auth = 'AWS ' + credentials.accessKeyId + ':' + signature;\n\n    this.request.headers['Authorization'] = auth;\n  },\n\n  stringToSign: function stringToSign() {\n    var r = this.request;\n\n    var parts = [];\n    parts.push(r.method);\n    parts.push(r.headers['Content-MD5'] || '');\n    parts.push(r.headers['Content-Type'] || '');\n\n    // This is the \"Date\" header, but we use X-Amz-Date.\n    // The S3 signing mechanism requires us to pass an empty\n    // string for this Date header regardless.\n    parts.push(r.headers['presigned-expires'] || '');\n\n    var headers = this.canonicalizedAmzHeaders();\n    if (headers) parts.push(headers);\n    parts.push(this.canonicalizedResource());\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedAmzHeaders: function canonicalizedAmzHeaders() {\n\n    var amzHeaders = [];\n\n    AWS.util.each(this.request.headers, function (name) {\n      if (name.match(/^x-amz-/i))\n        amzHeaders.push(name);\n    });\n\n    amzHeaders.sort(function (a, b) {\n      return a.toLowerCase() < b.toLowerCase() ? -1 : 1;\n    });\n\n    var parts = [];\n    AWS.util.arrayEach.call(this, amzHeaders, function (name) {\n      parts.push(name.toLowerCase() + ':' + String(this.request.headers[name]));\n    });\n\n    return parts.join('\\n');\n\n  },\n\n  canonicalizedResource: function canonicalizedResource() {\n\n    var r = this.request;\n\n    var parts = r.path.split('?');\n    var path = parts[0];\n    var querystring = parts[1];\n\n    var resource = '';\n\n    if (r.virtualHostedBucket)\n      resource += '/' + r.virtualHostedBucket;\n\n    resource += path;\n\n    if (querystring) {\n\n      // collect a list of sub resources and query params that need to be signed\n      var resources = [];\n\n      AWS.util.arrayEach.call(this, querystring.split('&'), function (param) {\n        var name = param.split('=')[0];\n        var value = param.split('=')[1];\n        if (this.subResources[name] || this.responseHeaders[name]) {\n          var subresource = { name: name };\n          if (value !== undefined) {\n            if (this.subResources[name]) {\n              subresource.value = value;\n            } else {\n              subresource.value = decodeURIComponent(value);\n            }\n          }\n          resources.push(subresource);\n        }\n      });\n\n      resources.sort(function (a, b) { return a.name < b.name ? -1 : 1; });\n\n      if (resources.length) {\n\n        querystring = [];\n        AWS.util.arrayEach(resources, function (res) {\n          if (res.value === undefined) {\n            querystring.push(res.name);\n          } else {\n            querystring.push(res.name + '=' + res.value);\n          }\n        });\n\n        resource += '?' + querystring.join('&');\n      }\n\n    }\n\n    return resource;\n\n  },\n\n  sign: function sign(secret, string) {\n    return AWS.util.crypto.hmac(secret, string, 'base64', 'sha1');\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.S3;\n","var AWS = require('../core');\nvar inherit = AWS.util.inherit;\n\n/**\n * @api private\n */\nvar expiresHeader = 'presigned-expires';\n\n/**\n * @api private\n */\nfunction signedUrlBuilder(request) {\n  var expires = request.httpRequest.headers[expiresHeader];\n  var signerClass = request.service.getSignerClass(request);\n\n  delete request.httpRequest.headers['User-Agent'];\n  delete request.httpRequest.headers['X-Amz-User-Agent'];\n\n  if (signerClass === AWS.Signers.V4) {\n    if (expires > 604800) { // one week expiry is invalid\n      var message = 'Presigning does not support expiry time greater ' +\n                    'than a week with SigV4 signing.';\n      throw AWS.util.error(new Error(), {\n        code: 'InvalidExpiryTime', message: message, retryable: false\n      });\n    }\n    request.httpRequest.headers[expiresHeader] = expires;\n  } else if (signerClass === AWS.Signers.S3) {\n    var now = request.service ? request.service.getSkewCorrectedDate() : AWS.util.date.getDate();\n    request.httpRequest.headers[expiresHeader] = parseInt(\n      AWS.util.date.unixTimestamp(now) + expires, 10).toString();\n  } else {\n    throw AWS.util.error(new Error(), {\n      message: 'Presigning only supports S3 or SigV4 signing.',\n      code: 'UnsupportedSigner', retryable: false\n    });\n  }\n}\n\n/**\n * @api private\n */\nfunction signedUrlSigner(request) {\n  var endpoint = request.httpRequest.endpoint;\n  var parsedUrl = AWS.util.urlParse(request.httpRequest.path);\n  var queryParams = {};\n\n  if (parsedUrl.search) {\n    queryParams = AWS.util.queryStringParse(parsedUrl.search.substr(1));\n  }\n\n  var auth = request.httpRequest.headers['Authorization'].split(' ');\n  if (auth[0] === 'AWS') {\n    auth = auth[1].split(':');\n    queryParams['AWSAccessKeyId'] = auth[0];\n    queryParams['Signature'] = auth[1];\n\n    AWS.util.each(request.httpRequest.headers, function (key, value) {\n      if (key === expiresHeader) key = 'Expires';\n      if (key.indexOf('x-amz-meta-') === 0) {\n        // Delete existing, potentially not normalized key\n        delete queryParams[key];\n        key = key.toLowerCase();\n      }\n      queryParams[key] = value;\n    });\n    delete request.httpRequest.headers[expiresHeader];\n    delete queryParams['Authorization'];\n    delete queryParams['Host'];\n  } else if (auth[0] === 'AWS4-HMAC-SHA256') { // SigV4 signing\n    auth.shift();\n    var rest = auth.join(' ');\n    var signature = rest.match(/Signature=(.*?)(?:,|\\s|\\r?\\n|$)/)[1];\n    queryParams['X-Amz-Signature'] = signature;\n    delete queryParams['Expires'];\n  }\n\n  // build URL\n  endpoint.pathname = parsedUrl.pathname;\n  endpoint.search = AWS.util.queryParamsToString(queryParams);\n}\n\n/**\n * @api private\n */\nAWS.Signers.Presign = inherit({\n  /**\n   * @api private\n   */\n  sign: function sign(request, expireTime, callback) {\n    request.httpRequest.headers[expiresHeader] = expireTime || 3600;\n    request.on('build', signedUrlBuilder);\n    request.on('sign', signedUrlSigner);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.SET_CONTENT_LENGTH);\n    request.removeListener('afterBuild',\n      AWS.EventListeners.Core.COMPUTE_SHA256);\n\n    request.emit('beforePresign', [request]);\n\n    if (callback) {\n      request.build(function() {\n        if (this.response.error) callback(this.response.error);\n        else {\n          callback(null, AWS.util.urlFormat(request.httpRequest.endpoint));\n        }\n      });\n    } else {\n      request.build();\n      if (request.response.error) throw request.response.error;\n      return AWS.util.urlFormat(request.httpRequest.endpoint);\n    }\n  }\n});\n\n/**\n * @api private\n */\nmodule.exports = AWS.Signers.Presign;\n","var AWS = require('./core');\n\n/**\n * @api private\n */\nAWS.ParamValidator = AWS.util.inherit({\n  /**\n   * Create a new validator object.\n   *\n   * @param validation [Boolean|map] whether input parameters should be\n   *     validated against the operation description before sending the\n   *     request. Pass a map to enable any of the following specific\n   *     validation features:\n   *\n   *     * **min** [Boolean] &mdash; Validates that a value meets the min\n   *       constraint. This is enabled by default when paramValidation is set\n   *       to `true`.\n   *     * **max** [Boolean] &mdash; Validates that a value meets the max\n   *       constraint.\n   *     * **pattern** [Boolean] &mdash; Validates that a string value matches a\n   *       regular expression.\n   *     * **enum** [Boolean] &mdash; Validates that a string value matches one\n   *       of the allowable enum values.\n   */\n  constructor: function ParamValidator(validation) {\n    if (validation === true || validation === undefined) {\n      validation = {'min': true};\n    }\n    this.validation = validation;\n  },\n\n  validate: function validate(shape, params, context) {\n    this.errors = [];\n    this.validateMember(shape, params || {}, context || 'params');\n\n    if (this.errors.length > 1) {\n      var msg = this.errors.join('\\n* ');\n      msg = 'There were ' + this.errors.length +\n        ' validation errors:\\n* ' + msg;\n      throw AWS.util.error(new Error(msg),\n        {code: 'MultipleValidationErrors', errors: this.errors});\n    } else if (this.errors.length === 1) {\n      throw this.errors[0];\n    } else {\n      return true;\n    }\n  },\n\n  fail: function fail(code, message) {\n    this.errors.push(AWS.util.error(new Error(message), {code: code}));\n  },\n\n  validateStructure: function validateStructure(shape, params, context) {\n    this.validateType(params, context, ['object'], 'structure');\n\n    var paramName;\n    for (var i = 0; shape.required && i < shape.required.length; i++) {\n      paramName = shape.required[i];\n      var value = params[paramName];\n      if (value === undefined || value === null) {\n        this.fail('MissingRequiredParameter',\n          'Missing required key \\'' + paramName + '\\' in ' + context);\n      }\n    }\n\n    // validate hash members\n    for (paramName in params) {\n      if (!Object.prototype.hasOwnProperty.call(params, paramName)) continue;\n\n      var paramValue = params[paramName],\n          memberShape = shape.members[paramName];\n\n      if (memberShape !== undefined) {\n        var memberContext = [context, paramName].join('.');\n        this.validateMember(memberShape, paramValue, memberContext);\n      } else {\n        this.fail('UnexpectedParameter',\n          'Unexpected key \\'' + paramName + '\\' found in ' + context);\n      }\n    }\n\n    return true;\n  },\n\n  validateMember: function validateMember(shape, param, context) {\n    switch (shape.type) {\n      case 'structure':\n        return this.validateStructure(shape, param, context);\n      case 'list':\n        return this.validateList(shape, param, context);\n      case 'map':\n        return this.validateMap(shape, param, context);\n      default:\n        return this.validateScalar(shape, param, context);\n    }\n  },\n\n  validateList: function validateList(shape, params, context) {\n    if (this.validateType(params, context, [Array])) {\n      this.validateRange(shape, params.length, context, 'list member count');\n      // validate array members\n      for (var i = 0; i < params.length; i++) {\n        this.validateMember(shape.member, params[i], context + '[' + i + ']');\n      }\n    }\n  },\n\n  validateMap: function validateMap(shape, params, context) {\n    if (this.validateType(params, context, ['object'], 'map')) {\n      // Build up a count of map members to validate range traits.\n      var mapCount = 0;\n      for (var param in params) {\n        if (!Object.prototype.hasOwnProperty.call(params, param)) continue;\n        // Validate any map key trait constraints\n        this.validateMember(shape.key, param,\n                            context + '[key=\\'' + param + '\\']');\n        this.validateMember(shape.value, params[param],\n                            context + '[\\'' + param + '\\']');\n        mapCount++;\n      }\n      this.validateRange(shape, mapCount, context, 'map member count');\n    }\n  },\n\n  validateScalar: function validateScalar(shape, value, context) {\n    switch (shape.type) {\n      case null:\n      case undefined:\n      case 'string':\n        return this.validateString(shape, value, context);\n      case 'base64':\n      case 'binary':\n        return this.validatePayload(value, context);\n      case 'integer':\n      case 'float':\n        return this.validateNumber(shape, value, context);\n      case 'boolean':\n        return this.validateType(value, context, ['boolean']);\n      case 'timestamp':\n        return this.validateType(value, context, [Date,\n          /^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$/, 'number'],\n          'Date object, ISO-8601 string, or a UNIX timestamp');\n      default:\n        return this.fail('UnkownType', 'Unhandled type ' +\n                         shape.type + ' for ' + context);\n    }\n  },\n\n  validateString: function validateString(shape, value, context) {\n    var validTypes = ['string'];\n    if (shape.isJsonValue) {\n      validTypes = validTypes.concat(['number', 'object', 'boolean']);\n    }\n    if (value !== null && this.validateType(value, context, validTypes)) {\n      this.validateEnum(shape, value, context);\n      this.validateRange(shape, value.length, context, 'string length');\n      this.validatePattern(shape, value, context);\n      this.validateUri(shape, value, context);\n    }\n  },\n\n  validateUri: function validateUri(shape, value, context) {\n    if (shape['location'] === 'uri') {\n      if (value.length === 0) {\n        this.fail('UriParameterError', 'Expected uri parameter to have length >= 1,'\n          + ' but found \"' + value +'\" for ' + context);\n      }\n    }\n  },\n\n  validatePattern: function validatePattern(shape, value, context) {\n    if (this.validation['pattern'] && shape['pattern'] !== undefined) {\n      if (!(new RegExp(shape['pattern'])).test(value)) {\n        this.fail('PatternMatchError', 'Provided value \"' + value + '\" '\n          + 'does not match regex pattern /' + shape['pattern'] + '/ for '\n          + context);\n      }\n    }\n  },\n\n  validateRange: function validateRange(shape, value, context, descriptor) {\n    if (this.validation['min']) {\n      if (shape['min'] !== undefined && value < shape['min']) {\n        this.fail('MinRangeError', 'Expected ' + descriptor + ' >= '\n          + shape['min'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n    if (this.validation['max']) {\n      if (shape['max'] !== undefined && value > shape['max']) {\n        this.fail('MaxRangeError', 'Expected ' + descriptor + ' <= '\n          + shape['max'] + ', but found ' + value + ' for ' + context);\n      }\n    }\n  },\n\n  validateEnum: function validateRange(shape, value, context) {\n    if (this.validation['enum'] && shape['enum'] !== undefined) {\n      // Fail if the string value is not present in the enum list\n      if (shape['enum'].indexOf(value) === -1) {\n        this.fail('EnumError', 'Found string value of ' + value + ', but '\n          + 'expected ' + shape['enum'].join('|') + ' for ' + context);\n      }\n    }\n  },\n\n  validateType: function validateType(value, context, acceptedTypes, type) {\n    // We will not log an error for null or undefined, but we will return\n    // false so that callers know that the expected type was not strictly met.\n    if (value === null || value === undefined) return false;\n\n    var foundInvalidType = false;\n    for (var i = 0; i < acceptedTypes.length; i++) {\n      if (typeof acceptedTypes[i] === 'string') {\n        if (typeof value === acceptedTypes[i]) return true;\n      } else if (acceptedTypes[i] instanceof RegExp) {\n        if ((value || '').toString().match(acceptedTypes[i])) return true;\n      } else {\n        if (value instanceof acceptedTypes[i]) return true;\n        if (AWS.util.isType(value, acceptedTypes[i])) return true;\n        if (!type && !foundInvalidType) acceptedTypes = acceptedTypes.slice();\n        acceptedTypes[i] = AWS.util.typeName(acceptedTypes[i]);\n      }\n      foundInvalidType = true;\n    }\n\n    var acceptedType = type;\n    if (!acceptedType) {\n      acceptedType = acceptedTypes.join(', ').replace(/,([^,]+)$/, ', or$1');\n    }\n\n    var vowel = acceptedType.match(/^[aeiou]/i) ? 'n' : '';\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a' +\n              vowel + ' ' + acceptedType);\n    return false;\n  },\n\n  validateNumber: function validateNumber(shape, value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') {\n      var castedValue = parseFloat(value);\n      if (castedValue.toString() === value) value = castedValue;\n    }\n    if (this.validateType(value, context, ['number'])) {\n      this.validateRange(shape, value, context, 'numeric value');\n    }\n  },\n\n  validatePayload: function validatePayload(value, context) {\n    if (value === null || value === undefined) return;\n    if (typeof value === 'string') return;\n    if (value && typeof value.byteLength === 'number') return; // typed arrays\n    if (AWS.util.isNode()) { // special check for buffer/stream in Node.js\n      var Stream = AWS.util.stream.Stream;\n      if (AWS.util.Buffer.isBuffer(value) || value instanceof Stream) return;\n    } else {\n      if (typeof Blob !== void 0 && value instanceof Blob) return;\n    }\n\n    var types = ['Buffer', 'Stream', 'File', 'Blob', 'ArrayBuffer', 'DataView'];\n    if (value) {\n      for (var i = 0; i < types.length; i++) {\n        if (AWS.util.isType(value, types[i])) return;\n        if (AWS.util.typeName(value.constructor) === types[i]) return;\n      }\n    }\n\n    this.fail('InvalidParameterType', 'Expected ' + context + ' to be a ' +\n      'string, Buffer, Stream, Blob, or typed array object');\n  }\n});\n","var v1 = require('./v1');\nvar v4 = require('./v4');\n\nvar uuid = v4;\nuuid.v1 = v1;\nuuid.v4 = v4;\n\nmodule.exports = uuid;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\nvar _clockseq;\n\n// Previous uuid creation time\nvar _lastMSecs = 0;\nvar _lastNSecs = 0;\n\n// See https://github.com/broofa/node-uuid for API details\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq;\n\n  // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n  if (node == null || clockseq == null) {\n    var seedBytes = rng();\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [\n        seedBytes[0] | 0x01,\n        seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]\n      ];\n    }\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  }\n\n  // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime();\n\n  // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1;\n\n  // Time since last uuid creation (in msecs)\n  var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n  // Per 4.2.1.2, Bump clockseq on clock regression\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  }\n\n  // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  }\n\n  // Per 4.2.1.2 Throw error if too many uuids are requested\n  if (nsecs >= 10000) {\n    throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq;\n\n  // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n  msecs += 12219292800000;\n\n  // `time_low`\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff;\n\n  // `time_mid`\n  var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff;\n\n  // `time_high_and_version`\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n  b[i++] = tmh >>> 16 & 0xff;\n\n  // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n  b[i++] = clockseq >>> 8 | 0x80;\n\n  // `clock_seq_low`\n  b[i++] = clockseq & 0xff;\n\n  // `node`\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nmodule.exports = v1;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","var Hmac = require('./browserHmac');\nvar Md5 = require('./browserMd5');\nvar Sha1 = require('./browserSha1');\nvar Sha256 = require('./browserSha256');\n\n/**\n * @api private\n */\nmodule.exports = exports = {\n    createHash: function createHash(alg) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Md5();\n      } else if (alg === 'sha256') {\n        return new Sha256();\n      } else if (alg === 'sha1') {\n        return new Sha1();\n      }\n\n      throw new Error('Hash algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createHmac: function createHmac(alg, key) {\n      alg = alg.toLowerCase();\n      if (alg === 'md5') {\n        return new Hmac(Md5, key);\n      } else if (alg === 'sha256') {\n        return new Hmac(Sha256, key);\n      } else if (alg === 'sha1') {\n        return new Hmac(Sha1, key);\n      }\n\n      throw new Error('HMAC algorithm ' + alg + ' is not supported in the browser SDK');\n    },\n    createSign: function() {\n      throw new Error('createSign is not implemented in the browser');\n    }\n  };\n","var hashUtils = require('./browserHashUtils');\n\n/**\n * @api private\n */\nfunction Hmac(hashCtor, secret) {\n    this.hash = new hashCtor();\n    this.outer = new hashCtor();\n\n    var inner = bufferFromSecret(hashCtor, secret);\n    var outer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    outer.set(inner);\n\n    for (var i = 0; i < hashCtor.BLOCK_SIZE; i++) {\n        inner[i] ^= 0x36;\n        outer[i] ^= 0x5c;\n    }\n\n    this.hash.update(inner);\n    this.outer.update(outer);\n\n    // Zero out the copied key buffer.\n    for (var i = 0; i < inner.byteLength; i++) {\n        inner[i] = 0;\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Hmac;\n\nHmac.prototype.update = function (toHash) {\n    if (hashUtils.isEmptyData(toHash) || this.error) {\n        return this;\n    }\n\n    try {\n        this.hash.update(hashUtils.convertToBuffer(toHash));\n    } catch (e) {\n        this.error = e;\n    }\n\n    return this;\n};\n\nHmac.prototype.digest = function (encoding) {\n    if (!this.outer.finished) {\n        this.outer.update(this.hash.digest());\n    }\n\n    return this.outer.digest(encoding);\n};\n\nfunction bufferFromSecret(hashCtor, secret) {\n    var input = hashUtils.convertToBuffer(secret);\n    if (input.byteLength > hashCtor.BLOCK_SIZE) {\n        var bufferHash = new hashCtor;\n        bufferHash.update(input);\n        input = bufferHash.digest();\n    }\n    var buffer = new Uint8Array(hashCtor.BLOCK_SIZE);\n    buffer.set(input);\n    return buffer;\n}\n","var hashUtils = require('./browserHashUtils');\nvar Buffer = require('buffer/').Buffer;\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 16;\n\nvar INIT = [\n    0x67452301,\n    0xefcdab89,\n    0x98badcfe,\n    0x10325476,\n];\n\n/**\n * @api private\n */\nfunction Md5() {\n    this.state = [\n        0x67452301,\n        0xefcdab89,\n        0x98badcfe,\n        0x10325476,\n    ];\n    this.buffer = new DataView(new ArrayBuffer(BLOCK_SIZE));\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Md5;\n\nMd5.BLOCK_SIZE = BLOCK_SIZE;\n\nMd5.prototype.update = function (sourceData) {\n    if (hashUtils.isEmptyData(sourceData)) {\n        return this;\n    } else if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    var data = hashUtils.convertToBuffer(sourceData);\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    while (byteLength > 0) {\n        this.buffer.setUint8(this.bufferLength++, data[position++]);\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nMd5.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var _a = this, buffer = _a.buffer, undecoratedLength = _a.bufferLength, bytesHashed = _a.bytesHashed;\n        var bitsHashed = bytesHashed * 8;\n        buffer.setUint8(this.bufferLength++, 128);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                buffer.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            buffer.setUint8(i, 0);\n        }\n        buffer.setUint32(BLOCK_SIZE - 8, bitsHashed >>> 0, true);\n        buffer.setUint32(BLOCK_SIZE - 4, Math.floor(bitsHashed / 0x100000000), true);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    var out = new DataView(new ArrayBuffer(DIGEST_LENGTH));\n    for (var i = 0; i < 4; i++) {\n        out.setUint32(i * 4, this.state[i], true);\n    }\n    var buff = new Buffer(out.buffer, out.byteOffset, out.byteLength);\n    return encoding ? buff.toString(encoding) : buff;\n};\n\nMd5.prototype.hashBuffer = function () {\n    var _a = this, buffer = _a.buffer, state = _a.state;\n    var a = state[0], b = state[1], c = state[2], d = state[3];\n    a = ff(a, b, c, d, buffer.getUint32(0, true), 7, 0xd76aa478);\n    d = ff(d, a, b, c, buffer.getUint32(4, true), 12, 0xe8c7b756);\n    c = ff(c, d, a, b, buffer.getUint32(8, true), 17, 0x242070db);\n    b = ff(b, c, d, a, buffer.getUint32(12, true), 22, 0xc1bdceee);\n    a = ff(a, b, c, d, buffer.getUint32(16, true), 7, 0xf57c0faf);\n    d = ff(d, a, b, c, buffer.getUint32(20, true), 12, 0x4787c62a);\n    c = ff(c, d, a, b, buffer.getUint32(24, true), 17, 0xa8304613);\n    b = ff(b, c, d, a, buffer.getUint32(28, true), 22, 0xfd469501);\n    a = ff(a, b, c, d, buffer.getUint32(32, true), 7, 0x698098d8);\n    d = ff(d, a, b, c, buffer.getUint32(36, true), 12, 0x8b44f7af);\n    c = ff(c, d, a, b, buffer.getUint32(40, true), 17, 0xffff5bb1);\n    b = ff(b, c, d, a, buffer.getUint32(44, true), 22, 0x895cd7be);\n    a = ff(a, b, c, d, buffer.getUint32(48, true), 7, 0x6b901122);\n    d = ff(d, a, b, c, buffer.getUint32(52, true), 12, 0xfd987193);\n    c = ff(c, d, a, b, buffer.getUint32(56, true), 17, 0xa679438e);\n    b = ff(b, c, d, a, buffer.getUint32(60, true), 22, 0x49b40821);\n    a = gg(a, b, c, d, buffer.getUint32(4, true), 5, 0xf61e2562);\n    d = gg(d, a, b, c, buffer.getUint32(24, true), 9, 0xc040b340);\n    c = gg(c, d, a, b, buffer.getUint32(44, true), 14, 0x265e5a51);\n    b = gg(b, c, d, a, buffer.getUint32(0, true), 20, 0xe9b6c7aa);\n    a = gg(a, b, c, d, buffer.getUint32(20, true), 5, 0xd62f105d);\n    d = gg(d, a, b, c, buffer.getUint32(40, true), 9, 0x02441453);\n    c = gg(c, d, a, b, buffer.getUint32(60, true), 14, 0xd8a1e681);\n    b = gg(b, c, d, a, buffer.getUint32(16, true), 20, 0xe7d3fbc8);\n    a = gg(a, b, c, d, buffer.getUint32(36, true), 5, 0x21e1cde6);\n    d = gg(d, a, b, c, buffer.getUint32(56, true), 9, 0xc33707d6);\n    c = gg(c, d, a, b, buffer.getUint32(12, true), 14, 0xf4d50d87);\n    b = gg(b, c, d, a, buffer.getUint32(32, true), 20, 0x455a14ed);\n    a = gg(a, b, c, d, buffer.getUint32(52, true), 5, 0xa9e3e905);\n    d = gg(d, a, b, c, buffer.getUint32(8, true), 9, 0xfcefa3f8);\n    c = gg(c, d, a, b, buffer.getUint32(28, true), 14, 0x676f02d9);\n    b = gg(b, c, d, a, buffer.getUint32(48, true), 20, 0x8d2a4c8a);\n    a = hh(a, b, c, d, buffer.getUint32(20, true), 4, 0xfffa3942);\n    d = hh(d, a, b, c, buffer.getUint32(32, true), 11, 0x8771f681);\n    c = hh(c, d, a, b, buffer.getUint32(44, true), 16, 0x6d9d6122);\n    b = hh(b, c, d, a, buffer.getUint32(56, true), 23, 0xfde5380c);\n    a = hh(a, b, c, d, buffer.getUint32(4, true), 4, 0xa4beea44);\n    d = hh(d, a, b, c, buffer.getUint32(16, true), 11, 0x4bdecfa9);\n    c = hh(c, d, a, b, buffer.getUint32(28, true), 16, 0xf6bb4b60);\n    b = hh(b, c, d, a, buffer.getUint32(40, true), 23, 0xbebfbc70);\n    a = hh(a, b, c, d, buffer.getUint32(52, true), 4, 0x289b7ec6);\n    d = hh(d, a, b, c, buffer.getUint32(0, true), 11, 0xeaa127fa);\n    c = hh(c, d, a, b, buffer.getUint32(12, true), 16, 0xd4ef3085);\n    b = hh(b, c, d, a, buffer.getUint32(24, true), 23, 0x04881d05);\n    a = hh(a, b, c, d, buffer.getUint32(36, true), 4, 0xd9d4d039);\n    d = hh(d, a, b, c, buffer.getUint32(48, true), 11, 0xe6db99e5);\n    c = hh(c, d, a, b, buffer.getUint32(60, true), 16, 0x1fa27cf8);\n    b = hh(b, c, d, a, buffer.getUint32(8, true), 23, 0xc4ac5665);\n    a = ii(a, b, c, d, buffer.getUint32(0, true), 6, 0xf4292244);\n    d = ii(d, a, b, c, buffer.getUint32(28, true), 10, 0x432aff97);\n    c = ii(c, d, a, b, buffer.getUint32(56, true), 15, 0xab9423a7);\n    b = ii(b, c, d, a, buffer.getUint32(20, true), 21, 0xfc93a039);\n    a = ii(a, b, c, d, buffer.getUint32(48, true), 6, 0x655b59c3);\n    d = ii(d, a, b, c, buffer.getUint32(12, true), 10, 0x8f0ccc92);\n    c = ii(c, d, a, b, buffer.getUint32(40, true), 15, 0xffeff47d);\n    b = ii(b, c, d, a, buffer.getUint32(4, true), 21, 0x85845dd1);\n    a = ii(a, b, c, d, buffer.getUint32(32, true), 6, 0x6fa87e4f);\n    d = ii(d, a, b, c, buffer.getUint32(60, true), 10, 0xfe2ce6e0);\n    c = ii(c, d, a, b, buffer.getUint32(24, true), 15, 0xa3014314);\n    b = ii(b, c, d, a, buffer.getUint32(52, true), 21, 0x4e0811a1);\n    a = ii(a, b, c, d, buffer.getUint32(16, true), 6, 0xf7537e82);\n    d = ii(d, a, b, c, buffer.getUint32(44, true), 10, 0xbd3af235);\n    c = ii(c, d, a, b, buffer.getUint32(8, true), 15, 0x2ad7d2bb);\n    b = ii(b, c, d, a, buffer.getUint32(36, true), 21, 0xeb86d391);\n    state[0] = (a + state[0]) & 0xFFFFFFFF;\n    state[1] = (b + state[1]) & 0xFFFFFFFF;\n    state[2] = (c + state[2]) & 0xFFFFFFFF;\n    state[3] = (d + state[3]) & 0xFFFFFFFF;\n};\n\nfunction cmn(q, a, b, x, s, t) {\n    a = (((a + q) & 0xFFFFFFFF) + ((x + t) & 0xFFFFFFFF)) & 0xFFFFFFFF;\n    return (((a << s) | (a >>> (32 - s))) + b) & 0xFFFFFFFF;\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n    return cmn((b & c) | ((~b) & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n    return cmn((b & d) | (c & (~d)), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n    return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n    return cmn(c ^ (b | (~d)), a, b, x, s, t);\n}\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 20;\n\nvar KEY = new Uint32Array([\n    0x5a827999,\n    0x6ed9eba1,\n    0x8f1bbcdc | 0,\n    0xca62c1d6 | 0\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @api private\n */\nfunction Sha1() {\n    this.h0 = 0x67452301;\n    this.h1 = 0xEFCDAB89;\n    this.h2 = 0x98BADCFE;\n    this.h3 = 0x10325476;\n    this.h4 = 0xC3D2E1F0;\n    // The first 64 bytes (16 words) is the data chunk\n    this.block = new Uint32Array(80);\n    this.offset = 0;\n    this.shift = 24;\n    this.totalLength = 0;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha1;\n\nSha1.BLOCK_SIZE = BLOCK_SIZE;\n\nSha1.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var length = data.length;\n    this.totalLength += length * 8;\n    for (var i = 0; i < length; i++) {\n        this.write(data[i]);\n    }\n\n    return this;\n};\n\nSha1.prototype.write = function write(byte) {\n    this.block[this.offset] |= (byte & 0xff) << this.shift;\n    if (this.shift) {\n        this.shift -= 8;\n    } else {\n        this.offset++;\n        this.shift = 24;\n    }\n\n    if (this.offset === 16) this.processBlock();\n};\n\nSha1.prototype.digest = function (encoding) {\n    // Pad\n    this.write(0x80);\n    if (this.offset > 14 || (this.offset === 14 && this.shift < 24)) {\n      this.processBlock();\n    }\n    this.offset = 14;\n    this.shift = 24;\n\n    // 64-bit length big-endian\n    this.write(0x00); // numbers this big aren't accurate in javascript anyway\n    this.write(0x00); // ..So just hard-code to zero.\n    this.write(this.totalLength > 0xffffffffff ? this.totalLength / 0x10000000000 : 0x00);\n    this.write(this.totalLength > 0xffffffff ? this.totalLength / 0x100000000 : 0x00);\n    for (var s = 24; s >= 0; s -= 8) {\n        this.write(this.totalLength >> s);\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    var outView = new DataView(out.buffer);\n    outView.setUint32(0, this.h0, false);\n    outView.setUint32(4, this.h1, false);\n    outView.setUint32(8, this.h2, false);\n    outView.setUint32(12, this.h3, false);\n    outView.setUint32(16, this.h4, false);\n\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha1.prototype.processBlock = function processBlock() {\n    // Extend the sixteen 32-bit words into eighty 32-bit words:\n    for (var i = 16; i < 80; i++) {\n      var w = this.block[i - 3] ^ this.block[i - 8] ^ this.block[i - 14] ^ this.block[i - 16];\n      this.block[i] = (w << 1) | (w >>> 31);\n    }\n\n    // Initialize hash value for this chunk:\n    var a = this.h0;\n    var b = this.h1;\n    var c = this.h2;\n    var d = this.h3;\n    var e = this.h4;\n    var f, k;\n\n    // Main loop:\n    for (i = 0; i < 80; i++) {\n      if (i < 20) {\n        f = d ^ (b & (c ^ d));\n        k = 0x5A827999;\n      }\n      else if (i < 40) {\n        f = b ^ c ^ d;\n        k = 0x6ED9EBA1;\n      }\n      else if (i < 60) {\n        f = (b & c) | (d & (b | c));\n        k = 0x8F1BBCDC;\n      }\n      else {\n        f = b ^ c ^ d;\n        k = 0xCA62C1D6;\n      }\n      var temp = (a << 5 | a >>> 27) + f + e + k + (this.block[i]|0);\n      e = d;\n      d = c;\n      c = (b << 30 | b >>> 2);\n      b = a;\n      a = temp;\n    }\n\n    // Add this chunk's hash to result so far:\n    this.h0 = (this.h0 + a) | 0;\n    this.h1 = (this.h1 + b) | 0;\n    this.h2 = (this.h2 + c) | 0;\n    this.h3 = (this.h3 + d) | 0;\n    this.h4 = (this.h4 + e) | 0;\n\n    // The block is now reusable.\n    this.offset = 0;\n    for (i = 0; i < 16; i++) {\n        this.block[i] = 0;\n    }\n};\n","var Buffer = require('buffer/').Buffer;\nvar hashUtils = require('./browserHashUtils');\n\nvar BLOCK_SIZE = 64;\n\nvar DIGEST_LENGTH = 32;\n\nvar KEY = new Uint32Array([\n    0x428a2f98,\n    0x71374491,\n    0xb5c0fbcf,\n    0xe9b5dba5,\n    0x3956c25b,\n    0x59f111f1,\n    0x923f82a4,\n    0xab1c5ed5,\n    0xd807aa98,\n    0x12835b01,\n    0x243185be,\n    0x550c7dc3,\n    0x72be5d74,\n    0x80deb1fe,\n    0x9bdc06a7,\n    0xc19bf174,\n    0xe49b69c1,\n    0xefbe4786,\n    0x0fc19dc6,\n    0x240ca1cc,\n    0x2de92c6f,\n    0x4a7484aa,\n    0x5cb0a9dc,\n    0x76f988da,\n    0x983e5152,\n    0xa831c66d,\n    0xb00327c8,\n    0xbf597fc7,\n    0xc6e00bf3,\n    0xd5a79147,\n    0x06ca6351,\n    0x14292967,\n    0x27b70a85,\n    0x2e1b2138,\n    0x4d2c6dfc,\n    0x53380d13,\n    0x650a7354,\n    0x766a0abb,\n    0x81c2c92e,\n    0x92722c85,\n    0xa2bfe8a1,\n    0xa81a664b,\n    0xc24b8b70,\n    0xc76c51a3,\n    0xd192e819,\n    0xd6990624,\n    0xf40e3585,\n    0x106aa070,\n    0x19a4c116,\n    0x1e376c08,\n    0x2748774c,\n    0x34b0bcb5,\n    0x391c0cb3,\n    0x4ed8aa4a,\n    0x5b9cca4f,\n    0x682e6ff3,\n    0x748f82ee,\n    0x78a5636f,\n    0x84c87814,\n    0x8cc70208,\n    0x90befffa,\n    0xa4506ceb,\n    0xbef9a3f7,\n    0xc67178f2\n]);\n\nvar INIT = [\n    0x6a09e667,\n    0xbb67ae85,\n    0x3c6ef372,\n    0xa54ff53a,\n    0x510e527f,\n    0x9b05688c,\n    0x1f83d9ab,\n    0x5be0cd19,\n];\n\nvar MAX_HASHABLE_LENGTH = Math.pow(2, 53) - 1;\n\n/**\n * @private\n */\nfunction Sha256() {\n    this.state = [\n        0x6a09e667,\n        0xbb67ae85,\n        0x3c6ef372,\n        0xa54ff53a,\n        0x510e527f,\n        0x9b05688c,\n        0x1f83d9ab,\n        0x5be0cd19,\n    ];\n    this.temp = new Int32Array(64);\n    this.buffer = new Uint8Array(64);\n    this.bufferLength = 0;\n    this.bytesHashed = 0;\n    /**\n     * @private\n     */\n    this.finished = false;\n}\n\n/**\n * @api private\n */\nmodule.exports = exports = Sha256;\n\nSha256.BLOCK_SIZE = BLOCK_SIZE;\n\nSha256.prototype.update = function (data) {\n    if (this.finished) {\n        throw new Error('Attempted to update an already finished hash.');\n    }\n\n    if (hashUtils.isEmptyData(data)) {\n        return this;\n    }\n\n    data = hashUtils.convertToBuffer(data);\n\n    var position = 0;\n    var byteLength = data.byteLength;\n    this.bytesHashed += byteLength;\n    if (this.bytesHashed * 8 > MAX_HASHABLE_LENGTH) {\n        throw new Error('Cannot hash more than 2^53 - 1 bits');\n    }\n\n    while (byteLength > 0) {\n        this.buffer[this.bufferLength++] = data[position++];\n        byteLength--;\n        if (this.bufferLength === BLOCK_SIZE) {\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n    }\n\n    return this;\n};\n\nSha256.prototype.digest = function (encoding) {\n    if (!this.finished) {\n        var bitsHashed = this.bytesHashed * 8;\n        var bufferView = new DataView(this.buffer.buffer, this.buffer.byteOffset, this.buffer.byteLength);\n        var undecoratedLength = this.bufferLength;\n        bufferView.setUint8(this.bufferLength++, 0x80);\n        // Ensure the final block has enough room for the hashed length\n        if (undecoratedLength % BLOCK_SIZE >= BLOCK_SIZE - 8) {\n            for (var i = this.bufferLength; i < BLOCK_SIZE; i++) {\n                bufferView.setUint8(i, 0);\n            }\n            this.hashBuffer();\n            this.bufferLength = 0;\n        }\n        for (var i = this.bufferLength; i < BLOCK_SIZE - 8; i++) {\n            bufferView.setUint8(i, 0);\n        }\n        bufferView.setUint32(BLOCK_SIZE - 8, Math.floor(bitsHashed / 0x100000000), true);\n        bufferView.setUint32(BLOCK_SIZE - 4, bitsHashed);\n        this.hashBuffer();\n        this.finished = true;\n    }\n    // The value in state is little-endian rather than big-endian, so flip\n    // each word into a new Uint8Array\n    var out = new Buffer(DIGEST_LENGTH);\n    for (var i = 0; i < 8; i++) {\n        out[i * 4] = (this.state[i] >>> 24) & 0xff;\n        out[i * 4 + 1] = (this.state[i] >>> 16) & 0xff;\n        out[i * 4 + 2] = (this.state[i] >>> 8) & 0xff;\n        out[i * 4 + 3] = (this.state[i] >>> 0) & 0xff;\n    }\n    return encoding ? out.toString(encoding) : out;\n};\n\nSha256.prototype.hashBuffer = function () {\n    var _a = this,\n        buffer = _a.buffer,\n        state = _a.state;\n    var state0 = state[0],\n        state1 = state[1],\n        state2 = state[2],\n        state3 = state[3],\n        state4 = state[4],\n        state5 = state[5],\n        state6 = state[6],\n        state7 = state[7];\n    for (var i = 0; i < BLOCK_SIZE; i++) {\n        if (i < 16) {\n            this.temp[i] = (((buffer[i * 4] & 0xff) << 24) |\n                ((buffer[(i * 4) + 1] & 0xff) << 16) |\n                ((buffer[(i * 4) + 2] & 0xff) << 8) |\n                (buffer[(i * 4) + 3] & 0xff));\n        }\n        else {\n            var u = this.temp[i - 2];\n            var t1_1 = (u >>> 17 | u << 15) ^\n                (u >>> 19 | u << 13) ^\n                (u >>> 10);\n            u = this.temp[i - 15];\n            var t2_1 = (u >>> 7 | u << 25) ^\n                (u >>> 18 | u << 14) ^\n                (u >>> 3);\n            this.temp[i] = (t1_1 + this.temp[i - 7] | 0) +\n                (t2_1 + this.temp[i - 16] | 0);\n        }\n        var t1 = (((((state4 >>> 6 | state4 << 26) ^\n            (state4 >>> 11 | state4 << 21) ^\n            (state4 >>> 25 | state4 << 7))\n            + ((state4 & state5) ^ (~state4 & state6))) | 0)\n            + ((state7 + ((KEY[i] + this.temp[i]) | 0)) | 0)) | 0;\n        var t2 = (((state0 >>> 2 | state0 << 30) ^\n            (state0 >>> 13 | state0 << 19) ^\n            (state0 >>> 22 | state0 << 10)) + ((state0 & state1) ^ (state0 & state2) ^ (state1 & state2))) | 0;\n        state7 = state6;\n        state6 = state5;\n        state5 = state4;\n        state4 = (state3 + t1) | 0;\n        state3 = state2;\n        state2 = state1;\n        state1 = state0;\n        state0 = (t1 + t2) | 0;\n    }\n    state[0] += state0;\n    state[1] += state1;\n    state[2] += state2;\n    state[3] += state3;\n    state[4] += state4;\n    state[5] += state5;\n    state[6] += state6;\n    state[7] += state7;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","module.exports = {\n  //provide realtime clock for performance measurement\n  now: function now() {\n    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {\n      return performance.now();\n    }\n    return Date.now();\n  }\n};\n","var eventMessageChunker = require('../event-stream/event-message-chunker').eventMessageChunker;\nvar parseEvent = require('./parse-event').parseEvent;\n\nfunction createEventStream(body, parser, model) {\n    var eventMessages = eventMessageChunker(body);\n\n    var events = [];\n\n    for (var i = 0; i < eventMessages.length; i++) {\n        events.push(parseEvent(parser, eventMessages[i], model));\n    }\n\n    return events;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    createEventStream: createEventStream\n};\n","/**\n * Takes in a buffer of event messages and splits them into individual messages.\n * @param {Buffer} buffer\n * @api private\n */\nfunction eventMessageChunker(buffer) {\n    /** @type Buffer[] */\n    var messages = [];\n    var offset = 0;\n\n    while (offset < buffer.length) {\n        var totalLength = buffer.readInt32BE(offset);\n\n        // create new buffer for individual message (shares memory with original)\n        var message = buffer.slice(offset, totalLength + offset);\n        // increment offset to it starts at the next message\n        offset += totalLength;\n\n        messages.push(message);\n    }\n\n    return messages;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    eventMessageChunker: eventMessageChunker\n};\n","var parseMessage = require('./parse-message').parseMessage;\n\n/**\n *\n * @param {*} parser\n * @param {Buffer} message\n * @param {*} shape\n * @api private\n */\nfunction parseEvent(parser, message, shape) {\n    var parsedMessage = parseMessage(message);\n\n    // check if message is an event or error\n    var messageType = parsedMessage.headers[':message-type'];\n    if (messageType) {\n        if (messageType.value === 'error') {\n            throw parseError(parsedMessage);\n        } else if (messageType.value !== 'event') {\n            // not sure how to parse non-events/non-errors, ignore for now\n            return;\n        }\n    }\n\n    // determine event type\n    var eventType = parsedMessage.headers[':event-type'];\n    // check that the event type is modeled\n    var eventModel = shape.members[eventType.value];\n    if (!eventModel) {\n        return;\n    }\n\n    var result = {};\n    // check if an event payload exists\n    var eventPayloadMemberName = eventModel.eventPayloadMemberName;\n    if (eventPayloadMemberName) {\n        var payloadShape = eventModel.members[eventPayloadMemberName];\n        // if the shape is binary, return the byte array\n        if (payloadShape.type === 'binary') {\n            result[eventPayloadMemberName] = parsedMessage.body;\n        } else {\n            result[eventPayloadMemberName] = parser.parse(parsedMessage.body.toString(), payloadShape);\n        }\n    }\n\n    // read event headers\n    var eventHeaderNames = eventModel.eventHeaderMemberNames;\n    for (var i = 0; i < eventHeaderNames.length; i++) {\n        var name = eventHeaderNames[i];\n        if (parsedMessage.headers[name]) {\n            // parse the header!\n            result[name] = eventModel.members[name].toType(parsedMessage.headers[name].value);\n        }\n    }\n\n    var output = {};\n    output[eventType.value] = result;\n    return output;\n}\n\nfunction parseError(message) {\n    var errorCode = message.headers[':error-code'];\n    var errorMessage = message.headers[':error-message'];\n    var error = new Error(errorMessage.value || errorMessage);\n    error.code = error.name = errorCode.value || errorCode;\n    return error;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseEvent: parseEvent\n};\n","var Int64 = require('./int64').Int64;\n\nvar splitMessage = require('./split-message').splitMessage;\n\nvar BOOLEAN_TAG = 'boolean';\nvar BYTE_TAG = 'byte';\nvar SHORT_TAG = 'short';\nvar INT_TAG = 'integer';\nvar LONG_TAG = 'long';\nvar BINARY_TAG = 'binary';\nvar STRING_TAG = 'string';\nvar TIMESTAMP_TAG = 'timestamp';\nvar UUID_TAG = 'uuid';\n\n/**\n * @api private\n *\n * @param {Buffer} headers\n */\nfunction parseHeaders(headers) {\n    var out = {};\n    var position = 0;\n    while (position < headers.length) {\n        var nameLength = headers.readUInt8(position++);\n        var name = headers.slice(position, position + nameLength).toString();\n        position += nameLength;\n        switch (headers.readUInt8(position++)) {\n            case 0 /* boolTrue */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: true\n                };\n                break;\n            case 1 /* boolFalse */:\n                out[name] = {\n                    type: BOOLEAN_TAG,\n                    value: false\n                };\n                break;\n            case 2 /* byte */:\n                out[name] = {\n                    type: BYTE_TAG,\n                    value: headers.readInt8(position++)\n                };\n                break;\n            case 3 /* short */:\n                out[name] = {\n                    type: SHORT_TAG,\n                    value: headers.readInt16BE(position)\n                };\n                position += 2;\n                break;\n            case 4 /* integer */:\n                out[name] = {\n                    type: INT_TAG,\n                    value: headers.readInt32BE(position)\n                };\n                position += 4;\n                break;\n            case 5 /* long */:\n                out[name] = {\n                    type: LONG_TAG,\n                    value: new Int64(headers.slice(position, position + 8))\n                };\n                position += 8;\n                break;\n            case 6 /* byteArray */:\n                var binaryLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: BINARY_TAG,\n                    value: headers.slice(position, position + binaryLength)\n                };\n                position += binaryLength;\n                break;\n            case 7 /* string */:\n                var stringLength = headers.readUInt16BE(position);\n                position += 2;\n                out[name] = {\n                    type: STRING_TAG,\n                    value: headers.slice(\n                        position,\n                        position + stringLength\n                    ).toString()\n                };\n                position += stringLength;\n                break;\n            case 8 /* timestamp */:\n                out[name] = {\n                    type: TIMESTAMP_TAG,\n                    value: new Date(\n                        new Int64(headers.slice(position, position + 8))\n                            .valueOf()\n                    )\n                };\n                position += 8;\n                break;\n            case 9 /* uuid */:\n                var uuidChars = headers.slice(position, position + 16)\n                    .toString('hex');\n                position += 16;\n                out[name] = {\n                    type: UUID_TAG,\n                    value: uuidChars.substr(0, 8) + '-' +\n                        uuidChars.substr(8, 4) + '-' +\n                        uuidChars.substr(12, 4) + '-' +\n                        uuidChars.substr(16, 4) + '-' +\n                        uuidChars.substr(20)\n                };\n                break;\n            default:\n                throw new Error('Unrecognized header type tag');\n        }\n    }\n    return out;\n}\n\nfunction parseMessage(message) {\n    var parsed = splitMessage(message);\n    return { headers: parseHeaders(parsed.headers), body: parsed.body };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    parseMessage: parseMessage\n};\n","var util = require('../core').util;\nvar toBuffer = util.buffer.toBuffer;\n\n/**\n * A lossless representation of a signed, 64-bit integer. Instances of this\n * class may be used in arithmetic expressions as if they were numeric\n * primitives, but the binary representation will be preserved unchanged as the\n * `bytes` property of the object. The bytes should be encoded as big-endian,\n * two's complement integers.\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction Int64(bytes) {\n    if (bytes.length !== 8) {\n        throw new Error('Int64 buffers must be exactly 8 bytes');\n    }\n    if (!util.Buffer.isBuffer(bytes)) bytes = toBuffer(bytes);\n\n    this.bytes = bytes;\n}\n\n/**\n * @param {number} number\n * @returns {Int64}\n *\n * @api private\n */\nInt64.fromNumber = function(number) {\n    if (number > 9223372036854775807 || number < -9223372036854775808) {\n        throw new Error(\n            number + ' is too large (or, if negative, too small) to represent as an Int64'\n        );\n    }\n\n    var bytes = new Uint8Array(8);\n    for (\n        var i = 7, remaining = Math.abs(Math.round(number));\n        i > -1 && remaining > 0;\n        i--, remaining /= 256\n    ) {\n        bytes[i] = remaining;\n    }\n\n    if (number < 0) {\n        negate(bytes);\n    }\n\n    return new Int64(bytes);\n};\n\n/**\n * @returns {number}\n *\n * @api private\n */\nInt64.prototype.valueOf = function() {\n    var bytes = this.bytes.slice(0);\n    var negative = bytes[0] & 128;\n    if (negative) {\n        negate(bytes);\n    }\n\n    return parseInt(bytes.toString('hex'), 16) * (negative ? -1 : 1);\n};\n\nInt64.prototype.toString = function() {\n    return String(this.valueOf());\n};\n\n/**\n * @param {Buffer} bytes\n *\n * @api private\n */\nfunction negate(bytes) {\n    for (var i = 0; i < 8; i++) {\n        bytes[i] ^= 0xFF;\n    }\n    for (var i = 7; i > -1; i--) {\n        bytes[i]++;\n        if (bytes[i] !== 0) {\n            break;\n        }\n    }\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    Int64: Int64\n};\n","var util = require('../core').util;\nvar toBuffer = util.buffer.toBuffer;\n\n// All prelude components are unsigned, 32-bit integers\nvar PRELUDE_MEMBER_LENGTH = 4;\n// The prelude consists of two components\nvar PRELUDE_LENGTH = PRELUDE_MEMBER_LENGTH * 2;\n// Checksums are always CRC32 hashes.\nvar CHECKSUM_LENGTH = 4;\n// Messages must include a full prelude, a prelude checksum, and a message checksum\nvar MINIMUM_MESSAGE_LENGTH = PRELUDE_LENGTH + CHECKSUM_LENGTH * 2;\n\n/**\n * @api private\n *\n * @param {Buffer} message\n */\nfunction splitMessage(message) {\n    if (!util.Buffer.isBuffer(message)) message = toBuffer(message);\n\n    if (message.length < MINIMUM_MESSAGE_LENGTH) {\n        throw new Error('Provided message too short to accommodate event stream message overhead');\n    }\n\n    if (message.length !== message.readUInt32BE(0)) {\n        throw new Error('Reported message length does not match received message length');\n    }\n\n    var expectedPreludeChecksum = message.readUInt32BE(PRELUDE_LENGTH);\n\n    if (\n        expectedPreludeChecksum !== util.crypto.crc32(\n            message.slice(0, PRELUDE_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The prelude checksum specified in the message (' +\n            expectedPreludeChecksum +\n            ') does not match the calculated CRC32 checksum.'\n        );\n    }\n\n    var expectedMessageChecksum = message.readUInt32BE(message.length - CHECKSUM_LENGTH);\n\n    if (\n        expectedMessageChecksum !== util.crypto.crc32(\n            message.slice(0, message.length - CHECKSUM_LENGTH)\n        )\n    ) {\n        throw new Error(\n            'The message checksum did not match the expected value of ' +\n                expectedMessageChecksum\n        );\n    }\n\n    var headersStart = PRELUDE_LENGTH + CHECKSUM_LENGTH;\n    var headersEnd = headersStart + message.readUInt32BE(PRELUDE_MEMBER_LENGTH);\n\n    return {\n        headers: message.slice(headersStart, headersEnd),\n        body: message.slice(headersEnd, message.length - CHECKSUM_LENGTH),\n    };\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    splitMessage: splitMessage\n};\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * @note AWS.TemporaryCredentials is deprecated, but remains available for\n *   backwards compatibility. {AWS.ChainableTemporaryCredentials} is the\n *   preferred class for temporary credentials.\n *\n * To setup temporary credentials, configure a set of master credentials\n * using the standard credentials providers (environment, EC2 instance metadata,\n * or from the filesystem), then set the global credentials to a new\n * temporary credentials object:\n *\n * ```javascript\n * // Note that environment credentials are loaded by default,\n * // the following line is shown for clarity:\n * AWS.config.credentials = new AWS.EnvironmentCredentials('AWS');\n *\n * // Now set temporary credentials seeded from the master credentials\n * AWS.config.credentials = new AWS.TemporaryCredentials();\n *\n * // subsequent requests will now use temporary credentials from AWS STS.\n * new AWS.S3().listBucket(function(err, data) { ... });\n * ```\n *\n * @!attribute masterCredentials\n *   @return [AWS.Credentials] the master (non-temporary) credentials used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @note In order to create temporary credentials, you first need to have\n   *   \"master\" credentials configured in {AWS.Config.credentials}. These\n   *   master credentials are necessary to retrieve the temporary credentials,\n   *   as well as refresh the credentials when they expire.\n   * @param params [map] a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role.\n   * @param masterCredentials [AWS.Credentials] the master (non-temporary) credentials\n   *  used to get and refresh temporary credentials from AWS STS.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.TemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.TemporaryCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials',\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function TemporaryCredentials(params, masterCredentials) {\n    AWS.Credentials.call(this);\n    this.loadMasterCredentials(masterCredentials);\n    this.expired = true;\n\n    this.params = params || {};\n    if (this.params.RoleArn) {\n      this.params.RoleSessionName =\n        this.params.RoleSessionName || 'temporary-credentials';\n    }\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh (callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load (callback) {\n    var self = this;\n    self.createClients();\n    self.masterCredentials.get(function () {\n      self.service.config.credentials = self.masterCredentials;\n      var operation = self.params.RoleArn ?\n        self.service.assumeRole : self.service.getSessionToken;\n      operation.call(self.service, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadMasterCredentials: function loadMasterCredentials (masterCredentials) {\n    this.masterCredentials = masterCredentials || AWS.config.credentials;\n    while (this.masterCredentials.masterCredentials) {\n      this.masterCredentials = this.masterCredentials.masterCredentials;\n    }\n\n    if (typeof this.masterCredentials.get !== 'function') {\n      this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function () {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var AWS = require('../core');\nvar resolveRegionalEndpointsFlag = require('../config_regional_endpoint');\nvar ENV_REGIONAL_ENDPOINT_ENABLED = 'AWS_STS_REGIONAL_ENDPOINTS';\nvar CONFIG_REGIONAL_ENDPOINT_ENABLED = 'sts_regional_endpoints';\n\nAWS.util.update(AWS.STS.prototype, {\n  /**\n   * @overload credentialsFrom(data, credentials = null)\n   *   Creates a credentials object from STS response data containing\n   *   credentials information. Useful for quickly setting AWS credentials.\n   *\n   *   @note This is a low-level utility function. If you want to load temporary\n   *     credentials into your process for subsequent requests to AWS resources,\n   *     you should use {AWS.TemporaryCredentials} instead.\n   *   @param data [map] data retrieved from a call to {getFederatedToken},\n   *     {getSessionToken}, {assumeRole}, or {assumeRoleWithWebIdentity}.\n   *   @param credentials [AWS.Credentials] an optional credentials object to\n   *     fill instead of creating a new object. Useful when modifying an\n   *     existing credentials object from a refresh call.\n   *   @return [AWS.TemporaryCredentials] the set of temporary credentials\n   *     loaded from a raw STS operation response.\n   *   @example Using credentialsFrom to load global AWS credentials\n   *     var sts = new AWS.STS();\n   *     sts.getSessionToken(function (err, data) {\n   *       if (err) console.log(\"Error getting credentials\");\n   *       else {\n   *         AWS.config.credentials = sts.credentialsFrom(data);\n   *       }\n   *     });\n   *   @see AWS.TemporaryCredentials\n   */\n  credentialsFrom: function credentialsFrom(data, credentials) {\n    if (!data) return null;\n    if (!credentials) credentials = new AWS.TemporaryCredentials();\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretAccessKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n    return credentials;\n  },\n\n  assumeRoleWithWebIdentity: function assumeRoleWithWebIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithWebIdentity', params, callback);\n  },\n\n  assumeRoleWithSAML: function assumeRoleWithSAML(params, callback) {\n    return this.makeUnauthenticatedRequest('assumeRoleWithSAML', params, callback);\n  },\n\n  /**\n   * @api private\n   */\n  setupRequestListeners: function setupRequestListeners(request) {\n    request.addListener('validate', this.optInRegionalEndpoint, true);\n  },\n\n  /**\n   * @api private\n   */\n  optInRegionalEndpoint: function optInRegionalEndpoint(req) {\n    var service = req.service;\n    var config = service.config;\n    config.stsRegionalEndpoints = resolveRegionalEndpointsFlag(service._originalConfig, {\n      env: ENV_REGIONAL_ENDPOINT_ENABLED,\n      sharedConfig: CONFIG_REGIONAL_ENDPOINT_ENABLED,\n      clientConfig: 'stsRegionalEndpoints'\n    });\n    if (\n      config.stsRegionalEndpoints === 'regional' &&\n      service.isGlobalEndpoint\n    ) {\n      //client will throw if region is not supplied; request will be signed with specified region\n      if (!config.region) {\n        throw AWS.util.error(new Error(),\n          {code: 'ConfigError', message: 'Missing region in config'});\n      }\n      var insertPoint = config.endpoint.indexOf('.amazonaws.com');\n      var regionalEndpoint = config.endpoint.substring(0, insertPoint) +\n        '.' + config.region + config.endpoint.substring(insertPoint);\n      req.httpRequest.updateEndpoint(regionalEndpoint);\n      req.httpRequest.region = config.region;\n    }\n  }\n\n});\n","var AWS = require('./core');\n/**\n * @api private\n */\nfunction validateRegionalEndpointsFlagValue(configValue, errorOptions) {\n  if (typeof configValue !== 'string') return undefined;\n  else if (['legacy', 'regional'].indexOf(configValue.toLowerCase()) >= 0) {\n    return configValue.toLowerCase();\n  } else {\n    throw AWS.util.error(new Error(), errorOptions);\n  }\n}\n\n/**\n * Resolve the configuration value for regional endpoint from difference sources: client\n * config, environmental variable, shared config file. Value can be case-insensitive\n * 'legacy' or 'reginal'.\n * @param originalConfig user-supplied config object to resolve\n * @param options a map of config property names from individual configuration source\n *  - env: name of environmental variable that refers to the config\n *  - sharedConfig: name of shared configuration file property that refers to the config\n *  - clientConfig: name of client configuration property that refers to the config\n *\n * @api private\n */\nfunction resolveRegionalEndpointsFlag(originalConfig, options) {\n  originalConfig = originalConfig || {};\n  //validate config value\n  var resolved;\n  if (originalConfig[options.clientConfig]) {\n    resolved = validateRegionalEndpointsFlagValue(originalConfig[options.clientConfig], {\n      code: 'InvalidConfiguration',\n      message: 'invalid \"' + options.clientConfig + '\" configuration. Expect \"legacy\" ' +\n      ' or \"regional\". Got \"' + originalConfig[options.clientConfig] + '\".'\n    });\n    if (resolved) return resolved;\n  }\n  if (!AWS.util.isNode()) return resolved;\n  //validate environmental variable\n  if (Object.prototype.hasOwnProperty.call(process.env, options.env)) {\n    var envFlag = process.env[options.env];\n    resolved = validateRegionalEndpointsFlagValue(envFlag, {\n      code: 'InvalidEnvironmentalVariable',\n      message: 'invalid ' + options.env + ' environmental variable. Expect \"legacy\" ' +\n      ' or \"regional\". Got \"' + process.env[options.env] + '\".'\n    });\n    if (resolved) return resolved;\n  }\n  //validate shared config file\n  var profile = {};\n  try {\n    var profiles = AWS.util.getProfilesFromSharedConfig(AWS.util.iniLoader);\n    profile = profiles[process.env.AWS_PROFILE || AWS.util.defaultProfile];\n  } catch (e) {};\n  if (profile && Object.prototype.hasOwnProperty.call(profile, options.sharedConfig)) {\n    var fileFlag = profile[options.sharedConfig];\n    resolved = validateRegionalEndpointsFlagValue(fileFlag, {\n      code: 'InvalidConfiguration',\n      message: 'invalid ' + options.sharedConfig + ' profile config. Expect \"legacy\" ' +\n      ' or \"regional\". Got \"' + profile[options.sharedConfig] + '\".'\n    });\n    if (resolved) return resolved;\n  }\n  return resolved;\n}\n\nmodule.exports = resolveRegionalEndpointsFlag;\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents temporary credentials retrieved from {AWS.STS}. Without any\n * extra parameters, credentials will be fetched from the\n * {AWS.STS.getSessionToken} operation. If an IAM role is provided, the\n * {AWS.STS.assumeRole} operation will be used to fetch credentials for the\n * role instead.\n *\n * AWS.ChainableTemporaryCredentials differs from AWS.TemporaryCredentials in\n * the way masterCredentials and refreshes are handled.\n * AWS.ChainableTemporaryCredentials refreshes expired credentials using the\n * masterCredentials passed by the user to support chaining of STS credentials.\n * However, AWS.TemporaryCredentials recursively collapses the masterCredentials\n * during instantiation, precluding the ability to refresh credentials which\n * require intermediate, temporary credentials.\n *\n * For example, if the application should use RoleA, which must be assumed from\n * RoleB, and the environment provides credentials which can assume RoleB, then\n * AWS.ChainableTemporaryCredentials must be used to support refreshing the\n * temporary credentials for RoleA:\n *\n * ```javascript\n * var roleACreds = new AWS.ChainableTemporaryCredentials({\n *   params: {RoleArn: 'RoleA'},\n *   masterCredentials: new AWS.ChainableTemporaryCredentials({\n *     params: {RoleArn: 'RoleB'},\n *     masterCredentials: new AWS.EnvironmentCredentials('AWS')\n *   })\n * });\n * ```\n *\n * If AWS.TemporaryCredentials had been used in the previous example,\n * `roleACreds` would fail to refresh because `roleACreds` would\n * use the environment credentials for the AssumeRole request.\n *\n * Another difference is that AWS.ChainableTemporaryCredentials creates the STS\n * service instance during instantiation while AWS.TemporaryCredentials creates\n * the STS service instance during the first refresh. Creating the service\n * instance during instantiation effectively captures the master credentials\n * from the global config, so that subsequent changes to the global config do\n * not affect the master credentials used to refresh the temporary credentials.\n *\n * This allows an instance of AWS.ChainableTemporaryCredentials to be assigned\n * to AWS.config.credentials:\n *\n * ```javascript\n * var envCreds = new AWS.EnvironmentCredentials('AWS');\n * AWS.config.credentials = envCreds;\n * // masterCredentials will be envCreds\n * AWS.config.credentials = new AWS.ChainableTemporaryCredentials({\n *   params: {RoleArn: '...'}\n * });\n * ```\n *\n * Similarly, to use the CredentialProviderChain's default providers as the\n * master credentials, simply create a new instance of\n * AWS.ChainableTemporaryCredentials:\n *\n * ```javascript\n * AWS.config.credentials = new ChainableTemporaryCredentials({\n *   params: {RoleArn: '...'}\n * });\n * ```\n *\n * @!attribute service\n *   @return [AWS.STS] the STS service instance used to\n *     get and refresh temporary credentials from AWS STS.\n * @note (see constructor)\n */\nAWS.ChainableTemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new temporary credentials object.\n   *\n   * @param options [map] a set of options\n   * @option options params [map] ({}) a map of options that are passed to the\n   *   {AWS.STS.assumeRole} or {AWS.STS.getSessionToken} operations.\n   *   If a `RoleArn` parameter is passed in, credentials will be based on the\n   *   IAM role. If a `SerialNumber` parameter is passed in, {tokenCodeFn} must\n   *   also be passed in or an error will be thrown.\n   * @option options masterCredentials [AWS.Credentials] the master credentials\n   *   used to get and refresh temporary credentials from AWS STS. By default,\n   *   AWS.config.credentials or AWS.config.credentialProvider will be used.\n   * @option options tokenCodeFn [Function] (null) Function to provide\n   *   `TokenCode`, if `SerialNumber` is provided for profile in {params}. Function\n   *   is called with value of `SerialNumber` and `callback`, and should provide\n   *   the `TokenCode` or an error to the callback in the format\n   *   `callback(err, token)`.\n   * @example Creating a new credentials object for generic temporary credentials\n   *   AWS.config.credentials = new AWS.ChainableTemporaryCredentials();\n   * @example Creating a new credentials object for an IAM role\n   *   AWS.config.credentials = new AWS.ChainableTemporaryCredentials({\n   *     params: {\n   *       RoleArn: 'arn:aws:iam::1234567890:role/TemporaryCredentials'\n   *     }\n   *   });\n   * @see AWS.STS.assumeRole\n   * @see AWS.STS.getSessionToken\n   */\n  constructor: function ChainableTemporaryCredentials(options) {\n    AWS.Credentials.call(this);\n    options = options || {};\n    this.errorCode = 'ChainableTemporaryCredentialsProviderFailure';\n    this.expired = true;\n    this.tokenCodeFn = null;\n\n    var params = AWS.util.copy(options.params) || {};\n    if (params.RoleArn) {\n      params.RoleSessionName = params.RoleSessionName || 'temporary-credentials';\n    }\n    if (params.SerialNumber) {\n      if (!options.tokenCodeFn || (typeof options.tokenCodeFn !== 'function')) {\n        throw new AWS.util.error(\n          new Error('tokenCodeFn must be a function when params.SerialNumber is given'),\n          {code: this.errorCode}\n        );\n      } else {\n        this.tokenCodeFn = options.tokenCodeFn;\n      }\n    }\n    var config = AWS.util.merge(\n      {\n        params: params,\n        credentials: options.masterCredentials || AWS.config.credentials\n      },\n      options.stsConfig || {}\n    );\n    this.service = new STS(config);\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRole} or\n   * {AWS.STS.getSessionToken}, depending on whether an IAM role ARN was passed\n   * to the credentials {constructor}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    var self = this;\n    var operation = self.service.config.params.RoleArn ? 'assumeRole' : 'getSessionToken';\n    this.getTokenCode(function (err, tokenCode) {\n      var params = {};\n      if (err) {\n        callback(err);\n        return;\n      }\n      if (tokenCode) {\n        params.TokenCode = tokenCode;\n      }\n      self.service[operation](params, function (err, data) {\n        if (!err) {\n          self.service.credentialsFrom(data, self);\n        }\n        callback(err);\n      });\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getTokenCode: function getTokenCode(callback) {\n    var self = this;\n    if (this.tokenCodeFn) {\n      this.tokenCodeFn(this.service.config.params.SerialNumber, function (err, token) {\n        if (err) {\n          var message = err;\n          if (err instanceof Error) {\n            message = err.message;\n          }\n          callback(\n            AWS.util.error(\n              new Error('Error fetching MFA token: ' + message),\n              { code: self.errorCode}\n            )\n          );\n          return;\n        }\n        callback(null, token);\n      });\n    } else {\n      callback(null);\n    }\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given. In addition, the\n * `WebIdentityToken` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn` and `WebIdentityToken` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.WebIdentityToken = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n */\nAWS.WebIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithWebIdentity)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.WebIdentityCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/WebIdentity',\n   *     WebIdentityToken: 'ABCDEFGHIJKLMNOP', // token from identity service\n   *     RoleSessionName: 'web' // optional name, defaults to web-identity\n   *   }, {\n   *     // optionally provide configuration to apply to the underlying AWS.STS service client\n   *     // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *     // specify timeout options\n   *     httpOptions: {\n   *       timeout: 100\n   *     }\n   *   });\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.Config\n   */\n  constructor: function WebIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.params.RoleSessionName = this.params.RoleSessionName || 'web-identity';\n    this.data = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithWebIdentity}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.service.assumeRoleWithWebIdentity(function (err, data) {\n      self.data = null;\n      if (!err) {\n        self.data = data;\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    if (!this.service) {\n      var stsConfig = AWS.util.merge({}, this._clientConfig);\n      stsConfig.params = this.params;\n      this.service = new STS(stsConfig);\n    }\n  }\n\n});\n","var AWS = require('../core');\nvar CognitoIdentity = require('../../clients/cognitoidentity');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS Web Identity Federation using\n * the Amazon Cognito Identity service.\n *\n * By default this provider gets credentials using the\n * {AWS.CognitoIdentity.getCredentialsForIdentity} service operation, which\n * requires either an `IdentityId` or an `IdentityPoolId` (Amazon Cognito\n * Identity Pool ID), which is used to call {AWS.CognitoIdentity.getId} to\n * obtain an `IdentityId`. If the identity or identity pool is not configured in\n * the Amazon Cognito Console to use IAM roles with the appropriate permissions,\n * then additionally a `RoleArn` is required containing the ARN of the IAM trust\n * policy for the Amazon Cognito role that the user will log into. If a `RoleArn`\n * is provided, then this provider gets credentials using the\n * {AWS.STS.assumeRoleWithWebIdentity} service operation, after first getting an\n * Open ID token from {AWS.CognitoIdentity.getOpenIdToken}.\n *\n * In addition, if this credential provider is used to provide authenticated\n * login, the `Logins` map may be set to the tokens provided by the respective\n * identity providers. See {constructor} for an example on creating a credentials\n * object with proper property values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the WebIdentityToken, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.Logins['graph.facebook.com'] = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.CognitoIdentity.getId},\n *     {AWS.CognitoIdentity.getOpenIdToken}, and\n *     {AWS.STS.assumeRoleWithWebIdentity}. To update the token, set the\n *     `params.WebIdentityToken` property.\n * @!attribute data\n *   @return [map] the raw data response from the call to\n *     {AWS.CognitoIdentity.getCredentialsForIdentity}, or\n *     {AWS.STS.assumeRoleWithWebIdentity}. Use this if you want to get\n *     access to other properties from the response.\n * @!attribute identityId\n *   @return [String] the Cognito ID returned by the last call to\n *     {AWS.CognitoIdentity.getOpenIdToken}. This ID represents the actual\n *     final resolved identity ID from Amazon Cognito.\n */\nAWS.CognitoIdentityCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * @api private\n   */\n  localStorageKey: {\n    id: 'aws.cognito.identity-id.',\n    providers: 'aws.cognito.identity-providers.'\n  },\n\n  /**\n   * Creates a new credentials object.\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n   *\n   *     // either IdentityPoolId or IdentityId is required\n   *     // See the IdentityPoolId param for AWS.CognitoIdentity.getID (linked below)\n   *     // See the IdentityId param for AWS.CognitoIdentity.getCredentialsForIdentity\n   *     // or AWS.CognitoIdentity.getOpenIdToken (linked below)\n   *     IdentityPoolId: 'us-east-1:1699ebc0-7900-4099-b910-2df94f52a030',\n   *     IdentityId: 'us-east-1:128d0a74-c82f-4553-916d-90053e4a8b0f'\n   *\n   *     // optional, only necessary when the identity pool is not configured\n   *     // to use IAM roles in the Amazon Cognito Console\n   *     // See the RoleArn param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleArn: 'arn:aws:iam::1234567890:role/MYAPP-CognitoIdentity',\n   *\n   *     // optional tokens, used for authenticated login\n   *     // See the Logins param for AWS.CognitoIdentity.getID (linked below)\n   *     Logins: {\n   *       'graph.facebook.com': 'FBTOKEN',\n   *       'www.amazon.com': 'AMAZONTOKEN',\n   *       'accounts.google.com': 'GOOGLETOKEN',\n   *       'api.twitter.com': 'TWITTERTOKEN',\n   *       'www.digits.com': 'DIGITSTOKEN'\n   *     },\n   *\n   *     // optional name, defaults to web-identity\n   *     // See the RoleSessionName param for AWS.STS.assumeRoleWithWebIdentity (linked below)\n   *     RoleSessionName: 'web',\n   *\n   *     // optional, only necessary when application runs in a browser\n   *     // and multiple users are signed in at once, used for caching\n   *     LoginId: 'example@gmail.com'\n   *\n   *   }, {\n   *      // optionally provide configuration to apply to the underlying service clients\n   *      // if configuration is not provided, then configuration will be pulled from AWS.config\n   *\n   *      // region should match the region your identity pool is located in\n   *      region: 'us-east-1',\n   *\n   *      // specify timeout options\n   *      httpOptions: {\n   *        timeout: 100\n   *      }\n   *   });\n   * @see AWS.CognitoIdentity.getId\n   * @see AWS.CognitoIdentity.getCredentialsForIdentity\n   * @see AWS.STS.assumeRoleWithWebIdentity\n   * @see AWS.CognitoIdentity.getOpenIdToken\n   * @see AWS.Config\n   * @note If a region is not provided in the global AWS.config, or\n   *   specified in the `clientConfig` to the CognitoIdentityCredentials\n   *   constructor, you may encounter a 'Missing credentials in config' error\n   *   when calling making a service call.\n   */\n  constructor: function CognitoIdentityCredentials(params, clientConfig) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n    this.data = null;\n    this._identityId = null;\n    this._clientConfig = AWS.util.copy(clientConfig || {});\n    this.loadCachedId();\n    var self = this;\n    Object.defineProperty(this, 'identityId', {\n      get: function() {\n        self.loadCachedId();\n        return self._identityId || self.params.IdentityId;\n      },\n      set: function(identityId) {\n        self._identityId = identityId;\n      }\n    });\n  },\n\n  /**\n   * Refreshes credentials using {AWS.CognitoIdentity.getCredentialsForIdentity},\n   * or {AWS.STS.assumeRoleWithWebIdentity}.\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see AWS.Credentials.get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   * @param callback\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.data = null;\n    self._identityId = null;\n    self.getId(function(err) {\n      if (!err) {\n        if (!self.params.RoleArn) {\n          self.getCredentialsForIdentity(callback);\n        } else {\n          self.getCredentialsFromSTS(callback);\n        }\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * Clears the cached Cognito ID associated with the currently configured\n   * identity pool ID. Use this to manually invalidate your cache if\n   * the identity pool ID was deleted.\n   */\n  clearCachedId: function clearCache() {\n    this._identityId = null;\n    delete this.params.IdentityId;\n\n    var poolId = this.params.IdentityPoolId;\n    var loginId = this.params.LoginId || '';\n    delete this.storage[this.localStorageKey.id + poolId + loginId];\n    delete this.storage[this.localStorageKey.providers + poolId + loginId];\n  },\n\n  /**\n   * @api private\n   */\n  clearIdOnNotAuthorized: function clearIdOnNotAuthorized(err) {\n    var self = this;\n    if (err.code == 'NotAuthorizedException') {\n      self.clearCachedId();\n    }\n  },\n\n  /**\n   * Retrieves a Cognito ID, loading from cache if it was already retrieved\n   * on this device.\n   *\n   * @callback callback function(err, identityId)\n   *   @param err [Error, null] an error object if the call failed or null if\n   *     it succeeded.\n   *   @param identityId [String, null] if successful, the callback will return\n   *     the Cognito ID.\n   * @note If not loaded explicitly, the Cognito ID is loaded and stored in\n   *   localStorage in the browser environment of a device.\n   * @api private\n   */\n  getId: function getId(callback) {\n    var self = this;\n    if (typeof self.params.IdentityId === 'string') {\n      return callback(null, self.params.IdentityId);\n    }\n\n    self.cognito.getId(function(err, data) {\n      if (!err && data.IdentityId) {\n        self.params.IdentityId = data.IdentityId;\n        callback(null, data.IdentityId);\n      } else {\n        callback(err);\n      }\n    });\n  },\n\n\n  /**\n   * @api private\n   */\n  loadCredentials: function loadCredentials(data, credentials) {\n    if (!data || !credentials) return;\n    credentials.expired = false;\n    credentials.accessKeyId = data.Credentials.AccessKeyId;\n    credentials.secretAccessKey = data.Credentials.SecretKey;\n    credentials.sessionToken = data.Credentials.SessionToken;\n    credentials.expireTime = data.Credentials.Expiration;\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsForIdentity: function getCredentialsForIdentity(callback) {\n    var self = this;\n    self.cognito.getCredentialsForIdentity(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.data = data;\n        self.loadCredentials(self.data, self);\n      } else {\n        self.clearIdOnNotAuthorized(err);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  getCredentialsFromSTS: function getCredentialsFromSTS(callback) {\n    var self = this;\n    self.cognito.getOpenIdToken(function(err, data) {\n      if (!err) {\n        self.cacheId(data);\n        self.params.WebIdentityToken = data.Token;\n        self.webIdentityCredentials.refresh(function(webErr) {\n          if (!webErr) {\n            self.data = self.webIdentityCredentials.data;\n            self.sts.credentialsFrom(self.data, self);\n          }\n          callback(webErr);\n        });\n      } else {\n        self.clearIdOnNotAuthorized(err);\n        callback(err);\n      }\n    });\n  },\n\n  /**\n   * @api private\n   */\n  loadCachedId: function loadCachedId() {\n    var self = this;\n\n    // in the browser we source default IdentityId from localStorage\n    if (AWS.util.isBrowser() && !self.params.IdentityId) {\n      var id = self.getStorage('id');\n      if (id && self.params.Logins) {\n        var actualProviders = Object.keys(self.params.Logins);\n        var cachedProviders =\n          (self.getStorage('providers') || '').split(',');\n\n        // only load ID if at least one provider used this ID before\n        var intersect = cachedProviders.filter(function(n) {\n          return actualProviders.indexOf(n) !== -1;\n        });\n        if (intersect.length !== 0) {\n          self.params.IdentityId = id;\n        }\n      } else if (id) {\n        self.params.IdentityId = id;\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    var clientConfig = this._clientConfig;\n    this.webIdentityCredentials = this.webIdentityCredentials ||\n      new AWS.WebIdentityCredentials(this.params, clientConfig);\n    if (!this.cognito) {\n      var cognitoConfig = AWS.util.merge({}, clientConfig);\n      cognitoConfig.params = this.params;\n      this.cognito = new CognitoIdentity(cognitoConfig);\n    }\n    this.sts = this.sts || new STS(clientConfig);\n  },\n\n  /**\n   * @api private\n   */\n  cacheId: function cacheId(data) {\n    this._identityId = data.IdentityId;\n    this.params.IdentityId = this._identityId;\n\n    // cache this IdentityId in browser localStorage if possible\n    if (AWS.util.isBrowser()) {\n      this.setStorage('id', data.IdentityId);\n\n      if (this.params.Logins) {\n        this.setStorage('providers', Object.keys(this.params.Logins).join(','));\n      }\n    }\n  },\n\n  /**\n   * @api private\n   */\n  getStorage: function getStorage(key) {\n    return this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')];\n  },\n\n  /**\n   * @api private\n   */\n  setStorage: function setStorage(key, val) {\n    try {\n      this.storage[this.localStorageKey[key] + this.params.IdentityPoolId + (this.params.LoginId || '')] = val;\n    } catch (_) {}\n  },\n\n  /**\n   * @api private\n   */\n  storage: (function() {\n    try {\n      var storage = AWS.util.isBrowser() && window.localStorage !== null && typeof window.localStorage === 'object' ?\n          window.localStorage : {};\n\n      // Test set/remove which would throw an error in Safari's private browsing\n      storage['aws.test-storage'] = 'foobar';\n      delete storage['aws.test-storage'];\n\n      return storage;\n    } catch (_) {\n      return {};\n    }\n  })()\n});\n","require('../lib/node_loader');\nvar AWS = require('../lib/core');\nvar Service = AWS.Service;\nvar apiLoader = AWS.apiLoader;\n\napiLoader.services['cognitoidentity'] = {};\nAWS.CognitoIdentity = Service.defineService('cognitoidentity', ['2014-06-30']);\nrequire('../lib/services/cognitoidentity');\nObject.defineProperty(apiLoader.services['cognitoidentity'], '2014-06-30', {\n  get: function get() {\n    var model = require('../apis/cognito-identity-2014-06-30.min.json');\n    model.paginators = require('../apis/cognito-identity-2014-06-30.paginators.json').pagination;\n    return model;\n  },\n  enumerable: true,\n  configurable: true\n});\n\nmodule.exports = AWS.CognitoIdentity;\n","var AWS = require('../core');\n\nAWS.util.update(AWS.CognitoIdentity.prototype, {\n  getOpenIdToken: function getOpenIdToken(params, callback) {\n    return this.makeUnauthenticatedRequest('getOpenIdToken', params, callback);\n  },\n\n  getId: function getId(params, callback) {\n    return this.makeUnauthenticatedRequest('getId', params, callback);\n  },\n\n  getCredentialsForIdentity: function getCredentialsForIdentity(params, callback) {\n    return this.makeUnauthenticatedRequest('getCredentialsForIdentity', params, callback);\n  }\n});\n","var AWS = require('../core');\nvar STS = require('../../clients/sts');\n\n/**\n * Represents credentials retrieved from STS SAML support.\n *\n * By default this provider gets credentials using the\n * {AWS.STS.assumeRoleWithSAML} service operation. This operation\n * requires a `RoleArn` containing the ARN of the IAM trust policy for the\n * application for which credentials will be given, as well as a `PrincipalArn`\n * representing the ARN for the SAML identity provider. In addition, the\n * `SAMLAssertion` must be set to the token provided by the identity\n * provider. See {constructor} for an example on creating a credentials\n * object with proper `RoleArn`, `PrincipalArn`, and `SAMLAssertion` values.\n *\n * ## Refreshing Credentials from Identity Service\n *\n * In addition to AWS credentials expiring after a given amount of time, the\n * login token from the identity provider will also expire. Once this token\n * expires, it will not be usable to refresh AWS credentials, and another\n * token will be needed. The SDK does not manage refreshing of the token value,\n * but this can be done through a \"refresh token\" supported by most identity\n * providers. Consult the documentation for the identity provider for refreshing\n * tokens. Once the refreshed token is acquired, you should make sure to update\n * this new token in the credentials object's {params} property. The following\n * code will update the SAMLAssertion, assuming you have retrieved an updated\n * token from the identity provider:\n *\n * ```javascript\n * AWS.config.credentials.params.SAMLAssertion = updatedToken;\n * ```\n *\n * Future calls to `credentials.refresh()` will now use the new token.\n *\n * @!attribute params\n *   @return [map] the map of params passed to\n *     {AWS.STS.assumeRoleWithSAML}. To update the token, set the\n *     `params.SAMLAssertion` property.\n */\nAWS.SAMLCredentials = AWS.util.inherit(AWS.Credentials, {\n  /**\n   * Creates a new credentials object.\n   * @param (see AWS.STS.assumeRoleWithSAML)\n   * @example Creating a new credentials object\n   *   AWS.config.credentials = new AWS.SAMLCredentials({\n   *     RoleArn: 'arn:aws:iam::1234567890:role/SAMLRole',\n   *     PrincipalArn: 'arn:aws:iam::1234567890:role/SAMLPrincipal',\n   *     SAMLAssertion: 'base64-token', // base64-encoded token from IdP\n   *   });\n   * @see AWS.STS.assumeRoleWithSAML\n   */\n  constructor: function SAMLCredentials(params) {\n    AWS.Credentials.call(this);\n    this.expired = true;\n    this.params = params;\n  },\n\n  /**\n   * Refreshes credentials using {AWS.STS.assumeRoleWithSAML}\n   *\n   * @callback callback function(err)\n   *   Called when the STS service responds (or fails). When\n   *   this callback is called with no error, it means that the credentials\n   *   information has been loaded into the object (as the `accessKeyId`,\n   *   `secretAccessKey`, and `sessionToken` properties).\n   *   @param err [Error] if an error occurred, this value will be filled\n   * @see get\n   */\n  refresh: function refresh(callback) {\n    this.coalesceRefresh(callback || AWS.util.fn.callback);\n  },\n\n  /**\n   * @api private\n   */\n  load: function load(callback) {\n    var self = this;\n    self.createClients();\n    self.service.assumeRoleWithSAML(function (err, data) {\n      if (!err) {\n        self.service.credentialsFrom(data, self);\n      }\n      callback(err);\n    });\n  },\n\n  /**\n   * @api private\n   */\n  createClients: function() {\n    this.service = this.service || new STS({params: this.params});\n  }\n\n});\n","var util = require('../util');\nvar Shape = require('../model/shape');\n\nfunction DomXmlParser() { }\n\nDomXmlParser.prototype.parse = function(xml, shape) {\n  if (xml.replace(/^\\s+/, '') === '') return {};\n\n  var result, error;\n  try {\n    if (window.DOMParser) {\n      try {\n        var parser = new DOMParser();\n        result = parser.parseFromString(xml, 'text/xml');\n      } catch (syntaxError) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            originalError: syntaxError,\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      if (result.documentElement === null) {\n        throw util.error(new Error('Cannot parse empty document.'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n\n      var isError = result.getElementsByTagName('parsererror')[0];\n      if (isError && (isError.parentNode === result ||\n          isError.parentNode.nodeName === 'body' ||\n          isError.parentNode.parentNode === result ||\n          isError.parentNode.parentNode.nodeName === 'body')) {\n        var errorElement = isError.getElementsByTagName('div')[0] || isError;\n        throw util.error(new Error(errorElement.textContent || 'Parser error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else if (window.ActiveXObject) {\n      result = new window.ActiveXObject('Microsoft.XMLDOM');\n      result.async = false;\n\n      if (!result.loadXML(xml)) {\n        throw util.error(new Error('Parse error in document'),\n          {\n            code: 'XMLParserError',\n            retryable: true\n          });\n      }\n    } else {\n      throw new Error('Cannot load XML parser');\n    }\n  } catch (e) {\n    error = e;\n  }\n\n  if (result && result.documentElement && !error) {\n    var data = parseXml(result.documentElement, shape);\n    var metadata = getElementByTagName(result.documentElement, 'ResponseMetadata');\n    if (metadata) {\n      data.ResponseMetadata = parseXml(metadata, {});\n    }\n    return data;\n  } else if (error) {\n    throw util.error(error || new Error(), {code: 'XMLParserError', retryable: true});\n  } else { // empty xml document\n    return {};\n  }\n};\n\nfunction getElementByTagName(xml, tag) {\n  var elements = xml.getElementsByTagName(tag);\n  for (var i = 0, iLen = elements.length; i < iLen; i++) {\n    if (elements[i].parentNode === xml) {\n      return elements[i];\n    }\n  }\n}\n\nfunction parseXml(xml, shape) {\n  if (!shape) shape = {};\n  switch (shape.type) {\n    case 'structure': return parseStructure(xml, shape);\n    case 'map': return parseMap(xml, shape);\n    case 'list': return parseList(xml, shape);\n    case undefined: case null: return parseUnknown(xml);\n    default: return parseScalar(xml, shape);\n  }\n}\n\nfunction parseStructure(xml, shape) {\n  var data = {};\n  if (xml === null) return data;\n\n  util.each(shape.members, function(memberName, memberShape) {\n    if (memberShape.isXmlAttribute) {\n      if (Object.prototype.hasOwnProperty.call(xml.attributes, memberShape.name)) {\n        var value = xml.attributes[memberShape.name].value;\n        data[memberName] = parseXml({textContent: value}, memberShape);\n      }\n    } else {\n      var xmlChild = memberShape.flattened ? xml :\n        getElementByTagName(xml, memberShape.name);\n      if (xmlChild) {\n        data[memberName] = parseXml(xmlChild, memberShape);\n      } else if (\n        !memberShape.flattened &&\n        memberShape.type === 'list' &&\n        !shape.api.xmlNoDefaultLists) {\n        data[memberName] = memberShape.defaultValue;\n      }\n    }\n  });\n\n  return data;\n}\n\nfunction parseMap(xml, shape) {\n  var data = {};\n  var xmlKey = shape.key.name || 'key';\n  var xmlValue = shape.value.name || 'value';\n  var tagName = shape.flattened ? shape.name : 'entry';\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      var key = getElementByTagName(child, xmlKey).textContent;\n      var value = getElementByTagName(child, xmlValue);\n      data[key] = parseXml(value, shape.value);\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseList(xml, shape) {\n  var data = [];\n  var tagName = shape.flattened ? shape.name : (shape.member.name || 'member');\n\n  var child = xml.firstElementChild;\n  while (child) {\n    if (child.nodeName === tagName) {\n      data.push(parseXml(child, shape.member));\n    }\n    child = child.nextElementSibling;\n  }\n  return data;\n}\n\nfunction parseScalar(xml, shape) {\n  if (xml.getAttribute) {\n    var encoding = xml.getAttribute('encoding');\n    if (encoding === 'base64') {\n      shape = new Shape.create({type: encoding});\n    }\n  }\n\n  var text = xml.textContent;\n  if (text === '') text = null;\n  if (typeof shape.toType === 'function') {\n    return shape.toType(text);\n  } else {\n    return text;\n  }\n}\n\nfunction parseUnknown(xml) {\n  if (xml === undefined || xml === null) return '';\n\n  // empty object\n  if (!xml.firstElementChild) {\n    if (xml.parentNode.parentNode === null) return {};\n    if (xml.childNodes.length === 0) return '';\n    else return xml.textContent;\n  }\n\n  // object, parse as structure\n  var shape = {type: 'structure', members: {}};\n  var child = xml.firstElementChild;\n  while (child) {\n    var tag = child.nodeName;\n    if (Object.prototype.hasOwnProperty.call(shape.members, tag)) {\n      // multiple tags of the same name makes it a list\n      shape.members[tag].type = 'list';\n    } else {\n      shape.members[tag] = {name: tag};\n    }\n    child = child.nextElementSibling;\n  }\n  return parseStructure(xml, shape);\n}\n\n/**\n * @api private\n */\nmodule.exports = DomXmlParser;\n","var AWS = require('../core');\nvar EventEmitter = require('events').EventEmitter;\nrequire('../http');\n\n/**\n * @api private\n */\nAWS.XHRClient = AWS.util.inherit({\n  handleRequest: function handleRequest(httpRequest, httpOptions, callback, errCallback) {\n    var self = this;\n    var endpoint = httpRequest.endpoint;\n    var emitter = new EventEmitter();\n    var href = endpoint.protocol + '//' + endpoint.hostname;\n    if (endpoint.port !== 80 && endpoint.port !== 443) {\n      href += ':' + endpoint.port;\n    }\n    href += httpRequest.path;\n\n    var xhr = new XMLHttpRequest(), headersEmitted = false;\n    httpRequest.stream = xhr;\n\n    xhr.addEventListener('readystatechange', function() {\n      try {\n        if (xhr.status === 0) return; // 0 code is invalid\n      } catch (e) { return; }\n\n      if (this.readyState >= this.HEADERS_RECEIVED && !headersEmitted) {\n        emitter.statusCode = xhr.status;\n        emitter.headers = self.parseHeaders(xhr.getAllResponseHeaders());\n        emitter.emit(\n          'headers',\n          emitter.statusCode,\n          emitter.headers,\n          xhr.statusText\n        );\n        headersEmitted = true;\n      }\n      if (this.readyState === this.DONE) {\n        self.finishRequest(xhr, emitter);\n      }\n    }, false);\n    xhr.upload.addEventListener('progress', function (evt) {\n      emitter.emit('sendProgress', evt);\n    });\n    xhr.addEventListener('progress', function (evt) {\n      emitter.emit('receiveProgress', evt);\n    }, false);\n    xhr.addEventListener('timeout', function () {\n      errCallback(AWS.util.error(new Error('Timeout'), {code: 'TimeoutError'}));\n    }, false);\n    xhr.addEventListener('error', function () {\n      errCallback(AWS.util.error(new Error('Network Failure'), {\n        code: 'NetworkingError'\n      }));\n    }, false);\n    xhr.addEventListener('abort', function () {\n      errCallback(AWS.util.error(new Error('Request aborted'), {\n        code: 'RequestAbortedError'\n      }));\n    }, false);\n\n    callback(emitter);\n    xhr.open(httpRequest.method, href, httpOptions.xhrAsync !== false);\n    AWS.util.each(httpRequest.headers, function (key, value) {\n      if (key !== 'Content-Length' && key !== 'User-Agent' && key !== 'Host') {\n        xhr.setRequestHeader(key, value);\n      }\n    });\n\n    if (httpOptions.timeout && httpOptions.xhrAsync !== false) {\n      xhr.timeout = httpOptions.timeout;\n    }\n\n    if (httpOptions.xhrWithCredentials) {\n      xhr.withCredentials = true;\n    }\n    try { xhr.responseType = 'arraybuffer'; } catch (e) {}\n\n    try {\n      if (httpRequest.body) {\n        xhr.send(httpRequest.body);\n      } else {\n        xhr.send();\n      }\n    } catch (err) {\n      if (httpRequest.body && typeof httpRequest.body.buffer === 'object') {\n        xhr.send(httpRequest.body.buffer); // send ArrayBuffer directly\n      } else {\n        throw err;\n      }\n    }\n\n    return emitter;\n  },\n\n  parseHeaders: function parseHeaders(rawHeaders) {\n    var headers = {};\n    AWS.util.arrayEach(rawHeaders.split(/\\r?\\n/), function (line) {\n      var key = line.split(':', 1)[0];\n      var value = line.substring(key.length + 2);\n      if (key.length > 0) headers[key.toLowerCase()] = value;\n    });\n    return headers;\n  },\n\n  finishRequest: function finishRequest(xhr, emitter) {\n    var buffer;\n    if (xhr.responseType === 'arraybuffer' && xhr.response) {\n      var ab = xhr.response;\n      buffer = new AWS.util.Buffer(ab.byteLength);\n      var view = new Uint8Array(ab);\n      for (var i = 0; i < buffer.length; ++i) {\n        buffer[i] = view[i];\n      }\n    }\n\n    try {\n      if (!buffer && typeof xhr.responseText === 'string') {\n        buffer = new AWS.util.Buffer(xhr.responseText);\n      }\n    } catch (e) {}\n\n    if (buffer) emitter.emit('data', buffer);\n    emitter.emit('end');\n  }\n});\n\n/**\n * @api private\n */\nAWS.HttpClient.prototype = AWS.XHRClient.prototype;\n\n/**\n * @api private\n */\nAWS.HttpClient.streamsApiVersion = 1;\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar AuthenticationDetails = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationDetails object\n   * @param {object=} data Creation options.\n   * @param {string} data.Username User being authenticated.\n   * @param {string} data.Password Plain-text password to authenticate with.\n   * @param {(AttributeArg[])?} data.ValidationData Application extra metadata.\n   * @param {(AttributeArg[])?} data.AuthParamaters Authentication paramaters for custom auth.\n   */\n  function AuthenticationDetails(data) {\n    var _ref = data || {},\n        ValidationData = _ref.ValidationData,\n        Username = _ref.Username,\n        Password = _ref.Password,\n        AuthParameters = _ref.AuthParameters,\n        ClientMetadata = _ref.ClientMetadata;\n\n    this.validationData = ValidationData || {};\n    this.authParameters = AuthParameters || {};\n    this.clientMetadata = ClientMetadata || {};\n    this.username = Username;\n    this.password = Password;\n  }\n  /**\n   * @returns {string} the record's username\n   */\n\n\n  var _proto = AuthenticationDetails.prototype;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {string} the record's password\n   */\n  ;\n\n  _proto.getPassword = function getPassword() {\n    return this.password;\n  }\n  /**\n   * @returns {Array} the record's validationData\n   */\n  ;\n\n  _proto.getValidationData = function getValidationData() {\n    return this.validationData;\n  }\n  /**\n   * @returns {Array} the record's authParameters\n   */\n  ;\n\n  _proto.getAuthParameters = function getAuthParameters() {\n    return this.authParameters;\n  }\n  /**\n   * @returns {ClientMetadata} the clientMetadata for a Lambda trigger\n   */\n  ;\n\n  _proto.getClientMetadata = function getClientMetadata() {\n    return this.clientMetadata;\n  };\n\n  return AuthenticationDetails;\n}();\n\nexport { AuthenticationDetails as default };","// A small implementation of BigInteger based on http://www-cs-students.stanford.edu/~tjw/jsbn/\n//\n// All public methods have been removed except the following:\n//   new BigInteger(a, b) (only radix 2, 4, 8, 16 and 32 supported)\n//   toString (only radix 2, 4, 8, 16 and 32 supported)\n//   negate\n//   abs\n//   compareTo\n//   bitLength\n//   mod\n//   equals\n//   add\n//   subtract\n//   multiply\n//   divide\n//   modPow\nexport default BigInteger;\n/*\n * Copyright (c) 2003-2005  Tom Wu\n * All Rights Reserved.\n *\n * Permission is hereby granted, free of charge, to any person obtaining\n * a copy of this software and associated documentation files (the\n * \"Software\"), to deal in the Software without restriction, including\n * without limitation the rights to use, copy, modify, merge, publish,\n * distribute, sublicense, and/or sell copies of the Software, and to\n * permit persons to whom the Software is furnished to do so, subject to\n * the following conditions:\n *\n * The above copyright notice and this permission notice shall be\n * included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS-IS\" AND WITHOUT WARRANTY OF ANY KIND,\n * EXPRESS, IMPLIED OR OTHERWISE, INCLUDING WITHOUT LIMITATION, ANY\n * WARRANTY OF MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.\n *\n * IN NO EVENT SHALL TOM WU BE LIABLE FOR ANY SPECIAL, INCIDENTAL,\n * INDIRECT OR CONSEQUENTIAL DAMAGES OF ANY KIND, OR ANY DAMAGES WHATSOEVER\n * RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER OR NOT ADVISED OF\n * THE POSSIBILITY OF DAMAGE, AND ON ANY THEORY OF LIABILITY, ARISING OUT\n * OF OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n *\n * In addition, the following condition applies:\n *\n * All redistributions must retain an intact copy of this copyright notice\n * and disclaimer.\n */\n// (public) Constructor\n\nfunction BigInteger(a, b) {\n  if (a != null) this.fromString(a, b);\n} // return new, unset BigInteger\n\n\nfunction nbi() {\n  return new BigInteger(null);\n} // Bits per digit\n\n\nvar dbits; // JavaScript engine analysis\n\nvar canary = 0xdeadbeefcafe;\nvar j_lm = (canary & 0xffffff) == 0xefcafe; // am: Compute w_j += (x*this_i), propagate carries,\n// c is initial carry, returns final carry.\n// c < 3*dvalue, x < 2*dvalue, this_i < dvalue\n// We need to select the fastest one that works in this environment.\n// am1: use a single mult and divide to get the high bits,\n// max digit bits should be 26 because\n// max internal value = 2*dvalue^2-2*dvalue (< 2^53)\n\nfunction am1(i, x, w, j, c, n) {\n  while (--n >= 0) {\n    var v = x * this[i++] + w[j] + c;\n    c = Math.floor(v / 0x4000000);\n    w[j++] = v & 0x3ffffff;\n  }\n\n  return c;\n} // am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\n\n\nfunction am2(i, x, w, j, c, n) {\n  var xl = x & 0x7fff,\n      xh = x >> 15;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x7fff;\n    var h = this[i++] >> 15;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n    c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n    w[j++] = l & 0x3fffffff;\n  }\n\n  return c;\n} // Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\n\n\nfunction am3(i, x, w, j, c, n) {\n  var xl = x & 0x3fff,\n      xh = x >> 14;\n\n  while (--n >= 0) {\n    var l = this[i] & 0x3fff;\n    var h = this[i++] >> 14;\n    var m = xh * l + h * xl;\n    l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n    c = (l >> 28) + (m >> 14) + xh * h;\n    w[j++] = l & 0xfffffff;\n  }\n\n  return c;\n}\n\nvar inBrowser = typeof navigator !== 'undefined';\n\nif (inBrowser && j_lm && navigator.appName == 'Microsoft Internet Explorer') {\n  BigInteger.prototype.am = am2;\n  dbits = 30;\n} else if (inBrowser && j_lm && navigator.appName != 'Netscape') {\n  BigInteger.prototype.am = am1;\n  dbits = 26;\n} else {\n  // Mozilla/Netscape seems to prefer am3\n  BigInteger.prototype.am = am3;\n  dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = (1 << dbits) - 1;\nBigInteger.prototype.DV = 1 << dbits;\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP; // Digit conversions\n\nvar BI_RM = '0123456789abcdefghijklmnopqrstuvwxyz';\nvar BI_RC = new Array();\nvar rr, vv;\nrr = '0'.charCodeAt(0);\n\nfor (vv = 0; vv <= 9; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'a'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nrr = 'A'.charCodeAt(0);\n\nfor (vv = 10; vv < 36; ++vv) {\n  BI_RC[rr++] = vv;\n}\n\nfunction int2char(n) {\n  return BI_RM.charAt(n);\n}\n\nfunction intAt(s, i) {\n  var c = BI_RC[s.charCodeAt(i)];\n  return c == null ? -1 : c;\n} // (protected) copy this to r\n\n\nfunction bnpCopyTo(r) {\n  for (var i = this.t - 1; i >= 0; --i) {\n    r[i] = this[i];\n  }\n\n  r.t = this.t;\n  r.s = this.s;\n} // (protected) set from integer value x, -DV <= x < DV\n\n\nfunction bnpFromInt(x) {\n  this.t = 1;\n  this.s = x < 0 ? -1 : 0;\n  if (x > 0) this[0] = x;else if (x < -1) this[0] = x + this.DV;else this.t = 0;\n} // return bigint initialized to value\n\n\nfunction nbv(i) {\n  var r = nbi();\n  r.fromInt(i);\n  return r;\n} // (protected) set from string and radix\n\n\nfunction bnpFromString(s, b) {\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  this.t = 0;\n  this.s = 0;\n  var i = s.length,\n      mi = false,\n      sh = 0;\n\n  while (--i >= 0) {\n    var x = intAt(s, i);\n\n    if (x < 0) {\n      if (s.charAt(i) == '-') mi = true;\n      continue;\n    }\n\n    mi = false;\n    if (sh == 0) this[this.t++] = x;else if (sh + k > this.DB) {\n      this[this.t - 1] |= (x & (1 << this.DB - sh) - 1) << sh;\n      this[this.t++] = x >> this.DB - sh;\n    } else this[this.t - 1] |= x << sh;\n    sh += k;\n    if (sh >= this.DB) sh -= this.DB;\n  }\n\n  this.clamp();\n  if (mi) BigInteger.ZERO.subTo(this, this);\n} // (protected) clamp off excess high words\n\n\nfunction bnpClamp() {\n  var c = this.s & this.DM;\n\n  while (this.t > 0 && this[this.t - 1] == c) {\n    --this.t;\n  }\n} // (public) return string representation in given radix\n\n\nfunction bnToString(b) {\n  if (this.s < 0) return '-' + this.negate().toString(b);\n  var k;\n  if (b == 16) k = 4;else if (b == 8) k = 3;else if (b == 2) k = 1;else if (b == 32) k = 5;else if (b == 4) k = 2;else throw new Error('Only radix 2, 4, 8, 16, 32 are supported');\n  var km = (1 << k) - 1,\n      d,\n      m = false,\n      r = '',\n      i = this.t;\n  var p = this.DB - i * this.DB % k;\n\n  if (i-- > 0) {\n    if (p < this.DB && (d = this[i] >> p) > 0) {\n      m = true;\n      r = int2char(d);\n    }\n\n    while (i >= 0) {\n      if (p < k) {\n        d = (this[i] & (1 << p) - 1) << k - p;\n        d |= this[--i] >> (p += this.DB - k);\n      } else {\n        d = this[i] >> (p -= k) & km;\n\n        if (p <= 0) {\n          p += this.DB;\n          --i;\n        }\n      }\n\n      if (d > 0) m = true;\n      if (m) r += int2char(d);\n    }\n  }\n\n  return m ? r : '0';\n} // (public) -this\n\n\nfunction bnNegate() {\n  var r = nbi();\n  BigInteger.ZERO.subTo(this, r);\n  return r;\n} // (public) |this|\n\n\nfunction bnAbs() {\n  return this.s < 0 ? this.negate() : this;\n} // (public) return + if this > a, - if this < a, 0 if equal\n\n\nfunction bnCompareTo(a) {\n  var r = this.s - a.s;\n  if (r != 0) return r;\n  var i = this.t;\n  r = i - a.t;\n  if (r != 0) return this.s < 0 ? -r : r;\n\n  while (--i >= 0) {\n    if ((r = this[i] - a[i]) != 0) return r;\n  }\n\n  return 0;\n} // returns bit length of the integer x\n\n\nfunction nbits(x) {\n  var r = 1,\n      t;\n\n  if ((t = x >>> 16) != 0) {\n    x = t;\n    r += 16;\n  }\n\n  if ((t = x >> 8) != 0) {\n    x = t;\n    r += 8;\n  }\n\n  if ((t = x >> 4) != 0) {\n    x = t;\n    r += 4;\n  }\n\n  if ((t = x >> 2) != 0) {\n    x = t;\n    r += 2;\n  }\n\n  if ((t = x >> 1) != 0) {\n    x = t;\n    r += 1;\n  }\n\n  return r;\n} // (public) return the number of bits in \"this\"\n\n\nfunction bnBitLength() {\n  if (this.t <= 0) return 0;\n  return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ this.s & this.DM);\n} // (protected) r = this << n*DB\n\n\nfunction bnpDLShiftTo(n, r) {\n  var i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + n] = this[i];\n  }\n\n  for (i = n - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r.t = this.t + n;\n  r.s = this.s;\n} // (protected) r = this >> n*DB\n\n\nfunction bnpDRShiftTo(n, r) {\n  for (var i = n; i < this.t; ++i) {\n    r[i - n] = this[i];\n  }\n\n  r.t = Math.max(this.t - n, 0);\n  r.s = this.s;\n} // (protected) r = this << n\n\n\nfunction bnpLShiftTo(n, r) {\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << cbs) - 1;\n  var ds = Math.floor(n / this.DB),\n      c = this.s << bs & this.DM,\n      i;\n\n  for (i = this.t - 1; i >= 0; --i) {\n    r[i + ds + 1] = this[i] >> cbs | c;\n    c = (this[i] & bm) << bs;\n  }\n\n  for (i = ds - 1; i >= 0; --i) {\n    r[i] = 0;\n  }\n\n  r[ds] = c;\n  r.t = this.t + ds + 1;\n  r.s = this.s;\n  r.clamp();\n} // (protected) r = this >> n\n\n\nfunction bnpRShiftTo(n, r) {\n  r.s = this.s;\n  var ds = Math.floor(n / this.DB);\n\n  if (ds >= this.t) {\n    r.t = 0;\n    return;\n  }\n\n  var bs = n % this.DB;\n  var cbs = this.DB - bs;\n  var bm = (1 << bs) - 1;\n  r[0] = this[ds] >> bs;\n\n  for (var i = ds + 1; i < this.t; ++i) {\n    r[i - ds - 1] |= (this[i] & bm) << cbs;\n    r[i - ds] = this[i] >> bs;\n  }\n\n  if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n  r.t = this.t - ds;\n  r.clamp();\n} // (protected) r = this - a\n\n\nfunction bnpSubTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] - a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c -= a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c -= a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c -= a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c < -1) r[i++] = this.DV + c;else if (c > 0) r[i++] = c;\n  r.t = i;\n  r.clamp();\n} // (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\n\n\nfunction bnpMultiplyTo(a, r) {\n  var x = this.abs(),\n      y = a.abs();\n  var i = x.t;\n  r.t = i + y.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < y.t; ++i) {\n    r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n  }\n\n  r.s = 0;\n  r.clamp();\n  if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n} // (protected) r = this^2, r != this (HAC 14.16)\n\n\nfunction bnpSquareTo(r) {\n  var x = this.abs();\n  var i = r.t = 2 * x.t;\n\n  while (--i >= 0) {\n    r[i] = 0;\n  }\n\n  for (i = 0; i < x.t - 1; ++i) {\n    var c = x.am(i, x[i], r, 2 * i, 0, 1);\n\n    if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n      r[i + x.t] -= x.DV;\n      r[i + x.t + 1] = 1;\n    }\n  }\n\n  if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n  r.s = 0;\n  r.clamp();\n} // (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\n\n\nfunction bnpDivRemTo(m, q, r) {\n  var pm = m.abs();\n  if (pm.t <= 0) return;\n  var pt = this.abs();\n\n  if (pt.t < pm.t) {\n    if (q != null) q.fromInt(0);\n    if (r != null) this.copyTo(r);\n    return;\n  }\n\n  if (r == null) r = nbi();\n  var y = nbi(),\n      ts = this.s,\n      ms = m.s;\n  var nsh = this.DB - nbits(pm[pm.t - 1]); // normalize modulus\n\n  if (nsh > 0) {\n    pm.lShiftTo(nsh, y);\n    pt.lShiftTo(nsh, r);\n  } else {\n    pm.copyTo(y);\n    pt.copyTo(r);\n  }\n\n  var ys = y.t;\n  var y0 = y[ys - 1];\n  if (y0 == 0) return;\n  var yt = y0 * (1 << this.F1) + (ys > 1 ? y[ys - 2] >> this.F2 : 0);\n  var d1 = this.FV / yt,\n      d2 = (1 << this.F1) / yt,\n      e = 1 << this.F2;\n  var i = r.t,\n      j = i - ys,\n      t = q == null ? nbi() : q;\n  y.dlShiftTo(j, t);\n\n  if (r.compareTo(t) >= 0) {\n    r[r.t++] = 1;\n    r.subTo(t, r);\n  }\n\n  BigInteger.ONE.dlShiftTo(ys, t);\n  t.subTo(y, y); // \"negative\" y so we can replace sub with am later\n\n  while (y.t < ys) {\n    y[y.t++] = 0;\n  }\n\n  while (--j >= 0) {\n    // Estimate quotient digit\n    var qd = r[--i] == y0 ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n\n    if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\n      // Try it out\n      y.dlShiftTo(j, t);\n      r.subTo(t, r);\n\n      while (r[i] < --qd) {\n        r.subTo(t, r);\n      }\n    }\n  }\n\n  if (q != null) {\n    r.drShiftTo(ys, q);\n    if (ts != ms) BigInteger.ZERO.subTo(q, q);\n  }\n\n  r.t = ys;\n  r.clamp();\n  if (nsh > 0) r.rShiftTo(nsh, r); // Denormalize remainder\n\n  if (ts < 0) BigInteger.ZERO.subTo(r, r);\n} // (public) this mod a\n\n\nfunction bnMod(a) {\n  var r = nbi();\n  this.abs().divRemTo(a, null, r);\n  if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n  return r;\n} // (protected) return \"-1/this % 2^DB\"; useful for Mont. reduction\n// justification:\n//         xy == 1 (mod m)\n//         xy =  1+km\n//   xy(2-xy) = (1+km)(1-km)\n// x[y(2-xy)] = 1-k^2m^2\n// x[y(2-xy)] == 1 (mod m^2)\n// if y is 1/x mod m, then y(2-xy) is 1/x mod m^2\n// should reduce x and y(2-xy) by m^2 at each step to keep size bounded.\n// JS multiply \"overflows\" differently from C/C++, so care is needed here.\n\n\nfunction bnpInvDigit() {\n  if (this.t < 1) return 0;\n  var x = this[0];\n  if ((x & 1) == 0) return 0;\n  var y = x & 3; // y == 1/x mod 2^2\n\n  y = y * (2 - (x & 0xf) * y) & 0xf; // y == 1/x mod 2^4\n\n  y = y * (2 - (x & 0xff) * y) & 0xff; // y == 1/x mod 2^8\n\n  y = y * (2 - ((x & 0xffff) * y & 0xffff)) & 0xffff; // y == 1/x mod 2^16\n  // last step - calculate inverse mod DV directly;\n  // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n\n  y = y * (2 - x * y % this.DV) % this.DV; // y == 1/x mod 2^dbits\n  // we really want the negative inverse, and -DV < y < DV\n\n  return y > 0 ? this.DV - y : -y;\n}\n\nfunction bnEquals(a) {\n  return this.compareTo(a) == 0;\n} // (protected) r = this + a\n\n\nfunction bnpAddTo(a, r) {\n  var i = 0,\n      c = 0,\n      m = Math.min(a.t, this.t);\n\n  while (i < m) {\n    c += this[i] + a[i];\n    r[i++] = c & this.DM;\n    c >>= this.DB;\n  }\n\n  if (a.t < this.t) {\n    c += a.s;\n\n    while (i < this.t) {\n      c += this[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += this.s;\n  } else {\n    c += this.s;\n\n    while (i < a.t) {\n      c += a[i];\n      r[i++] = c & this.DM;\n      c >>= this.DB;\n    }\n\n    c += a.s;\n  }\n\n  r.s = c < 0 ? -1 : 0;\n  if (c > 0) r[i++] = c;else if (c < -1) r[i++] = this.DV + c;\n  r.t = i;\n  r.clamp();\n} // (public) this + a\n\n\nfunction bnAdd(a) {\n  var r = nbi();\n  this.addTo(a, r);\n  return r;\n} // (public) this - a\n\n\nfunction bnSubtract(a) {\n  var r = nbi();\n  this.subTo(a, r);\n  return r;\n} // (public) this * a\n\n\nfunction bnMultiply(a) {\n  var r = nbi();\n  this.multiplyTo(a, r);\n  return r;\n} // (public) this / a\n\n\nfunction bnDivide(a) {\n  var r = nbi();\n  this.divRemTo(a, r, null);\n  return r;\n} // Montgomery reduction\n\n\nfunction Montgomery(m) {\n  this.m = m;\n  this.mp = m.invDigit();\n  this.mpl = this.mp & 0x7fff;\n  this.mph = this.mp >> 15;\n  this.um = (1 << m.DB - 15) - 1;\n  this.mt2 = 2 * m.t;\n} // xR mod m\n\n\nfunction montConvert(x) {\n  var r = nbi();\n  x.abs().dlShiftTo(this.m.t, r);\n  r.divRemTo(this.m, null, r);\n  if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n  return r;\n} // x/R mod m\n\n\nfunction montRevert(x) {\n  var r = nbi();\n  x.copyTo(r);\n  this.reduce(r);\n  return r;\n} // x = x/R mod m (HAC 14.32)\n\n\nfunction montReduce(x) {\n  while (x.t <= this.mt2) {\n    // pad x so am has enough room later\n    x[x.t++] = 0;\n  }\n\n  for (var i = 0; i < this.m.t; ++i) {\n    // faster way of calculating u0 = x[i]*mp mod DV\n    var j = x[i] & 0x7fff;\n    var u0 = j * this.mpl + ((j * this.mph + (x[i] >> 15) * this.mpl & this.um) << 15) & x.DM; // use am to combine the multiply-shift-add into one call\n\n    j = i + this.m.t;\n    x[j] += this.m.am(0, u0, x, i, 0, this.m.t); // propagate carry\n\n    while (x[j] >= x.DV) {\n      x[j] -= x.DV;\n      x[++j]++;\n    }\n  }\n\n  x.clamp();\n  x.drShiftTo(this.m.t, x);\n  if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n} // r = \"x^2/R mod m\"; x != r\n\n\nfunction montSqrTo(x, r) {\n  x.squareTo(r);\n  this.reduce(r);\n} // r = \"xy/R mod m\"; x,y != r\n\n\nfunction montMulTo(x, y, r) {\n  x.multiplyTo(y, r);\n  this.reduce(r);\n}\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo; // (public) this^e % m (HAC 14.85)\n\nfunction bnModPow(e, m, callback) {\n  var i = e.bitLength(),\n      k,\n      r = nbv(1),\n      z = new Montgomery(m);\n  if (i <= 0) return r;else if (i < 18) k = 1;else if (i < 48) k = 3;else if (i < 144) k = 4;else if (i < 768) k = 5;else k = 6; // precomputation\n\n  var g = new Array(),\n      n = 3,\n      k1 = k - 1,\n      km = (1 << k) - 1;\n  g[1] = z.convert(this);\n\n  if (k > 1) {\n    var g2 = nbi();\n    z.sqrTo(g[1], g2);\n\n    while (n <= km) {\n      g[n] = nbi();\n      z.mulTo(g2, g[n - 2], g[n]);\n      n += 2;\n    }\n  }\n\n  var j = e.t - 1,\n      w,\n      is1 = true,\n      r2 = nbi(),\n      t;\n  i = nbits(e[j]) - 1;\n\n  while (j >= 0) {\n    if (i >= k1) w = e[j] >> i - k1 & km;else {\n      w = (e[j] & (1 << i + 1) - 1) << k1 - i;\n      if (j > 0) w |= e[j - 1] >> this.DB + i - k1;\n    }\n    n = k;\n\n    while ((w & 1) == 0) {\n      w >>= 1;\n      --n;\n    }\n\n    if ((i -= n) < 0) {\n      i += this.DB;\n      --j;\n    }\n\n    if (is1) {\n      // ret == 1, don't bother squaring or multiplying it\n      g[w].copyTo(r);\n      is1 = false;\n    } else {\n      while (n > 1) {\n        z.sqrTo(r, r2);\n        z.sqrTo(r2, r);\n        n -= 2;\n      }\n\n      if (n > 0) z.sqrTo(r, r2);else {\n        t = r;\n        r = r2;\n        r2 = t;\n      }\n      z.mulTo(r2, g[w], r);\n    }\n\n    while (j >= 0 && (e[j] & 1 << i) == 0) {\n      z.sqrTo(r, r2);\n      t = r;\n      r = r2;\n      r2 = t;\n\n      if (--i < 0) {\n        i = this.DB - 1;\n        --j;\n      }\n    }\n  }\n\n  var result = z.revert(r);\n  callback(null, result);\n  return result;\n} // protected\n\n\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.addTo = bnpAddTo; // public\n\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.equals = bnEquals;\nBigInteger.prototype.add = bnAdd;\nBigInteger.prototype.subtract = bnSubtract;\nBigInteger.prototype.multiply = bnMultiply;\nBigInteger.prototype.divide = bnDivide;\nBigInteger.prototype.modPow = bnModPow; // \"constants\"\n\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport SHA256 from 'crypto-js/sha256';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\n\nvar randomBytes = function randomBytes(nBytes) {\n  return Buffer.from(CryptoJS.lib.WordArray.random(nBytes).toString(), 'hex');\n};\n\nimport BigInteger from './BigInteger';\nvar initN = 'FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1' + '29024E088A67CC74020BBEA63B139B22514A08798E3404DD' + 'EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245' + 'E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED' + 'EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D' + 'C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F' + '83655D23DCA3AD961C62F356208552BB9ED529077096966D' + '670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B' + 'E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9' + 'DE2BCBF6955817183995497CEA956AE515D2261898FA0510' + '15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64' + 'ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7' + 'ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B' + 'F12FFA06D98A0864D87602733EC86A64521F2B18177B200C' + 'BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31' + '43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF';\nvar newPasswordRequiredChallengeUserAttributePrefix = 'userAttributes.';\n/** @class */\n\nvar AuthenticationHelper = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AuthenticationHelper object\n   * @param {string} PoolName Cognito user pool name.\n   */\n  function AuthenticationHelper(PoolName) {\n    this.N = new BigInteger(initN, 16);\n    this.g = new BigInteger('2', 16);\n    this.k = new BigInteger(this.hexHash(\"00\" + this.N.toString(16) + \"0\" + this.g.toString(16)), 16);\n    this.smallAValue = this.generateRandomSmallA();\n    this.getLargeAValue(function () {});\n    this.infoBits = Buffer.from('Caldera Derived Key', 'utf8');\n    this.poolName = PoolName;\n  }\n  /**\n   * @returns {BigInteger} small A, a random number\n   */\n\n\n  var _proto = AuthenticationHelper.prototype;\n\n  _proto.getSmallAValue = function getSmallAValue() {\n    return this.smallAValue;\n  }\n  /**\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getLargeAValue = function getLargeAValue(callback) {\n    var _this = this;\n\n    if (this.largeAValue) {\n      callback(null, this.largeAValue);\n    } else {\n      this.calculateA(this.smallAValue, function (err, largeAValue) {\n        if (err) {\n          callback(err, null);\n        }\n\n        _this.largeAValue = largeAValue;\n        callback(null, _this.largeAValue);\n      });\n    }\n  }\n  /**\n   * helper function to generate a random big integer\n   * @returns {BigInteger} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomSmallA = function generateRandomSmallA() {\n    var hexRandom = randomBytes(128).toString('hex');\n    var randomBigInt = new BigInteger(hexRandom, 16);\n    var smallABigInt = randomBigInt.mod(this.N);\n    return smallABigInt;\n  }\n  /**\n   * helper function to generate a random string\n   * @returns {string} a random value.\n   * @private\n   */\n  ;\n\n  _proto.generateRandomString = function generateRandomString() {\n    return randomBytes(40).toString('base64');\n  }\n  /**\n   * @returns {string} Generated random value included in password hash.\n   */\n  ;\n\n  _proto.getRandomPassword = function getRandomPassword() {\n    return this.randomPassword;\n  }\n  /**\n   * @returns {string} Generated random value included in devices hash.\n   */\n  ;\n\n  _proto.getSaltDevices = function getSaltDevices() {\n    return this.SaltToHashDevices;\n  }\n  /**\n   * @returns {string} Value used to verify devices.\n   */\n  ;\n\n  _proto.getVerifierDevices = function getVerifierDevices() {\n    return this.verifierDevices;\n  }\n  /**\n   * Generate salts and compute verifier.\n   * @param {string} deviceGroupKey Devices to generate verifier for.\n   * @param {string} username User to generate verifier for.\n   * @param {nodeCallback<null>} callback Called with (err, null)\n   * @returns {void}\n   */\n  ;\n\n  _proto.generateHashDevice = function generateHashDevice(deviceGroupKey, username, callback) {\n    var _this2 = this;\n\n    this.randomPassword = this.generateRandomString();\n    var combinedString = \"\" + deviceGroupKey + username + \":\" + this.randomPassword;\n    var hashedString = this.hash(combinedString);\n    var hexRandom = randomBytes(16).toString('hex');\n    this.SaltToHashDevices = this.padHex(new BigInteger(hexRandom, 16));\n    this.g.modPow(new BigInteger(this.hexHash(this.SaltToHashDevices + hashedString), 16), this.N, function (err, verifierDevicesNotPadded) {\n      if (err) {\n        callback(err, null);\n      }\n\n      _this2.verifierDevices = _this2.padHex(verifierDevicesNotPadded);\n      callback(null, null);\n    });\n  }\n  /**\n   * Calculate the client's public value A = g^a%N\n   * with the generated random number a\n   * @param {BigInteger} a Randomly generated small A.\n   * @param {nodeCallback<BigInteger>} callback Called with (err, largeAValue)\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.calculateA = function calculateA(a, callback) {\n    var _this3 = this;\n\n    this.g.modPow(a, this.N, function (err, A) {\n      if (err) {\n        callback(err, null);\n      }\n\n      if (A.mod(_this3.N).equals(BigInteger.ZERO)) {\n        callback(new Error('Illegal paramater. A mod N cannot be 0.'), null);\n      }\n\n      callback(null, A);\n    });\n  }\n  /**\n   * Calculate the client's value U which is the hash of A and B\n   * @param {BigInteger} A Large A value.\n   * @param {BigInteger} B Server B value.\n   * @returns {BigInteger} Computed U value.\n   * @private\n   */\n  ;\n\n  _proto.calculateU = function calculateU(A, B) {\n    this.UHexHash = this.hexHash(this.padHex(A) + this.padHex(B));\n    var finalU = new BigInteger(this.UHexHash, 16);\n    return finalU;\n  }\n  /**\n   * Calculate a hash from a bitArray\n   * @param {Buffer} buf Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hash = function hash(buf) {\n    var str = buf instanceof Buffer ? CryptoJS.lib.WordArray.create(buf) : buf;\n    var hashHex = SHA256(str).toString();\n    return new Array(64 - hashHex.length).join('0') + hashHex;\n  }\n  /**\n   * Calculate a hash from a hex string\n   * @param {String} hexStr Value to hash.\n   * @returns {String} Hex-encoded hash.\n   * @private\n   */\n  ;\n\n  _proto.hexHash = function hexHash(hexStr) {\n    return this.hash(Buffer.from(hexStr, 'hex'));\n  }\n  /**\n   * Standard hkdf algorithm\n   * @param {Buffer} ikm Input key material.\n   * @param {Buffer} salt Salt value.\n   * @returns {Buffer} Strong key material.\n   * @private\n   */\n  ;\n\n  _proto.computehkdf = function computehkdf(ikm, salt) {\n    var infoBitsWordArray = CryptoJS.lib.WordArray.create(Buffer.concat([this.infoBits, Buffer.from(String.fromCharCode(1), 'utf8')]));\n    var ikmWordArray = ikm instanceof Buffer ? CryptoJS.lib.WordArray.create(ikm) : ikm;\n    var saltWordArray = salt instanceof Buffer ? CryptoJS.lib.WordArray.create(salt) : salt;\n    var prk = HmacSHA256(ikmWordArray, saltWordArray);\n    var hmac = HmacSHA256(infoBitsWordArray, prk);\n    return Buffer.from(hmac.toString(), 'hex').slice(0, 16);\n  }\n  /**\n   * Calculates the final hkdf based on computed S value, and computed U value and the key\n   * @param {String} username Username.\n   * @param {String} password Password.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {BigInteger} salt Generated salt.\n   * @param {nodeCallback<Buffer>} callback Called with (err, hkdfValue)\n   * @returns {void}\n   */\n  ;\n\n  _proto.getPasswordAuthenticationKey = function getPasswordAuthenticationKey(username, password, serverBValue, salt, callback) {\n    var _this4 = this;\n\n    if (serverBValue.mod(this.N).equals(BigInteger.ZERO)) {\n      throw new Error('B cannot be zero.');\n    }\n\n    this.UValue = this.calculateU(this.largeAValue, serverBValue);\n\n    if (this.UValue.equals(BigInteger.ZERO)) {\n      throw new Error('U cannot be zero.');\n    }\n\n    var usernamePassword = \"\" + this.poolName + username + \":\" + password;\n    var usernamePasswordHash = this.hash(usernamePassword);\n    var xValue = new BigInteger(this.hexHash(this.padHex(salt) + usernamePasswordHash), 16);\n    this.calculateS(xValue, serverBValue, function (err, sValue) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var hkdf = _this4.computehkdf(Buffer.from(_this4.padHex(sValue), 'hex'), Buffer.from(_this4.padHex(_this4.UValue.toString(16)), 'hex'));\n\n      callback(null, hkdf);\n    });\n  }\n  /**\n   * Calculates the S value used in getPasswordAuthenticationKey\n   * @param {BigInteger} xValue Salted password hash value.\n   * @param {BigInteger} serverBValue Server B value.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.calculateS = function calculateS(xValue, serverBValue, callback) {\n    var _this5 = this;\n\n    this.g.modPow(xValue, this.N, function (err, gModPowXN) {\n      if (err) {\n        callback(err, null);\n      }\n\n      var intValue2 = serverBValue.subtract(_this5.k.multiply(gModPowXN));\n      intValue2.modPow(_this5.smallAValue.add(_this5.UValue.multiply(xValue)), _this5.N, function (err2, result) {\n        if (err2) {\n          callback(err2, null);\n        }\n\n        callback(null, result.mod(_this5.N));\n      });\n    });\n  }\n  /**\n   * Return constant newPasswordRequiredChallengeUserAttributePrefix\n   * @return {newPasswordRequiredChallengeUserAttributePrefix} constant prefix value\n   */\n  ;\n\n  _proto.getNewPasswordRequiredChallengeUserAttributePrefix = function getNewPasswordRequiredChallengeUserAttributePrefix() {\n    return newPasswordRequiredChallengeUserAttributePrefix;\n  }\n  /**\n   * Converts a BigInteger (or hex string) to hex format padded with zeroes for hashing\n   * @param {BigInteger|String} bigInt Number or string to pad.\n   * @returns {String} Padded hex string.\n   */\n  ;\n\n  _proto.padHex = function padHex(bigInt) {\n    var hashStr = bigInt.toString(16);\n\n    if (hashStr.length % 2 === 1) {\n      hashStr = \"0\" + hashStr;\n    } else if ('89ABCDEFabcdef'.indexOf(hashStr[0]) !== -1) {\n      hashStr = \"00\" + hashStr;\n    }\n\n    return hashStr;\n  };\n\n  return AuthenticationHelper;\n}();\n\nexport { AuthenticationHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\n/** @class */\n\nvar CognitoJwtToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoJwtToken object\n   * @param {string=} token The JWT token.\n   */\n  function CognitoJwtToken(token) {\n    // Assign object\n    this.jwtToken = token || '';\n    this.payload = this.decodePayload();\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoJwtToken.prototype;\n\n  _proto.getJwtToken = function getJwtToken() {\n    return this.jwtToken;\n  }\n  /**\n   * @returns {int} the token's expiration (exp member).\n   */\n  ;\n\n  _proto.getExpiration = function getExpiration() {\n    return this.payload.exp;\n  }\n  /**\n   * @returns {int} the token's \"issued at\" (iat member).\n   */\n  ;\n\n  _proto.getIssuedAt = function getIssuedAt() {\n    return this.payload.iat;\n  }\n  /**\n   * @returns {object} the token's payload.\n   */\n  ;\n\n  _proto.decodePayload = function decodePayload() {\n    var payload = this.jwtToken.split('.')[1];\n\n    try {\n      return JSON.parse(Buffer.from(payload, 'base64').toString('utf8'));\n    } catch (err) {\n      return {};\n    }\n  };\n\n  return CognitoJwtToken;\n}();\n\nexport { CognitoJwtToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoAccessToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoAccessToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoAccessToken object\n   * @param {string=} AccessToken The JWT access token.\n   */\n  function CognitoAccessToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        AccessToken = _ref.AccessToken;\n\n    return _CognitoJwtToken.call(this, AccessToken || '') || this;\n  }\n\n  return CognitoAccessToken;\n}(CognitoJwtToken);\n\nexport { CognitoAccessToken as default };","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\n/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport CognitoJwtToken from './CognitoJwtToken';\n/** @class */\n\nvar CognitoIdToken = /*#__PURE__*/function (_CognitoJwtToken) {\n  _inheritsLoose(CognitoIdToken, _CognitoJwtToken);\n\n  /**\n   * Constructs a new CognitoIdToken object\n   * @param {string=} IdToken The JWT Id token\n   */\n  function CognitoIdToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken;\n\n    return _CognitoJwtToken.call(this, IdToken || '') || this;\n  }\n\n  return CognitoIdToken;\n}(CognitoJwtToken);\n\nexport { CognitoIdToken as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoRefreshToken = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoRefreshToken object\n   * @param {string=} RefreshToken The JWT refresh token.\n   */\n  function CognitoRefreshToken(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        RefreshToken = _ref.RefreshToken;\n\n    // Assign object\n    this.token = RefreshToken || '';\n  }\n  /**\n   * @returns {string} the record's token.\n   */\n\n\n  var _proto = CognitoRefreshToken.prototype;\n\n  _proto.getToken = function getToken() {\n    return this.token;\n  };\n\n  return CognitoRefreshToken;\n}();\n\nexport { CognitoRefreshToken as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserSession = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserSession object\n   * @param {CognitoIdToken} IdToken The session's Id token.\n   * @param {CognitoRefreshToken=} RefreshToken The session's refresh token.\n   * @param {CognitoAccessToken} AccessToken The session's access token.\n   * @param {int} ClockDrift The saved computer's clock drift or undefined to force calculation.\n   */\n  function CognitoUserSession(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        IdToken = _ref.IdToken,\n        RefreshToken = _ref.RefreshToken,\n        AccessToken = _ref.AccessToken,\n        ClockDrift = _ref.ClockDrift;\n\n    if (AccessToken == null || IdToken == null) {\n      throw new Error('Id token and Access Token must be present.');\n    }\n\n    this.idToken = IdToken;\n    this.refreshToken = RefreshToken;\n    this.accessToken = AccessToken;\n    this.clockDrift = ClockDrift === undefined ? this.calculateClockDrift() : ClockDrift;\n  }\n  /**\n   * @returns {CognitoIdToken} the session's Id token\n   */\n\n\n  var _proto = CognitoUserSession.prototype;\n\n  _proto.getIdToken = function getIdToken() {\n    return this.idToken;\n  }\n  /**\n   * @returns {CognitoRefreshToken} the session's refresh token\n   */\n  ;\n\n  _proto.getRefreshToken = function getRefreshToken() {\n    return this.refreshToken;\n  }\n  /**\n   * @returns {CognitoAccessToken} the session's access token\n   */\n  ;\n\n  _proto.getAccessToken = function getAccessToken() {\n    return this.accessToken;\n  }\n  /**\n   * @returns {int} the session's clock drift\n   */\n  ;\n\n  _proto.getClockDrift = function getClockDrift() {\n    return this.clockDrift;\n  }\n  /**\n   * @returns {int} the computer's clock drift\n   */\n  ;\n\n  _proto.calculateClockDrift = function calculateClockDrift() {\n    var now = Math.floor(new Date() / 1000);\n    var iat = Math.min(this.accessToken.getIssuedAt(), this.idToken.getIssuedAt());\n    return now - iat;\n  }\n  /**\n   * Checks to see if the session is still valid based on session expiry information found\n   * in tokens and the current time (adjusted with clock drift)\n   * @returns {boolean} if the session is still valid\n   */\n  ;\n\n  _proto.isValid = function isValid() {\n    var now = Math.floor(new Date() / 1000);\n    var adjusted = now - this.clockDrift;\n    return adjusted < this.accessToken.getExpiration() && adjusted < this.idToken.getExpiration();\n  };\n\n  return CognitoUserSession;\n}();\n\nexport { CognitoUserSession as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nvar monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\nvar weekNames = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'];\n/** @class */\n\nvar DateHelper = /*#__PURE__*/function () {\n  function DateHelper() {}\n\n  var _proto = DateHelper.prototype;\n\n  /**\n   * @returns {string} The current time in \"ddd MMM D HH:mm:ss UTC YYYY\" format.\n   */\n  _proto.getNowString = function getNowString() {\n    var now = new Date();\n    var weekDay = weekNames[now.getUTCDay()];\n    var month = monthNames[now.getUTCMonth()];\n    var day = now.getUTCDate();\n    var hours = now.getUTCHours();\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n\n    var minutes = now.getUTCMinutes();\n\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n\n    var seconds = now.getUTCSeconds();\n\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n\n    var year = now.getUTCFullYear(); // ddd MMM D HH:mm:ss UTC YYYY\n\n    var dateNow = weekDay + \" \" + month + \" \" + day + \" \" + hours + \":\" + minutes + \":\" + seconds + \" UTC \" + year;\n    return dateNow;\n  };\n\n  return DateHelper;\n}();\n\nexport { DateHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @class */\nvar CognitoUserAttribute = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserAttribute object\n   * @param {string=} Name The record's name\n   * @param {string=} Value The record's value\n   */\n  function CognitoUserAttribute(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        Name = _ref.Name,\n        Value = _ref.Value;\n\n    this.Name = Name || '';\n    this.Value = Value || '';\n  }\n  /**\n   * @returns {string} the record's value.\n   */\n\n\n  var _proto = CognitoUserAttribute.prototype;\n\n  _proto.getValue = function getValue() {\n    return this.Value;\n  }\n  /**\n   * Sets the record's value.\n   * @param {string} value The new value.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setValue = function setValue(value) {\n    this.Value = value;\n    return this;\n  }\n  /**\n   * @returns {string} the record's name.\n   */\n  ;\n\n  _proto.getName = function getName() {\n    return this.Name;\n  }\n  /**\n   * Sets the record's name\n   * @param {string} name The new name.\n   * @returns {CognitoUserAttribute} The record for method chaining.\n   */\n  ;\n\n  _proto.setName = function setName(name) {\n    this.Name = name;\n    return this;\n  }\n  /**\n   * @returns {string} a string representation of the record.\n   */\n  ;\n\n  _proto.toString = function toString() {\n    return JSON.stringify(this);\n  }\n  /**\n   * @returns {object} a flat object representing the record.\n   */\n  ;\n\n  _proto.toJSON = function toJSON() {\n    return {\n      Name: this.Name,\n      Value: this.Value\n    };\n  };\n\n  return CognitoUserAttribute;\n}();\n\nexport { CognitoUserAttribute as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nvar dataMemory = {};\n/** @class */\n\nvar MemoryStorage = /*#__PURE__*/function () {\n  function MemoryStorage() {}\n\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n  MemoryStorage.setItem = function setItem(key, value) {\n    dataMemory[key] = value;\n    return dataMemory[key];\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  MemoryStorage.getItem = function getItem(key) {\n    return Object.prototype.hasOwnProperty.call(dataMemory, key) ? dataMemory[key] : undefined;\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  ;\n\n  MemoryStorage.removeItem = function removeItem(key) {\n    return delete dataMemory[key];\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  MemoryStorage.clear = function clear() {\n    dataMemory = {};\n    return dataMemory;\n  };\n\n  return MemoryStorage;\n}();\n/** @class */\n\n\nvar StorageHelper = /*#__PURE__*/function () {\n  /**\n   * This is used to get a storage object\n   * @returns {object} the storage\n   */\n  function StorageHelper() {\n    try {\n      this.storageWindow = window.localStorage;\n      this.storageWindow.setItem('aws.cognito.test-ls', 1);\n      this.storageWindow.removeItem('aws.cognito.test-ls');\n    } catch (exception) {\n      this.storageWindow = MemoryStorage;\n    }\n  }\n  /**\n   * This is used to return the storage\n   * @returns {object} the storage\n   */\n\n\n  var _proto = StorageHelper.prototype;\n\n  _proto.getStorage = function getStorage() {\n    return this.storageWindow;\n  };\n\n  return StorageHelper;\n}();\n\nexport { StorageHelper as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport { Buffer } from 'buffer';\nimport CryptoJS from 'crypto-js/core';\nimport TypedArrays from 'crypto-js/lib-typedarrays'; // necessary for crypto js\n\nimport Base64 from 'crypto-js/enc-base64';\nimport HmacSHA256 from 'crypto-js/hmac-sha256';\nimport BigInteger from './BigInteger';\nimport AuthenticationHelper from './AuthenticationHelper';\nimport CognitoAccessToken from './CognitoAccessToken';\nimport CognitoIdToken from './CognitoIdToken';\nimport CognitoRefreshToken from './CognitoRefreshToken';\nimport CognitoUserSession from './CognitoUserSession';\nimport DateHelper from './DateHelper';\nimport CognitoUserAttribute from './CognitoUserAttribute';\nimport StorageHelper from './StorageHelper';\n/**\n * @callback nodeCallback\n * @template T result\n * @param {*} err The operation failure reason, or null.\n * @param {T} result The operation result.\n */\n\n/**\n * @callback onFailure\n * @param {*} err Failure reason.\n */\n\n/**\n * @callback onSuccess\n * @template T result\n * @param {T} result The operation result.\n */\n\n/**\n * @callback mfaRequired\n * @param {*} details MFA challenge details.\n */\n\n/**\n * @callback customChallenge\n * @param {*} details Custom challenge details.\n */\n\n/**\n * @callback inputVerificationCode\n * @param {*} data Server response.\n */\n\n/**\n * @callback authSuccess\n * @param {CognitoUserSession} session The new session.\n * @param {bool=} userConfirmationNecessary User must be confirmed.\n */\n\nvar isBrowser = typeof navigator !== 'undefined';\nvar userAgent = isBrowser ? navigator.userAgent : 'nodejs';\n/** @class */\n\nvar CognitoUser = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUser object\n   * @param {object} data Creation options\n   * @param {string} data.Username The user's username.\n   * @param {CognitoUserPool} data.Pool Pool containing the user.\n   * @param {object} data.Storage Optional storage object.\n   */\n  function CognitoUser(data) {\n    if (data == null || data.Username == null || data.Pool == null) {\n      throw new Error('Username and pool information are required.');\n    }\n\n    this.username = data.Username || '';\n    this.pool = data.Pool;\n    this.Session = null;\n    this.client = data.Pool.client;\n    this.signInUserSession = null;\n    this.authenticationFlowType = 'USER_SRP_AUTH';\n    this.storage = data.Storage || new StorageHelper().getStorage();\n    this.keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    this.userDataKey = this.keyPrefix + \".\" + this.username + \".userData\";\n  }\n  /**\n   * Sets the session for this user\n   * @param {CognitoUserSession} signInUserSession the session\n   * @returns {void}\n   */\n\n\n  var _proto = CognitoUser.prototype;\n\n  _proto.setSignInUserSession = function setSignInUserSession(signInUserSession) {\n    this.clearCachedUserData();\n    this.signInUserSession = signInUserSession;\n    this.cacheTokens();\n  }\n  /**\n   * @returns {CognitoUserSession} the current session for this user\n   */\n  ;\n\n  _proto.getSignInUserSession = function getSignInUserSession() {\n    return this.signInUserSession;\n  }\n  /**\n   * @returns {string} the user's username\n   */\n  ;\n\n  _proto.getUsername = function getUsername() {\n    return this.username;\n  }\n  /**\n   * @returns {String} the authentication flow type\n   */\n  ;\n\n  _proto.getAuthenticationFlowType = function getAuthenticationFlowType() {\n    return this.authenticationFlowType;\n  }\n  /**\n   * sets authentication flow type\n   * @param {string} authenticationFlowType New value.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setAuthenticationFlowType = function setAuthenticationFlowType(authenticationFlowType) {\n    this.authenticationFlowType = authenticationFlowType;\n  }\n  /**\n   * This is used for authenticating the user through the custom authentication flow.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.initiateAuth = function initiateAuth(authDetails, callback) {\n    var _this = this;\n\n    var authParameters = authDetails.getAuthParameters();\n    authParameters.USERNAME = this.username;\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'CUSTOM_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = data.ChallengeName;\n      var challengeParameters = data.ChallengeParameters;\n\n      if (challengeName === 'CUSTOM_CHALLENGE') {\n        _this.Session = data.Session;\n        return callback.customChallenge(challengeParameters);\n      }\n\n      _this.signInUserSession = _this.getCognitoUserSession(data.AuthenticationResult);\n\n      _this.cacheTokens();\n\n      return callback.onSuccess(_this.signInUserSession);\n    });\n  }\n  /**\n   * This is used for authenticating the user.\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUser = function authenticateUser(authDetails, callback) {\n    if (this.authenticationFlowType === 'USER_PASSWORD_AUTH') {\n      return this.authenticateUserPlainUsernamePassword(authDetails, callback);\n    } else if (this.authenticationFlowType === 'USER_SRP_AUTH' || this.authenticationFlowType === 'CUSTOM_AUTH') {\n      return this.authenticateUserDefaultAuth(authDetails, callback);\n    }\n\n    return callback.onFailure(new Error('Authentication flow type is invalid.'));\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * It calls the AuthenticationHelper for SRP related\n   * stuff\n   * @param {AuthenticationDetails} authDetails Contains the authentication data\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {newPasswordRequired} callback.newPasswordRequired new\n   *        password and any required attributes are required to continue\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *        response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserDefaultAuth = function authenticateUserDefaultAuth(authDetails, callback) {\n    var _this2 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var dateHelper = new DateHelper();\n    var serverBValue;\n    var salt;\n    var authParameters = {};\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    authParameters.USERNAME = this.username;\n    authenticationHelper.getLargeAValue(function (errOnAValue, aValue) {\n      // getLargeAValue callback start\n      if (errOnAValue) {\n        callback.onFailure(errOnAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n\n      if (_this2.authenticationFlowType === 'CUSTOM_AUTH') {\n        authParameters.CHALLENGE_NAME = 'SRP_A';\n      }\n\n      var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n      var jsonReq = {\n        AuthFlow: _this2.authenticationFlowType,\n        ClientId: _this2.pool.getClientId(),\n        AuthParameters: authParameters,\n        ClientMetadata: clientMetaData\n      };\n\n      if (_this2.getUserContextData(_this2.username)) {\n        jsonReq.UserContextData = _this2.getUserContextData(_this2.username);\n      }\n\n      _this2.client.request('InitiateAuth', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        _this2.username = challengeParameters.USER_ID_FOR_SRP;\n        serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        salt = new BigInteger(challengeParameters.SALT, 16);\n\n        _this2.getCachedDeviceKeyAndPassword();\n\n        authenticationHelper.getPasswordAuthenticationKey(_this2.username, authDetails.getPassword(), serverBValue, salt, function (errOnHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errOnHkdf) {\n            callback.onFailure(errOnHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this2.pool.getUserPoolId().split('_')[1], 'utf8'), Buffer.from(_this2.username, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this2.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n\n          if (_this2.deviceKey != null) {\n            challengeResponses.DEVICE_KEY = _this2.deviceKey;\n          }\n\n          var respondToAuthChallenge = function respondToAuthChallenge(challenge, challengeCallback) {\n            return _this2.client.request('RespondToAuthChallenge', challenge, function (errChallenge, dataChallenge) {\n              if (errChallenge && errChallenge.code === 'ResourceNotFoundException' && errChallenge.message.toLowerCase().indexOf('device') !== -1) {\n                challengeResponses.DEVICE_KEY = null;\n                _this2.deviceKey = null;\n                _this2.randomPassword = null;\n                _this2.deviceGroupKey = null;\n\n                _this2.clearCachedDeviceKeyAndPassword();\n\n                return respondToAuthChallenge(challenge, challengeCallback);\n              }\n\n              return challengeCallback(errChallenge, dataChallenge);\n            });\n          };\n\n          var jsonReqResp = {\n            ChallengeName: 'PASSWORD_VERIFIER',\n            ClientId: _this2.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session,\n            ClientMetadata: clientMetaData\n          };\n\n          if (_this2.getUserContextData()) {\n            jsonReqResp.UserContextData = _this2.getUserContextData();\n          }\n\n          respondToAuthChallenge(jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            return _this2.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n          });\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {AuthenticationDetails} authDetails Contains the authentication data.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code\n   *        required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserPlainUsernamePassword = function authenticateUserPlainUsernamePassword(authDetails, callback) {\n    var _this3 = this;\n\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.PASSWORD = authDetails.getPassword();\n\n    if (!authParameters.PASSWORD) {\n      callback.onFailure(new Error('PASSWORD parameter is required'));\n      return;\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var clientMetaData = Object.keys(authDetails.getValidationData()).length !== 0 ? authDetails.getValidationData() : authDetails.getClientMetadata();\n    var jsonReq = {\n      AuthFlow: 'USER_PASSWORD_AUTH',\n      ClientId: this.pool.getClientId(),\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetaData\n    };\n\n    if (this.getUserContextData(this.username)) {\n      jsonReq.UserContextData = this.getUserContextData(this.username);\n    } // USER_PASSWORD_AUTH happens in a single round-trip: client sends userName and password,\n    // Cognito UserPools verifies password and returns tokens.\n\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this3.authenticateUserInternal(authResult, authenticationHelper, callback);\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   * @param {object} dataAuthenticate authentication data\n   * @param {object} authenticationHelper helper created\n   * @param {callback} callback passed on from caller\n   * @returns {void}\n   */\n  ;\n\n  _proto.authenticateUserInternal = function authenticateUserInternal(dataAuthenticate, authenticationHelper, callback) {\n    var _this4 = this;\n\n    var challengeName = dataAuthenticate.ChallengeName;\n    var challengeParameters = dataAuthenticate.ChallengeParameters;\n\n    if (challengeName === 'SMS_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SELECT_MFA_TYPE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.selectMFAType(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'MFA_SETUP') {\n      this.Session = dataAuthenticate.Session;\n      return callback.mfaSetup(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'SOFTWARE_TOKEN_MFA') {\n      this.Session = dataAuthenticate.Session;\n      return callback.totpRequired(challengeName, challengeParameters);\n    }\n\n    if (challengeName === 'CUSTOM_CHALLENGE') {\n      this.Session = dataAuthenticate.Session;\n      return callback.customChallenge(challengeParameters);\n    }\n\n    if (challengeName === 'NEW_PASSWORD_REQUIRED') {\n      this.Session = dataAuthenticate.Session;\n      var userAttributes = null;\n      var rawRequiredAttributes = null;\n      var requiredAttributes = [];\n      var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n\n      if (challengeParameters) {\n        userAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.userAttributes);\n        rawRequiredAttributes = JSON.parse(dataAuthenticate.ChallengeParameters.requiredAttributes);\n      }\n\n      if (rawRequiredAttributes) {\n        for (var i = 0; i < rawRequiredAttributes.length; i++) {\n          requiredAttributes[i] = rawRequiredAttributes[i].substr(userAttributesPrefix.length);\n        }\n      }\n\n      return callback.newPasswordRequired(userAttributes, requiredAttributes);\n    }\n\n    if (challengeName === 'DEVICE_SRP_AUTH') {\n      this.getDeviceResponse(callback);\n      return undefined;\n    }\n\n    this.signInUserSession = this.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n    this.challengeName = challengeName;\n    this.cacheTokens();\n    var newDeviceMetadata = dataAuthenticate.AuthenticationResult.NewDeviceMetadata;\n\n    if (newDeviceMetadata == null) {\n      return callback.onSuccess(this.signInUserSession);\n    }\n\n    authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n      if (errGenHash) {\n        return callback.onFailure(errGenHash);\n      }\n\n      var deviceSecretVerifierConfig = {\n        Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n        PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n      };\n      _this4.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n      _this4.deviceGroupKey = newDeviceMetadata.DeviceGroupKey;\n      _this4.randomPassword = authenticationHelper.getRandomPassword();\n\n      _this4.client.request('ConfirmDevice', {\n        DeviceKey: newDeviceMetadata.DeviceKey,\n        AccessToken: _this4.signInUserSession.getAccessToken().getJwtToken(),\n        DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n        DeviceName: userAgent\n      }, function (errConfirm, dataConfirm) {\n        if (errConfirm) {\n          return callback.onFailure(errConfirm);\n        }\n\n        _this4.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n        _this4.cacheDeviceKeyAndPassword();\n\n        if (dataConfirm.UserConfirmationNecessary === true) {\n          return callback.onSuccess(_this4.signInUserSession, dataConfirm.UserConfirmationNecessary);\n        }\n\n        return callback.onSuccess(_this4.signInUserSession);\n      });\n\n      return undefined;\n    });\n    return undefined;\n  }\n  /**\n   * This method is user to complete the NEW_PASSWORD_REQUIRED challenge.\n   * Pass the new password with any new user attributes to be updated.\n   * User attribute keys must be of format userAttributes.<attribute_name>.\n   * @param {string} newPassword new password for this user\n   * @param {object} requiredAttributeData map with values for all required attributes\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {mfaRequired} callback.mfaRequired MFA code required to continue.\n   * @param {customChallenge} callback.customChallenge Custom challenge\n   *         response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.completeNewPasswordChallenge = function completeNewPasswordChallenge(newPassword, requiredAttributeData, callback, clientMetadata) {\n    var _this5 = this;\n\n    if (!newPassword) {\n      return callback.onFailure(new Error('New password is required.'));\n    }\n\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    var userAttributesPrefix = authenticationHelper.getNewPasswordRequiredChallengeUserAttributePrefix();\n    var finalUserAttributes = {};\n\n    if (requiredAttributeData) {\n      Object.keys(requiredAttributeData).forEach(function (key) {\n        finalUserAttributes[userAttributesPrefix + key] = requiredAttributeData[key];\n      });\n    }\n\n    finalUserAttributes.NEW_PASSWORD = newPassword;\n    finalUserAttributes.USERNAME = this.username;\n    var jsonReq = {\n      ChallengeName: 'NEW_PASSWORD_REQUIRED',\n      ClientId: this.pool.getClientId(),\n      ChallengeResponses: finalUserAttributes,\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (errAuthenticate, dataAuthenticate) {\n      if (errAuthenticate) {\n        return callback.onFailure(errAuthenticate);\n      }\n\n      return _this5.authenticateUserInternal(dataAuthenticate, authenticationHelper, callback);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get a session using device authentication. It is called at the end of user\n   * authentication\n   *\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   * @private\n   */\n  ;\n\n  _proto.getDeviceResponse = function getDeviceResponse(callback, clientMetadata) {\n    var _this6 = this;\n\n    var authenticationHelper = new AuthenticationHelper(this.deviceGroupKey);\n    var dateHelper = new DateHelper();\n    var authParameters = {};\n    authParameters.USERNAME = this.username;\n    authParameters.DEVICE_KEY = this.deviceKey;\n    authenticationHelper.getLargeAValue(function (errAValue, aValue) {\n      // getLargeAValue callback start\n      if (errAValue) {\n        callback.onFailure(errAValue);\n      }\n\n      authParameters.SRP_A = aValue.toString(16);\n      var jsonReq = {\n        ChallengeName: 'DEVICE_SRP_AUTH',\n        ClientId: _this6.pool.getClientId(),\n        ChallengeResponses: authParameters,\n        ClientMetadata: clientMetadata\n      };\n\n      if (_this6.getUserContextData()) {\n        jsonReq.UserContextData = _this6.getUserContextData();\n      }\n\n      _this6.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        var challengeParameters = data.ChallengeParameters;\n        var serverBValue = new BigInteger(challengeParameters.SRP_B, 16);\n        var salt = new BigInteger(challengeParameters.SALT, 16);\n        authenticationHelper.getPasswordAuthenticationKey(_this6.deviceKey, _this6.randomPassword, serverBValue, salt, function (errHkdf, hkdf) {\n          // getPasswordAuthenticationKey callback start\n          if (errHkdf) {\n            return callback.onFailure(errHkdf);\n          }\n\n          var dateNow = dateHelper.getNowString();\n          var message = CryptoJS.lib.WordArray.create(Buffer.concat([Buffer.from(_this6.deviceGroupKey, 'utf8'), Buffer.from(_this6.deviceKey, 'utf8'), Buffer.from(challengeParameters.SECRET_BLOCK, 'base64'), Buffer.from(dateNow, 'utf8')]));\n          var key = CryptoJS.lib.WordArray.create(hkdf);\n          var signatureString = Base64.stringify(HmacSHA256(message, key));\n          var challengeResponses = {};\n          challengeResponses.USERNAME = _this6.username;\n          challengeResponses.PASSWORD_CLAIM_SECRET_BLOCK = challengeParameters.SECRET_BLOCK;\n          challengeResponses.TIMESTAMP = dateNow;\n          challengeResponses.PASSWORD_CLAIM_SIGNATURE = signatureString;\n          challengeResponses.DEVICE_KEY = _this6.deviceKey;\n          var jsonReqResp = {\n            ChallengeName: 'DEVICE_PASSWORD_VERIFIER',\n            ClientId: _this6.pool.getClientId(),\n            ChallengeResponses: challengeResponses,\n            Session: data.Session\n          };\n\n          if (_this6.getUserContextData()) {\n            jsonReqResp.UserContextData = _this6.getUserContextData();\n          }\n\n          _this6.client.request('RespondToAuthChallenge', jsonReqResp, function (errAuthenticate, dataAuthenticate) {\n            if (errAuthenticate) {\n              return callback.onFailure(errAuthenticate);\n            }\n\n            _this6.signInUserSession = _this6.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n            _this6.cacheTokens();\n\n            return callback.onSuccess(_this6.signInUserSession);\n          });\n\n          return undefined; // getPasswordAuthenticationKey callback end\n        });\n        return undefined;\n      }); // getLargeAValue callback end\n\n    });\n  }\n  /**\n   * This is used for a certain user to confirm the registration by using a confirmation code\n   * @param {string} confirmationCode Code entered by user.\n   * @param {bool} forceAliasCreation Allow migrating from an existing email / phone number.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmRegistration = function confirmRegistration(confirmationCode, forceAliasCreation, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      ConfirmationCode: confirmationCode,\n      Username: this.username,\n      ForceAliasCreation: forceAliasCreation,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmSignUp', jsonReq, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n  }\n  /**\n   * This is used by the user once he has the responses to a custom challenge\n   * @param {string} answerChallenge The custom challenge answer.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {customChallenge} callback.customChallenge\n   *    Custom challenge response required to continue.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendCustomChallengeAnswer = function sendCustomChallengeAnswer(answerChallenge, callback, clientMetadata) {\n    var _this7 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var authenticationHelper = new AuthenticationHelper(this.pool.getUserPoolId().split('_')[1]);\n    this.getCachedDeviceKeyAndPassword();\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: 'CUSTOM_CHALLENGE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return _this7.authenticateUserInternal(data, authenticationHelper, callback);\n    });\n  }\n  /**\n   * This is used by the user once he has an MFA code\n   * @param {string} confirmationCode The MFA code entered by the user.\n   * @param {object} callback Result callback map.\n   * @param {string} mfaType The mfa we are replying to.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {authSuccess} callback.onSuccess Called on success with the new session.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFACode = function sendMFACode(confirmationCode, callback, mfaType, clientMetadata) {\n    var _this8 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.SMS_MFA_CODE = confirmationCode;\n    var mfaTypeSelection = mfaType || 'SMS_MFA';\n\n    if (mfaTypeSelection === 'SOFTWARE_TOKEN_MFA') {\n      challengeResponses.SOFTWARE_TOKEN_MFA_CODE = confirmationCode;\n    }\n\n    if (this.deviceKey != null) {\n      challengeResponses.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ChallengeName: mfaTypeSelection,\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, dataAuthenticate) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      var challengeName = dataAuthenticate.ChallengeName;\n\n      if (challengeName === 'DEVICE_SRP_AUTH') {\n        _this8.getDeviceResponse(callback);\n\n        return undefined;\n      }\n\n      _this8.signInUserSession = _this8.getCognitoUserSession(dataAuthenticate.AuthenticationResult);\n\n      _this8.cacheTokens();\n\n      if (dataAuthenticate.AuthenticationResult.NewDeviceMetadata == null) {\n        return callback.onSuccess(_this8.signInUserSession);\n      }\n\n      var authenticationHelper = new AuthenticationHelper(_this8.pool.getUserPoolId().split('_')[1]);\n      authenticationHelper.generateHashDevice(dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey, dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey, function (errGenHash) {\n        if (errGenHash) {\n          return callback.onFailure(errGenHash);\n        }\n\n        var deviceSecretVerifierConfig = {\n          Salt: Buffer.from(authenticationHelper.getSaltDevices(), 'hex').toString('base64'),\n          PasswordVerifier: Buffer.from(authenticationHelper.getVerifierDevices(), 'hex').toString('base64')\n        };\n        _this8.verifierDevices = deviceSecretVerifierConfig.PasswordVerifier;\n        _this8.deviceGroupKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey;\n        _this8.randomPassword = authenticationHelper.getRandomPassword();\n\n        _this8.client.request('ConfirmDevice', {\n          DeviceKey: dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey,\n          AccessToken: _this8.signInUserSession.getAccessToken().getJwtToken(),\n          DeviceSecretVerifierConfig: deviceSecretVerifierConfig,\n          DeviceName: userAgent\n        }, function (errConfirm, dataConfirm) {\n          if (errConfirm) {\n            return callback.onFailure(errConfirm);\n          }\n\n          _this8.deviceKey = dataAuthenticate.AuthenticationResult.NewDeviceMetadata.DeviceKey;\n\n          _this8.cacheDeviceKeyAndPassword();\n\n          if (dataConfirm.UserConfirmationNecessary === true) {\n            return callback.onSuccess(_this8.signInUserSession, dataConfirm.UserConfirmationNecessary);\n          }\n\n          return callback.onSuccess(_this8.signInUserSession);\n        });\n\n        return undefined;\n      });\n      return undefined;\n    });\n  }\n  /**\n   * This is used by an authenticated user to change the current password\n   * @param {string} oldUserPassword The current password.\n   * @param {string} newUserPassword The requested new password.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.changePassword = function changePassword(oldUserPassword, newUserPassword, callback, clientMetadata) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('ChangePassword', {\n      PreviousPassword: oldUserPassword,\n      ProposedPassword: newUserPassword,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.enableMFA = function enableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    var mfaEnabled = {\n      DeliveryMedium: 'SMS',\n      AttributeName: 'phone_number'\n    };\n    mfaOptions.push(mfaEnabled);\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to enable MFA for itself\n   * @param {IMfaSettings} smsMfaSettings the sms mfa settings\n   * @param {IMFASettings} softwareTokenMfaSettings the software token mfa settings\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setUserMfaPreference = function setUserMfaPreference(smsMfaSettings, softwareTokenMfaSettings, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('SetUserMFAPreference', {\n      SMSMfaSettings: smsMfaSettings,\n      SoftwareTokenMfaSettings: softwareTokenMfaSettings,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to disable MFA for itself\n   * @deprecated\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.disableMFA = function disableMFA(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var mfaOptions = [];\n    this.client.request('SetUserSettings', {\n      MFAOptions: mfaOptions,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to delete itself\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteUser = function deleteUser(callback, clientMetadata) {\n    var _this9 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      _this9.clearCachedUser();\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * @typedef {CognitoUserAttribute | { Name:string, Value:string }} AttributeArg\n   */\n\n  /**\n   * This is used by an authenticated user to change a list of attributes\n   * @param {AttributeArg[]} attributes A list of the new user attributes.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.updateAttributes = function updateAttributes(attributes, callback, clientMetadata) {\n    var _this10 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('UpdateUserAttributes', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      UserAttributes: attributes,\n      ClientMetadata: clientMetadata\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      } // update cached user\n\n\n      return _this10.getUserData(function () {\n        return callback(null, 'SUCCESS');\n      }, {\n        bypassCache: true\n      });\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get a list of attributes\n   * @param {nodeCallback<CognitoUserAttribute[]>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserAttributes = function getUserAttributes(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var attributeList = [];\n\n      for (var i = 0; i < userData.UserAttributes.length; i++) {\n        var attribute = {\n          Name: userData.UserAttributes[i].Name,\n          Value: userData.UserAttributes[i].Value\n        };\n        var userAttribute = new CognitoUserAttribute(attribute);\n        attributeList.push(userAttribute);\n      }\n\n      return callback(null, attributeList);\n    });\n    return undefined;\n  }\n  /**\n   * This is used by an authenticated user to get the MFAOptions\n   * @param {nodeCallback<MFAOptions>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getMFAOptions = function getMFAOptions(callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err, userData) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, userData.MFAOptions);\n    });\n    return undefined;\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.createGetUserRequest = function createGetUserRequest() {\n    return this.client.promisifyRequest('GetUser', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    });\n  }\n  /**\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.refreshSessionIfPossible = function refreshSessionIfPossible() {\n    var _this11 = this;\n\n    // best effort, if not possible\n    return new Promise(function (resolve) {\n      var refresh = _this11.signInUserSession.getRefreshToken();\n\n      if (refresh && refresh.getToken()) {\n        _this11.refreshSession(refresh, resolve);\n      } else {\n        resolve();\n      }\n    });\n  }\n  /**\n   * This is used by an authenticated users to get the userData\n   * @param {nodeCallback<UserData>} callback Called on success or error.\n   * @param {GetUserDataOptions} params\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserData = function getUserData(callback, params) {\n    var _this12 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.clearCachedUserData();\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    var userData = this.getUserDataFromCache();\n\n    if (!userData) {\n      this.fetchUserData().then(function (data) {\n        callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n\n    if (this.isFetchUserDataAndTokenRequired(params)) {\n      this.fetchUserData().then(function (data) {\n        return _this12.refreshSessionIfPossible().then(function () {\n          return data;\n        });\n      }).then(function (data) {\n        return callback(null, data);\n      })[\"catch\"](callback);\n      return;\n    }\n\n    try {\n      callback(null, JSON.parse(userData));\n      return;\n    } catch (err) {\n      this.clearCachedUserData();\n      callback(err, null);\n      return;\n    }\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.getUserDataFromCache = function getUserDataFromCache() {\n    var userData = this.storage.getItem(this.userDataKey);\n    return userData;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.isFetchUserDataAndTokenRequired = function isFetchUserDataAndTokenRequired(params) {\n    var _ref = params || {},\n        _ref$bypassCache = _ref.bypassCache,\n        bypassCache = _ref$bypassCache === void 0 ? false : _ref$bypassCache;\n\n    return bypassCache;\n  }\n  /**\n   *\n   * PRIVATE ONLY: This is an internal only method and should not\n   * be directly called by the consumers.\n   */\n  ;\n\n  _proto.fetchUserData = function fetchUserData() {\n    var _this13 = this;\n\n    return this.createGetUserRequest().then(function (data) {\n      _this13.cacheUserData(data);\n\n      return data;\n    });\n  }\n  /**\n   * This is used by an authenticated user to delete a list of attributes\n   * @param {string[]} attributeList Names of the attributes to delete.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.deleteAttributes = function deleteAttributes(attributeList, callback) {\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      return callback(new Error('User is not authenticated'), null);\n    }\n\n    this.client.request('DeleteUserAttributes', {\n      UserAttributeNames: attributeList,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, 'SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used by a user to resend a confirmation code\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.resendConfirmationCode = function resendConfirmationCode(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n    this.client.request('ResendConfirmationCode', jsonReq, function (err, result) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      return callback(null, result);\n    });\n  }\n  /**\n   * This is used to get a session, either from the session object\n   * or from  the local storage, or by using a refresh token\n   *\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getSession = function getSession(callback) {\n    if (this.username == null) {\n      return callback(new Error('Username is null. Cannot retrieve a new session'), null);\n    }\n\n    if (this.signInUserSession != null && this.signInUserSession.isValid()) {\n      return callback(null, this.signInUserSession);\n    }\n\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var idTokenKey = keyPrefix + \".idToken\";\n    var accessTokenKey = keyPrefix + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".clockDrift\";\n\n    if (this.storage.getItem(idTokenKey)) {\n      var idToken = new CognitoIdToken({\n        IdToken: this.storage.getItem(idTokenKey)\n      });\n      var accessToken = new CognitoAccessToken({\n        AccessToken: this.storage.getItem(accessTokenKey)\n      });\n      var refreshToken = new CognitoRefreshToken({\n        RefreshToken: this.storage.getItem(refreshTokenKey)\n      });\n      var clockDrift = parseInt(this.storage.getItem(clockDriftKey), 0) || 0;\n      var sessionData = {\n        IdToken: idToken,\n        AccessToken: accessToken,\n        RefreshToken: refreshToken,\n        ClockDrift: clockDrift\n      };\n      var cachedSession = new CognitoUserSession(sessionData);\n\n      if (cachedSession.isValid()) {\n        this.signInUserSession = cachedSession;\n        return callback(null, this.signInUserSession);\n      }\n\n      if (!refreshToken.getToken()) {\n        return callback(new Error('Cannot retrieve a new session. Please authenticate.'), null);\n      }\n\n      this.refreshSession(refreshToken, callback);\n    } else {\n      callback(new Error('Local storage is missing an ID Token, Please authenticate'), null);\n    }\n\n    return undefined;\n  }\n  /**\n   * This uses the refreshToken to retrieve a new session\n   * @param {CognitoRefreshToken} refreshToken A previous session's refresh token.\n   * @param {nodeCallback<CognitoUserSession>} callback Called on success or error.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.refreshSession = function refreshSession(refreshToken, callback, clientMetadata) {\n    var _this14 = this;\n\n    var authParameters = {};\n    authParameters.REFRESH_TOKEN = refreshToken.getToken();\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n\n    if (this.storage.getItem(lastUserKey)) {\n      this.username = this.storage.getItem(lastUserKey);\n      var deviceKeyKey = keyPrefix + \".\" + this.username + \".deviceKey\";\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      authParameters.DEVICE_KEY = this.deviceKey;\n    }\n\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      AuthFlow: 'REFRESH_TOKEN_AUTH',\n      AuthParameters: authParameters,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('InitiateAuth', jsonReq, function (err, authResult) {\n      if (err) {\n        if (err.code === 'NotAuthorizedException') {\n          _this14.clearCachedUser();\n        }\n\n        return callback(err, null);\n      }\n\n      if (authResult) {\n        var authenticationResult = authResult.AuthenticationResult;\n\n        if (!Object.prototype.hasOwnProperty.call(authenticationResult, 'RefreshToken')) {\n          authenticationResult.RefreshToken = refreshToken.getToken();\n        }\n\n        _this14.signInUserSession = _this14.getCognitoUserSession(authenticationResult);\n\n        _this14.cacheTokens();\n\n        return callback(null, _this14.signInUserSession);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This is used to save the session tokens to local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheTokens = function cacheTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    this.storage.setItem(idTokenKey, this.signInUserSession.getIdToken().getJwtToken());\n    this.storage.setItem(accessTokenKey, this.signInUserSession.getAccessToken().getJwtToken());\n    this.storage.setItem(refreshTokenKey, this.signInUserSession.getRefreshToken().getToken());\n    this.storage.setItem(clockDriftKey, \"\" + this.signInUserSession.getClockDrift());\n    this.storage.setItem(lastUserKey, this.username);\n  }\n  /**\n   * This is to cache user data\n   */\n  ;\n\n  _proto.cacheUserData = function cacheUserData(userData) {\n    this.storage.setItem(this.userDataKey, JSON.stringify(userData));\n  }\n  /**\n   * This is to remove cached user data\n   */\n  ;\n\n  _proto.clearCachedUserData = function clearCachedUserData() {\n    this.storage.removeItem(this.userDataKey);\n  };\n\n  _proto.clearCachedUser = function clearCachedUser() {\n    this.clearCachedTokens();\n    this.clearCachedUserData();\n  }\n  /**\n   * This is used to cache the device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.cacheDeviceKeyAndPassword = function cacheDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.setItem(deviceKeyKey, this.deviceKey);\n    this.storage.setItem(randomPasswordKey, this.randomPassword);\n    this.storage.setItem(deviceGroupKeyKey, this.deviceGroupKey);\n  }\n  /**\n   * This is used to get current device key and device group and device password\n   * @returns {void}\n   */\n  ;\n\n  _proto.getCachedDeviceKeyAndPassword = function getCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n\n    if (this.storage.getItem(deviceKeyKey)) {\n      this.deviceKey = this.storage.getItem(deviceKeyKey);\n      this.randomPassword = this.storage.getItem(randomPasswordKey);\n      this.deviceGroupKey = this.storage.getItem(deviceGroupKeyKey);\n    }\n  }\n  /**\n   * This is used to clear the device key info from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedDeviceKeyAndPassword = function clearCachedDeviceKeyAndPassword() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId() + \".\" + this.username;\n    var deviceKeyKey = keyPrefix + \".deviceKey\";\n    var randomPasswordKey = keyPrefix + \".randomPasswordKey\";\n    var deviceGroupKeyKey = keyPrefix + \".deviceGroupKey\";\n    this.storage.removeItem(deviceKeyKey);\n    this.storage.removeItem(randomPasswordKey);\n    this.storage.removeItem(deviceGroupKeyKey);\n  }\n  /**\n   * This is used to clear the session tokens from local storage\n   * @returns {void}\n   */\n  ;\n\n  _proto.clearCachedTokens = function clearCachedTokens() {\n    var keyPrefix = \"CognitoIdentityServiceProvider.\" + this.pool.getClientId();\n    var idTokenKey = keyPrefix + \".\" + this.username + \".idToken\";\n    var accessTokenKey = keyPrefix + \".\" + this.username + \".accessToken\";\n    var refreshTokenKey = keyPrefix + \".\" + this.username + \".refreshToken\";\n    var lastUserKey = keyPrefix + \".LastAuthUser\";\n    var clockDriftKey = keyPrefix + \".\" + this.username + \".clockDrift\";\n    this.storage.removeItem(idTokenKey);\n    this.storage.removeItem(accessTokenKey);\n    this.storage.removeItem(refreshTokenKey);\n    this.storage.removeItem(lastUserKey);\n    this.storage.removeItem(clockDriftKey);\n  }\n  /**\n   * This is used to build a user session from tokens retrieved in the authentication result\n   * @param {object} authResult Successful auth response from server.\n   * @returns {CognitoUserSession} The new user session.\n   * @private\n   */\n  ;\n\n  _proto.getCognitoUserSession = function getCognitoUserSession(authResult) {\n    var idToken = new CognitoIdToken(authResult);\n    var accessToken = new CognitoAccessToken(authResult);\n    var refreshToken = new CognitoRefreshToken(authResult);\n    var sessionData = {\n      IdToken: idToken,\n      AccessToken: accessToken,\n      RefreshToken: refreshToken\n    };\n    return new CognitoUserSession(sessionData);\n  }\n  /**\n   * This is used to initiate a forgot password request\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode?} callback.inputVerificationCode\n   *    Optional callback raised instead of onSuccess with response data.\n   * @param {onSuccess} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgotPassword = function forgotPassword(callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ForgotPassword', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess(data);\n    });\n  }\n  /**\n   * This is used to confirm a new password using a confirmationCode\n   * @param {string} confirmationCode Code entered by user.\n   * @param {string} newPassword Confirm new password.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<void>} callback.onSuccess Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.confirmPassword = function confirmPassword(confirmationCode, newPassword, callback, clientMetadata) {\n    var jsonReq = {\n      ClientId: this.pool.getClientId(),\n      Username: this.username,\n      ConfirmationCode: confirmationCode,\n      Password: newPassword,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('ConfirmForgotPassword', jsonReq, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess();\n    });\n  }\n  /**\n   * This is used to initiate an attribute confirmation request\n   * @param {string} attributeName User attribute that needs confirmation.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {inputVerificationCode} callback.inputVerificationCode Called on success.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.getAttributeVerificationCode = function getAttributeVerificationCode(attributeName, callback, clientMetadata) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetUserAttributeVerificationCode', {\n      AttributeName: attributeName,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      ClientMetadata: clientMetadata\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      if (typeof callback.inputVerificationCode === 'function') {\n        return callback.inputVerificationCode(data);\n      }\n\n      return callback.onSuccess();\n    });\n    return undefined;\n  }\n  /**\n   * This is used to confirm an attribute using a confirmation code\n   * @param {string} attributeName Attribute being confirmed.\n   * @param {string} confirmationCode Code entered by user.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifyAttribute = function verifyAttribute(attributeName, confirmationCode, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('VerifyUserAttribute', {\n      AttributeName: attributeName,\n      Code: confirmationCode,\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to get the device information using the current device key\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device data.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getDevice = function getDevice(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget a specific device\n   * @param {string} deviceKey Device key.\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetSpecificDevice = function forgetSpecificDevice(deviceKey, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ForgetDevice', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: deviceKey\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to forget the current device\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.forgetDevice = function forgetDevice(callback) {\n    var _this15 = this;\n\n    this.forgetSpecificDevice(this.deviceKey, {\n      onFailure: callback.onFailure,\n      onSuccess: function onSuccess(result) {\n        _this15.deviceKey = null;\n        _this15.deviceGroupKey = null;\n        _this15.randomPassword = null;\n\n        _this15.clearCachedDeviceKeyAndPassword();\n\n        return callback.onSuccess(result);\n      }\n    });\n  }\n  /**\n   * This is used to set the device status as remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusRemembered = function setDeviceStatusRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to set the device status as not remembered\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.setDeviceStatusNotRemembered = function setDeviceStatusNotRemembered(callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('UpdateDeviceStatus', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      DeviceKey: this.deviceKey,\n      DeviceRememberedStatus: 'not_remembered'\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used to list all devices for a user\n   *\n   * @param {int} limit the number of devices returned in a call\n   * @param {string} paginationToken the pagination token in case any was returned before\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<*>} callback.onSuccess Called on success with device list.\n   * @returns {void}\n   */\n  ;\n\n  _proto.listDevices = function listDevices(limit, paginationToken, callback) {\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('ListDevices', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n      Limit: limit,\n      PaginationToken: paginationToken\n    }, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      return callback.onSuccess(data);\n    });\n    return undefined;\n  }\n  /**\n   * This is used to globally revoke all tokens issued to a user\n   * @param {object} callback Result callback map.\n   * @param {onFailure} callback.onFailure Called on any error.\n   * @param {onSuccess<string>} callback.onSuccess Called on success.\n   * @returns {void}\n   */\n  ;\n\n  _proto.globalSignOut = function globalSignOut(callback) {\n    var _this16 = this;\n\n    if (this.signInUserSession == null || !this.signInUserSession.isValid()) {\n      return callback.onFailure(new Error('User is not authenticated'));\n    }\n\n    this.client.request('GlobalSignOut', {\n      AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n    }, function (err) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this16.clearCachedUser();\n\n      return callback.onSuccess('SUCCESS');\n    });\n    return undefined;\n  }\n  /**\n   * This is used for the user to signOut of the application and clear the cached tokens.\n   * @returns {void}\n   */\n  ;\n\n  _proto.signOut = function signOut() {\n    this.signInUserSession = null;\n    this.clearCachedUser();\n  }\n  /**\n   * This is used by a user trying to select a given MFA\n   * @param {string} answerChallenge the mfa the user wants\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.sendMFASelectionAnswer = function sendMFASelectionAnswer(answerChallenge, callback) {\n    var _this17 = this;\n\n    var challengeResponses = {};\n    challengeResponses.USERNAME = this.username;\n    challengeResponses.ANSWER = answerChallenge;\n    var jsonReq = {\n      ChallengeName: 'SELECT_MFA_TYPE',\n      ChallengeResponses: challengeResponses,\n      ClientId: this.pool.getClientId(),\n      Session: this.Session\n    };\n\n    if (this.getUserContextData()) {\n      jsonReq.UserContextData = this.getUserContextData();\n    }\n\n    this.client.request('RespondToAuthChallenge', jsonReq, function (err, data) {\n      if (err) {\n        return callback.onFailure(err);\n      }\n\n      _this17.Session = data.Session;\n\n      if (answerChallenge === 'SMS_MFA') {\n        return callback.mfaRequired(data.challengeName, data.challengeParameters);\n      }\n\n      if (answerChallenge === 'SOFTWARE_TOKEN_MFA') {\n        return callback.totpRequired(data.challengeName, data.challengeParameters);\n      }\n\n      return undefined;\n    });\n  }\n  /**\n   * This returns the user context data for advanced security feature.\n   * @returns {void}\n   */\n  ;\n\n  _proto.getUserContextData = function getUserContextData() {\n    var pool = this.pool;\n    return pool.getUserContextData(this.username);\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to associate a TOTP MFA\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.associateSoftwareToken = function associateSoftwareToken(callback) {\n    var _this18 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('AssociateSoftwareToken', {\n        Session: this.Session\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this18.Session = data.Session;\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    } else {\n      this.client.request('AssociateSoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken()\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.associateSecretCode(data.SecretCode);\n      });\n    }\n  }\n  /**\n   * This is used by an authenticated or a user trying to authenticate to verify a TOTP MFA\n   * @param {string} totpCode The MFA code entered by the user.\n   * @param {string} friendlyDeviceName The device name we are assigning to the device.\n   * @param {nodeCallback<string>} callback Called on success or error.\n   * @returns {void}\n   */\n  ;\n\n  _proto.verifySoftwareToken = function verifySoftwareToken(totpCode, friendlyDeviceName, callback) {\n    var _this19 = this;\n\n    if (!(this.signInUserSession != null && this.signInUserSession.isValid())) {\n      this.client.request('VerifySoftwareToken', {\n        Session: this.Session,\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        _this19.Session = data.Session;\n        var challengeResponses = {};\n        challengeResponses.USERNAME = _this19.username;\n        var jsonReq = {\n          ChallengeName: 'MFA_SETUP',\n          ClientId: _this19.pool.getClientId(),\n          ChallengeResponses: challengeResponses,\n          Session: _this19.Session\n        };\n\n        if (_this19.getUserContextData()) {\n          jsonReq.UserContextData = _this19.getUserContextData();\n        }\n\n        _this19.client.request('RespondToAuthChallenge', jsonReq, function (errRespond, dataRespond) {\n          if (errRespond) {\n            return callback.onFailure(errRespond);\n          }\n\n          _this19.signInUserSession = _this19.getCognitoUserSession(dataRespond.AuthenticationResult);\n\n          _this19.cacheTokens();\n\n          return callback.onSuccess(_this19.signInUserSession);\n        });\n\n        return undefined;\n      });\n    } else {\n      this.client.request('VerifySoftwareToken', {\n        AccessToken: this.signInUserSession.getAccessToken().getJwtToken(),\n        UserCode: totpCode,\n        FriendlyDeviceName: friendlyDeviceName\n      }, function (err, data) {\n        if (err) {\n          return callback.onFailure(err);\n        }\n\n        return callback.onSuccess(data);\n      });\n    }\n  };\n\n  return CognitoUser;\n}();\n\nexport { CognitoUser as default };","// constructor\nfunction UserAgent() {} // public\n\n\nUserAgent.prototype.userAgent = 'aws-amplify/0.1.x js';\nexport var appendToCognitoUserAgent = function appendToCognitoUserAgent(content) {\n  if (!content) {\n    return;\n  }\n\n  if (UserAgent.prototype.userAgent && !UserAgent.prototype.userAgent.includes(content)) {\n    UserAgent.prototype.userAgent = UserAgent.prototype.userAgent.concat(' ', content);\n  }\n\n  if (!UserAgent.prototype.userAgent || UserAgent.prototype.userAgent === '') {\n    UserAgent.prototype.userAgent = content;\n  }\n}; // class for defining the amzn user-agent\n\nexport default UserAgent;","function _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nimport UserAgent from './UserAgent';\n\nvar CognitoError = /*#__PURE__*/function (_Error) {\n  _inheritsLoose(CognitoError, _Error);\n\n  function CognitoError(message, code, name, statusCode) {\n    var _this;\n\n    _this = _Error.call(this, message) || this;\n    _this.code = code;\n    _this.name = name;\n    _this.statusCode = statusCode;\n    return _this;\n  }\n\n  return CognitoError;\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/** @class */\n\n\nvar Client = /*#__PURE__*/function () {\n  /**\n   * Constructs a new AWS Cognito Identity Provider client object\n   * @param {string} region AWS region\n   * @param {string} endpoint endpoint\n   * @param {object} fetchOptions options for fetch API (only credentials is supported)\n   */\n  function Client(region, endpoint, fetchOptions) {\n    this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n\n    var _ref = fetchOptions || {},\n        credentials = _ref.credentials;\n\n    this.fetchOptions = credentials ? {\n      credentials: credentials\n    } : {};\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @returns Promise<object>\n   */\n\n\n  var _proto = Client.prototype;\n\n  _proto.promisifyRequest = function promisifyRequest(operation, params) {\n    var _this2 = this;\n\n    return new Promise(function (resolve, reject) {\n      _this2.request(operation, params, function (err, data) {\n        if (err) {\n          reject(new CognitoError(err.message, err.code, err.name, err.statusCode));\n        } else {\n          resolve(data);\n        }\n      });\n    });\n  }\n  /**\n   * Makes an unauthenticated request on AWS Cognito Identity Provider API\n   * using fetch\n   * @param {string} operation API operation\n   * @param {object} params Input parameters\n   * @param {function} callback Callback called when a response is returned\n   * @returns {void}\n   */\n  ;\n\n  _proto.request = function request(operation, params, callback) {\n    var headers = {\n      'Content-Type': 'application/x-amz-json-1.1',\n      'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n      'X-Amz-User-Agent': UserAgent.prototype.userAgent\n    };\n    var options = Object.assign({}, this.fetchOptions, {\n      headers: headers,\n      method: 'POST',\n      mode: 'cors',\n      cache: 'no-cache',\n      body: JSON.stringify(params)\n    });\n    var response;\n    var responseJsonData;\n    fetch(this.endpoint, options).then(function (resp) {\n      response = resp;\n      return resp;\n    }, function (err) {\n      // If error happens here, the request failed\n      // if it is TypeError throw network error\n      if (err instanceof TypeError) {\n        throw new Error('Network error');\n      }\n\n      throw err;\n    }).then(function (resp) {\n      return resp.json()[\"catch\"](function () {\n        return {};\n      });\n    }).then(function (data) {\n      // return parsed body stream\n      if (response.ok) return callback(null, data);\n      responseJsonData = data; // Taken from aws-sdk-js/lib/protocol/json.js\n      // eslint-disable-next-line no-underscore-dangle\n\n      var code = (data.__type || data.code).split('#').pop();\n      var error = {\n        code: code,\n        name: code,\n        message: data.message || data.Message || null\n      };\n      return callback(error);\n    })[\"catch\"](function (err) {\n      // first check if we have a service error\n      if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n        try {\n          var code = response.headers.get('x-amzn-errortype').split(':')[0];\n          var error = {\n            code: code,\n            name: code,\n            statusCode: response.status,\n            message: response.status ? response.status.toString() : null\n          };\n          return callback(error);\n        } catch (ex) {\n          return callback(err);\n        } // otherwise check if error is Network error\n\n      } else if (err instanceof Error && err.message === 'Network error') {\n        var _error = {\n          code: 'NetworkError',\n          name: err.name,\n          message: err.message\n        };\n        return callback(_error);\n      } else {\n        return callback(err);\n      }\n    });\n  };\n\n  return Client;\n}();\n\nexport { Client as default };","/*!\n * Copyright 2016 Amazon.com,\n * Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the\n * License. A copy of the License is located at\n *\n *     http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is\n * distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR\n * CONDITIONS OF ANY KIND, express or implied. See the License\n * for the specific language governing permissions and\n * limitations under the License.\n */\nimport Client from './Client';\nimport CognitoUser from './CognitoUser';\nimport StorageHelper from './StorageHelper';\n/** @class */\n\nvar CognitoUserPool = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CognitoUserPool object\n   * @param {object} data Creation options.\n   * @param {string} data.UserPoolId Cognito user pool id.\n   * @param {string} data.ClientId User pool application client id.\n   * @param {string} data.endpoint Optional custom service endpoint.\n   * @param {object} data.fetchOptions Optional options for fetch API.\n   *        (only credentials option is supported)\n   * @param {object} data.Storage Optional storage object.\n   * @param {boolean} data.AdvancedSecurityDataCollectionFlag Optional:\n   *        boolean flag indicating if the data collection is enabled\n   *        to support cognito advanced security features. By default, this\n   *        flag is set to true.\n   */\n  function CognitoUserPool(data) {\n    var _ref = data || {},\n        UserPoolId = _ref.UserPoolId,\n        ClientId = _ref.ClientId,\n        endpoint = _ref.endpoint,\n        fetchOptions = _ref.fetchOptions,\n        AdvancedSecurityDataCollectionFlag = _ref.AdvancedSecurityDataCollectionFlag;\n\n    if (!UserPoolId || !ClientId) {\n      throw new Error('Both UserPoolId and ClientId are required.');\n    }\n\n    if (!/^[\\w-]+_.+$/.test(UserPoolId)) {\n      throw new Error('Invalid UserPoolId format.');\n    }\n\n    var region = UserPoolId.split('_')[0];\n    this.userPoolId = UserPoolId;\n    this.clientId = ClientId;\n    this.client = new Client(region, endpoint, fetchOptions);\n    /**\n     * By default, AdvancedSecurityDataCollectionFlag is set to true,\n     * if no input value is provided.\n     */\n\n    this.advancedSecurityDataCollectionFlag = AdvancedSecurityDataCollectionFlag !== false;\n    this.storage = data.Storage || new StorageHelper().getStorage();\n  }\n  /**\n   * @returns {string} the user pool id\n   */\n\n\n  var _proto = CognitoUserPool.prototype;\n\n  _proto.getUserPoolId = function getUserPoolId() {\n    return this.userPoolId;\n  }\n  /**\n   * @returns {string} the client id\n   */\n  ;\n\n  _proto.getClientId = function getClientId() {\n    return this.clientId;\n  }\n  /**\n   * @typedef {object} SignUpResult\n   * @property {CognitoUser} user New user.\n   * @property {bool} userConfirmed If the user is already confirmed.\n   */\n\n  /**\n   * method for signing up a user\n   * @param {string} username User's username.\n   * @param {string} password Plain-text initial password entered by user.\n   * @param {(AttributeArg[])=} userAttributes New user attributes.\n   * @param {(AttributeArg[])=} validationData Application metadata.\n   * @param {(AttributeArg[])=} clientMetadata Client metadata.\n   * @param {nodeCallback<SignUpResult>} callback Called on error or with the new user.\n   * @param {ClientMetadata} clientMetadata object which is passed from client to Cognito Lambda trigger\n   * @returns {void}\n   */\n  ;\n\n  _proto.signUp = function signUp(username, password, userAttributes, validationData, callback, clientMetadata) {\n    var _this = this;\n\n    var jsonReq = {\n      ClientId: this.clientId,\n      Username: username,\n      Password: password,\n      UserAttributes: userAttributes,\n      ValidationData: validationData,\n      ClientMetadata: clientMetadata\n    };\n\n    if (this.getUserContextData(username)) {\n      jsonReq.UserContextData = this.getUserContextData(username);\n    }\n\n    this.client.request('SignUp', jsonReq, function (err, data) {\n      if (err) {\n        return callback(err, null);\n      }\n\n      var cognitoUser = {\n        Username: username,\n        Pool: _this,\n        Storage: _this.storage\n      };\n      var returnData = {\n        user: new CognitoUser(cognitoUser),\n        userConfirmed: data.UserConfirmed,\n        userSub: data.UserSub,\n        codeDeliveryDetails: data.CodeDeliveryDetails\n      };\n      return callback(null, returnData);\n    });\n  }\n  /**\n   * method for getting the current user of the application from the local storage\n   *\n   * @returns {CognitoUser} the user retrieved from storage\n   */\n  ;\n\n  _proto.getCurrentUser = function getCurrentUser() {\n    var lastUserKey = \"CognitoIdentityServiceProvider.\" + this.clientId + \".LastAuthUser\";\n    var lastAuthUser = this.storage.getItem(lastUserKey);\n\n    if (lastAuthUser) {\n      var cognitoUser = {\n        Username: lastAuthUser,\n        Pool: this,\n        Storage: this.storage\n      };\n      return new CognitoUser(cognitoUser);\n    }\n\n    return null;\n  }\n  /**\n   * This method returns the encoded data string used for cognito advanced security feature.\n   * This would be generated only when developer has included the JS used for collecting the\n   * data on their client. Please refer to documentation to know more about using AdvancedSecurity\n   * features\n   * @param {string} username the username for the context data\n   * @returns {string} the user context data\n   **/\n  ;\n\n  _proto.getUserContextData = function getUserContextData(username) {\n    if (typeof AmazonCognitoAdvancedSecurityData === 'undefined') {\n      return undefined;\n    }\n    /* eslint-disable */\n\n\n    var amazonCognitoAdvancedSecurityDataConst = AmazonCognitoAdvancedSecurityData;\n    /* eslint-enable */\n\n    if (this.advancedSecurityDataCollectionFlag) {\n      var advancedSecurityData = amazonCognitoAdvancedSecurityDataConst.getData(username, this.userPoolId, this.clientId);\n\n      if (advancedSecurityData) {\n        var userContextData = {\n          EncodedData: advancedSecurityData\n        };\n        return userContextData;\n      }\n    }\n\n    return {};\n  };\n\n  return CognitoUserPool;\n}();\n\nexport { CognitoUserPool as default };","import * as Cookies from 'js-cookie';\n/** @class */\n\nvar CookieStorage = /*#__PURE__*/function () {\n  /**\n   * Constructs a new CookieStorage object\n   * @param {object} data Creation options.\n   * @param {string} data.domain Cookies domain (mandatory).\n   * @param {string} data.path Cookies path (default: '/')\n   * @param {integer} data.expires Cookie expiration (in days, default: 365)\n   * @param {boolean} data.secure Cookie secure flag (default: true)\n   */\n  function CookieStorage(data) {\n    if (data.domain) {\n      this.domain = data.domain;\n    } else {\n      throw new Error('The domain of cookieStorage can not be undefined.');\n    }\n\n    if (data.path) {\n      this.path = data.path;\n    } else {\n      this.path = '/';\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'expires')) {\n      this.expires = data.expires;\n    } else {\n      this.expires = 365;\n    }\n\n    if (Object.prototype.hasOwnProperty.call(data, 'secure')) {\n      this.secure = data.secure;\n    } else {\n      this.secure = true;\n    }\n  }\n  /**\n   * This is used to set a specific item in storage\n   * @param {string} key - the key for the item\n   * @param {object} value - the value\n   * @returns {string} value that was set\n   */\n\n\n  var _proto = CookieStorage.prototype;\n\n  _proto.setItem = function setItem(key, value) {\n    Cookies.set(key, value, {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure\n    });\n    return Cookies.get(key);\n  }\n  /**\n   * This is used to get a specific key from storage\n   * @param {string} key - the key for the item\n   * This is used to clear the storage\n   * @returns {string} the data item\n   */\n  ;\n\n  _proto.getItem = function getItem(key) {\n    return Cookies.get(key);\n  }\n  /**\n   * This is used to remove an item from storage\n   * @param {string} key - the key being set\n   * @returns {string} value - value that was deleted\n   */\n  ;\n\n  _proto.removeItem = function removeItem(key) {\n    return Cookies.remove(key, {\n      path: this.path,\n      domain: this.domain,\n      secure: this.secure\n    });\n  }\n  /**\n   * This is used to clear the storage\n   * @returns {string} nothing\n   */\n  ;\n\n  _proto.clear = function clear() {\n    var cookies = Cookies.get();\n    var index;\n\n    for (index = 0; index < cookies.length; ++index) {\n      Cookies.remove(cookies[index]);\n    }\n\n    return {};\n  };\n\n  return CookieStorage;\n}();\n\nexport { CookieStorage as default };"],"sourceRoot":""}